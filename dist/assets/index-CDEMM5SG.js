(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Za(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const nt={},pn=[],rs=()=>{},Vc=()=>!1,ni=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),er=e=>e.startsWith("onUpdate:"),ht=Object.assign,tr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},vh=Object.prototype.hasOwnProperty,Ye=(e,t)=>vh.call(e,t),Oe=Array.isArray,vn=e=>ro(e)==="[object Map]",oi=e=>ro(e)==="[object Set]",Kr=e=>ro(e)==="[object Date]",De=e=>typeof e=="function",ct=e=>typeof e=="string",Kt=e=>typeof e=="symbol",st=e=>e!==null&&typeof e=="object",jc=e=>(st(e)||De(e))&&De(e.then)&&De(e.catch),Kc=Object.prototype.toString,ro=e=>Kc.call(e),mh=e=>ro(e).slice(8,-1),Wc=e=>ro(e)==="[object Object]",ii=e=>ct(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bn=Za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ai=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},gh=/-\w/g,Dt=ai(e=>e.replace(gh,t=>t.slice(1).toUpperCase())),yh=/\B([A-Z])/g,qs=ai(e=>e.replace(yh,"-$1").toLowerCase()),ri=ai(e=>e.charAt(0).toUpperCase()+e.slice(1)),Di=ai(e=>e?`on${ri(e)}`:""),Hs=(e,t)=>!Object.is(e,t),Mo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},zc=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},li=e=>{const t=parseFloat(e);return isNaN(t)?e:t},bh=e=>{const t=ct(e)?Number(e):NaN;return isNaN(t)?e:t};let Wr;const ci=()=>Wr||(Wr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pe(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=ct(o)?Ch(o):Pe(o);if(i)for(const a in i)t[a]=i[a]}return t}else if(ct(e)||st(e))return e}const _h=/;(?![^(]*\))/g,wh=/:([^]+)/,$h=/\/\*[^]*?\*\//g;function Ch(e){const t={};return e.replace($h,"").split(_h).forEach(n=>{if(n){const o=n.split(wh);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function X(e){let t="";if(ct(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const o=X(e[n]);o&&(t+=o+" ")}else if(st(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Th="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Eh=Za(Th);function Xc(e){return!!e||e===""}function kh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ui(e[o],t[o]);return n}function ui(e,t){if(e===t)return!0;let n=Kr(e),o=Kr(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Kt(e),o=Kt(t),n||o)return e===t;if(n=Oe(e),o=Oe(t),n||o)return n&&o?kh(e,t):!1;if(n=st(e),o=st(t),n||o){if(!n||!o)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const r in e){const l=e.hasOwnProperty(r),c=t.hasOwnProperty(r);if(l&&!c||!l&&c||!ui(e[r],t[r]))return!1}}return String(e)===String(t)}function Sh(e,t){return e.findIndex(n=>ui(n,t))}const Yc=e=>!!(e&&e.__v_isRef===!0),_=e=>ct(e)?e:e==null?"":Oe(e)||st(e)&&(e.toString===Kc||!De(e.toString))?Yc(e)?_(e.value):JSON.stringify(e,Jc,2):String(e),Jc=(e,t)=>Yc(t)?Jc(e,t.value):vn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,i],a)=>(n[Bi(o,a)+" =>"]=i,n),{})}:oi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Bi(n))}:Kt(t)?Bi(t):st(t)&&!Oe(t)&&!Wc(t)?String(t):t,Bi=(e,t="")=>{var n;return Kt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gt;class Qc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=gt,!t&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=gt;try{return gt=this,t()}finally{gt=n}}}on(){++this._on===1&&(this.prevScope=gt,gt=this)}off(){this._on>0&&--this._on===0&&(gt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Zc(e){return new Qc(e)}function eu(){return gt}function Ih(e,t=!1){gt&&gt.cleanups.push(e)}let ot;const qi=new WeakSet;class tu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,gt&&gt.active&&gt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qi.has(this)&&(qi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||nu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,zr(this),ou(this);const t=ot,n=jt;ot=this,jt=!0;try{return this.fn()}finally{iu(this),ot=t,jt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)or(t);this.deps=this.depsTail=void 0,zr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ga(this)&&this.run()}get dirty(){return ga(this)}}let su=0,qn,Fn;function nu(e,t=!1){if(e.flags|=8,t){e.next=Fn,Fn=e;return}e.next=qn,qn=e}function sr(){su++}function nr(){if(--su>0)return;if(Fn){let t=Fn;for(Fn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;qn;){let t=qn;for(qn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function ou(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function iu(e){let t,n=e.depsTail,o=n;for(;o;){const i=o.prevDep;o.version===-1?(o===n&&(n=i),or(o),xh(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}e.deps=t,e.depsTail=n}function ga(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(au(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function au(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yn)||(e.globalVersion=Yn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ga(e))))return;e.flags|=2;const t=e.dep,n=ot,o=jt;ot=e,jt=!0;try{ou(e);const i=e.fn(e._value);(t.version===0||Hs(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{ot=n,jt=o,iu(e),e.flags&=-3}}function or(e,t=!1){const{dep:n,prevSub:o,nextSub:i}=e;if(o&&(o.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)or(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function xh(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let jt=!0;const ru=[];function Cs(){ru.push(jt),jt=!1}function Ts(){const e=ru.pop();jt=e===void 0?!0:e}function zr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ot;ot=void 0;try{t()}finally{ot=n}}}let Yn=0;class Nh{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ir{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ot||!jt||ot===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ot)n=this.activeLink=new Nh(ot,this),ot.deps?(n.prevDep=ot.depsTail,ot.depsTail.nextDep=n,ot.depsTail=n):ot.deps=ot.depsTail=n,lu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ot.depsTail,n.nextDep=void 0,ot.depsTail.nextDep=n,ot.depsTail=n,ot.deps===n&&(ot.deps=o)}return n}trigger(t){this.version++,Yn++,this.notify(t)}notify(t){sr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{nr()}}}function lu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)lu(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Vo=new WeakMap,en=Symbol(""),ya=Symbol(""),Jn=Symbol("");function yt(e,t,n){if(jt&&ot){let o=Vo.get(e);o||Vo.set(e,o=new Map);let i=o.get(n);i||(o.set(n,i=new ir),i.map=o,i.key=n),i.track()}}function bs(e,t,n,o,i,a){const r=Vo.get(e);if(!r){Yn++;return}const l=c=>{c&&c.trigger()};if(sr(),t==="clear")r.forEach(l);else{const c=Oe(e),f=c&&ii(n);if(c&&n==="length"){const u=Number(o);r.forEach((d,h)=>{(h==="length"||h===Jn||!Kt(h)&&h>=u)&&l(d)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),f&&l(r.get(Jn)),t){case"add":c?f&&l(r.get("length")):(l(r.get(en)),vn(e)&&l(r.get(ya)));break;case"delete":c||(l(r.get(en)),vn(e)&&l(r.get(ya)));break;case"set":vn(e)&&l(r.get(en));break}}nr()}function Ah(e,t){const n=Vo.get(e);return n&&n.get(t)}function un(e){const t=je(e);return t===e?t:(yt(t,"iterate",Jn),Lt(e)?t:t.map(Wt))}function di(e){return yt(e=je(e),"iterate",Jn),e}function Ls(e,t){return Es(e)?ws(e)?bn(Wt(t)):bn(t):Wt(t)}const Rh={__proto__:null,[Symbol.iterator](){return Fi(this,Symbol.iterator,e=>Ls(this,e))},concat(...e){return un(this).concat(...e.map(t=>Oe(t)?un(t):t))},entries(){return Fi(this,"entries",e=>(e[1]=Ls(this,e[1]),e))},every(e,t){return ps(this,"every",e,t,void 0,arguments)},filter(e,t){return ps(this,"filter",e,t,n=>n.map(o=>Ls(this,o)),arguments)},find(e,t){return ps(this,"find",e,t,n=>Ls(this,n),arguments)},findIndex(e,t){return ps(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ps(this,"findLast",e,t,n=>Ls(this,n),arguments)},findLastIndex(e,t){return ps(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ps(this,"forEach",e,t,void 0,arguments)},includes(...e){return Gi(this,"includes",e)},indexOf(...e){return Gi(this,"indexOf",e)},join(e){return un(this).join(e)},lastIndexOf(...e){return Gi(this,"lastIndexOf",e)},map(e,t){return ps(this,"map",e,t,void 0,arguments)},pop(){return Rn(this,"pop")},push(...e){return Rn(this,"push",e)},reduce(e,...t){return Xr(this,"reduce",e,t)},reduceRight(e,...t){return Xr(this,"reduceRight",e,t)},shift(){return Rn(this,"shift")},some(e,t){return ps(this,"some",e,t,void 0,arguments)},splice(...e){return Rn(this,"splice",e)},toReversed(){return un(this).toReversed()},toSorted(e){return un(this).toSorted(e)},toSpliced(...e){return un(this).toSpliced(...e)},unshift(...e){return Rn(this,"unshift",e)},values(){return Fi(this,"values",e=>Ls(this,e))}};function Fi(e,t,n){const o=di(e),i=o[t]();return o!==e&&!Lt(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=n(a.value)),a}),i}const Lh=Array.prototype;function ps(e,t,n,o,i,a){const r=di(e),l=r!==e&&!Lt(e),c=r[t];if(c!==Lh[t]){const d=c.apply(e,a);return l?Wt(d):d}let f=n;r!==e&&(l?f=function(d,h){return n.call(this,Ls(e,d),h,e)}:n.length>2&&(f=function(d,h){return n.call(this,d,h,e)}));const u=c.call(r,f,o);return l&&i?i(u):u}function Xr(e,t,n,o){const i=di(e);let a=n;return i!==e&&(Lt(e)?n.length>3&&(a=function(r,l,c){return n.call(this,r,l,c,e)}):a=function(r,l,c){return n.call(this,r,Ls(e,l),c,e)}),i[t](a,...o)}function Gi(e,t,n){const o=je(e);yt(o,"iterate",Jn);const i=o[t](...n);return(i===-1||i===!1)&&fi(n[0])?(n[0]=je(n[0]),o[t](...n)):i}function Rn(e,t,n=[]){Cs(),sr();const o=je(e)[t].apply(e,n);return nr(),Ts(),o}const Oh=Za("__proto__,__v_isRef,__isVue"),cu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Kt));function Ph(e){Kt(e)||(e=String(e));const t=je(this);return yt(t,"has",e),t.hasOwnProperty(e)}class uu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return o===(i?a?jh:pu:a?hu:fu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=Oe(t);if(!i){let c;if(r&&(c=Rh[n]))return c;if(n==="hasOwnProperty")return Ph}const l=Reflect.get(t,n,lt(t)?t:o);if((Kt(n)?cu.has(n):Oh(n))||(i||yt(t,"get",n),a))return l;if(lt(l)){const c=r&&ii(n)?l:l.value;return i&&st(c)?_a(c):c}return st(l)?i?_a(l):Je(l):l}}class du extends uu{constructor(t=!1){super(!1,t)}set(t,n,o,i){let a=t[n];const r=Oe(t)&&ii(n);if(!this._isShallow){const f=Es(a);if(!Lt(o)&&!Es(o)&&(a=je(a),o=je(o)),!r&&lt(a)&&!lt(o))return f||(a.value=o),!0}const l=r?Number(n)<t.length:Ye(t,n),c=Reflect.set(t,n,o,lt(t)?t:i);return t===je(i)&&(l?Hs(o,a)&&bs(t,"set",n,o):bs(t,"add",n,o)),c}deleteProperty(t,n){const o=Ye(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&o&&bs(t,"delete",n,void 0),i}has(t,n){const o=Reflect.has(t,n);return(!Kt(n)||!cu.has(n))&&yt(t,"has",n),o}ownKeys(t){return yt(t,"iterate",Oe(t)?"length":en),Reflect.ownKeys(t)}}class Mh extends uu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Hh=new du,Uh=new Mh,Dh=new du(!0);const ba=e=>e,So=e=>Reflect.getPrototypeOf(e);function Bh(e,t,n){return function(...o){const i=this.__v_raw,a=je(i),r=vn(a),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,f=i[e](...o),u=n?ba:t?bn:Wt;return!t&&yt(a,"iterate",c?ya:en),{next(){const{value:d,done:h}=f.next();return h?{value:d,done:h}:{value:l?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Io(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qh(e,t){const n={get(i){const a=this.__v_raw,r=je(a),l=je(i);e||(Hs(i,l)&&yt(r,"get",i),yt(r,"get",l));const{has:c}=So(r),f=t?ba:e?bn:Wt;if(c.call(r,i))return f(a.get(i));if(c.call(r,l))return f(a.get(l));a!==r&&a.get(i)},get size(){const i=this.__v_raw;return!e&&yt(je(i),"iterate",en),i.size},has(i){const a=this.__v_raw,r=je(a),l=je(i);return e||(Hs(i,l)&&yt(r,"has",i),yt(r,"has",l)),i===l?a.has(i):a.has(i)||a.has(l)},forEach(i,a){const r=this,l=r.__v_raw,c=je(l),f=t?ba:e?bn:Wt;return!e&&yt(c,"iterate",en),l.forEach((u,d)=>i.call(a,f(u),f(d),r))}};return ht(n,e?{add:Io("add"),set:Io("set"),delete:Io("delete"),clear:Io("clear")}:{add(i){!t&&!Lt(i)&&!Es(i)&&(i=je(i));const a=je(this);return So(a).has.call(a,i)||(a.add(i),bs(a,"add",i,i)),this},set(i,a){!t&&!Lt(a)&&!Es(a)&&(a=je(a));const r=je(this),{has:l,get:c}=So(r);let f=l.call(r,i);f||(i=je(i),f=l.call(r,i));const u=c.call(r,i);return r.set(i,a),f?Hs(a,u)&&bs(r,"set",i,a):bs(r,"add",i,a),this},delete(i){const a=je(this),{has:r,get:l}=So(a);let c=r.call(a,i);c||(i=je(i),c=r.call(a,i)),l&&l.call(a,i);const f=a.delete(i);return c&&bs(a,"delete",i,void 0),f},clear(){const i=je(this),a=i.size!==0,r=i.clear();return a&&bs(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Bh(i,e,t)}),n}function ar(e,t){const n=qh(e,t);return(o,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(Ye(n,i)&&i in o?n:o,i,a)}const Fh={get:ar(!1,!1)},Gh={get:ar(!1,!0)},Vh={get:ar(!0,!1)};const fu=new WeakMap,hu=new WeakMap,pu=new WeakMap,jh=new WeakMap;function Kh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wh(e){return e.__v_skip||!Object.isExtensible(e)?0:Kh(mh(e))}function Je(e){return Es(e)?e:rr(e,!1,Hh,Fh,fu)}function vu(e){return rr(e,!1,Dh,Gh,hu)}function _a(e){return rr(e,!0,Uh,Vh,pu)}function rr(e,t,n,o,i){if(!st(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Wh(e);if(a===0)return e;const r=i.get(e);if(r)return r;const l=new Proxy(e,a===2?o:n);return i.set(e,l),l}function ws(e){return Es(e)?ws(e.__v_raw):!!(e&&e.__v_isReactive)}function Es(e){return!!(e&&e.__v_isReadonly)}function Lt(e){return!!(e&&e.__v_isShallow)}function fi(e){return e?!!e.__v_raw:!1}function je(e){const t=e&&e.__v_raw;return t?je(t):e}function lr(e){return!Ye(e,"__v_skip")&&Object.isExtensible(e)&&zc(e,"__v_skip",!0),e}const Wt=e=>st(e)?Je(e):e,bn=e=>st(e)?_a(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function M(e){return mu(e,!1)}function zh(e){return mu(e,!0)}function mu(e,t){return lt(e)?e:new Xh(e,t)}class Xh{constructor(t,n){this.dep=new ir,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:je(t),this._value=n?t:Wt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Lt(t)||Es(t);t=o?t:je(t),Hs(t,n)&&(this._rawValue=t,this._value=o?t:Wt(t),this.dep.trigger())}}function H(e){return lt(e)?e.value:e}const Yh={get:(e,t,n)=>t==="__v_raw"?e:H(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const i=e[t];return lt(i)&&!lt(n)?(i.value=n,!0):Reflect.set(e,t,n,o)}};function gu(e){return ws(e)?e:new Proxy(e,Yh)}function Jh(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=Zh(e,n);return t}class Qh{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=je(t);let i=!0,a=t;if(!Oe(t)||!ii(String(n)))do i=!fi(a)||Lt(a);while(i&&(a=a.__v_raw));this._shallow=i}get value(){let t=this._object[this._key];return this._shallow&&(t=H(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&lt(this._raw[this._key])){const n=this._object[this._key];if(lt(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return Ah(this._raw,this._key)}}function Zh(e,t,n){return new Qh(e,t,n)}class ep{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ir(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ot!==this)return nu(this,!0),!0}get value(){const t=this.dep.track();return au(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tp(e,t,n=!1){let o,i;return De(e)?o=e:(o=e.get,i=e.set),new ep(o,i,n)}const xo={},jo=new WeakMap;let zs;function sp(e,t=!1,n=zs){if(n){let o=jo.get(n);o||jo.set(n,o=[]),o.push(e)}}function np(e,t,n=nt){const{immediate:o,deep:i,once:a,scheduler:r,augmentJob:l,call:c}=n,f=j=>i?j:Lt(j)||i===!1||i===0?_s(j,1):_s(j);let u,d,h,y,p=!1,b=!1;if(lt(e)?(d=()=>e.value,p=Lt(e)):ws(e)?(d=()=>f(e),p=!0):Oe(e)?(b=!0,p=e.some(j=>ws(j)||Lt(j)),d=()=>e.map(j=>{if(lt(j))return j.value;if(ws(j))return f(j);if(De(j))return c?c(j,2):j()})):De(e)?t?d=c?()=>c(e,2):e:d=()=>{if(h){Cs();try{h()}finally{Ts()}}const j=zs;zs=u;try{return c?c(e,3,[y]):e(y)}finally{zs=j}}:d=rs,t&&i){const j=d,P=i===!0?1/0:i;d=()=>_s(j(),P)}const C=eu(),x=()=>{u.stop(),C&&C.active&&tr(C.effects,u)};if(a&&t){const j=t;t=(...P)=>{j(...P),x()}}let I=b?new Array(e.length).fill(xo):xo;const G=j=>{if(!(!(u.flags&1)||!u.dirty&&!j))if(t){const P=u.run();if(i||p||(b?P.some((w,S)=>Hs(w,I[S])):Hs(P,I))){h&&h();const w=zs;zs=u;try{const S=[P,I===xo?void 0:b&&I[0]===xo?[]:I,y];I=P,c?c(t,3,S):t(...S)}finally{zs=w}}}else u.run()};return l&&l(G),u=new tu(d),u.scheduler=r?()=>r(G,!1):G,y=j=>sp(j,!1,u),h=u.onStop=()=>{const j=jo.get(u);if(j){if(c)c(j,4);else for(const P of j)P();jo.delete(u)}},t?o?G(!0):I=u.run():r?r(G.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function _s(e,t=1/0,n){if(t<=0||!st(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,lt(e))_s(e.value,t,n);else if(Oe(e))for(let o=0;o<e.length;o++)_s(e[o],t,n);else if(oi(e)||vn(e))e.forEach(o=>{_s(o,t,n)});else if(Wc(e)){for(const o in e)_s(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&_s(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lo(e,t,n,o){try{return o?e(...o):e()}catch(i){hi(i,t,n)}}function zt(e,t,n,o){if(De(e)){const i=lo(e,t,n,o);return i&&jc(i)&&i.catch(a=>{hi(a,t,n)}),i}if(Oe(e)){const i=[];for(let a=0;a<e.length;a++)i.push(zt(e[a],t,n,o));return i}}function hi(e,t,n,o=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||nt;if(t){let l=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,c,f)===!1)return}l=l.parent}if(a){Cs(),lo(a,null,10,[e,c,f]),Ts();return}}op(e,n,i,o,r)}function op(e,t,n,o=!0,i=!1){if(i)throw e;console.error(e)}const Et=[];let is=-1;const mn=[];let Os=null,fn=0;const yu=Promise.resolve();let Ko=null;function Xt(e){const t=Ko||yu;return e?t.then(this?e.bind(this):e):t}function ip(e){let t=is+1,n=Et.length;for(;t<n;){const o=t+n>>>1,i=Et[o],a=Qn(i);a<e||a===e&&i.flags&2?t=o+1:n=o}return t}function cr(e){if(!(e.flags&1)){const t=Qn(e),n=Et[Et.length-1];!n||!(e.flags&2)&&t>=Qn(n)?Et.push(e):Et.splice(ip(t),0,e),e.flags|=1,bu()}}function bu(){Ko||(Ko=yu.then(wu))}function ap(e){Oe(e)?mn.push(...e):Os&&e.id===-1?Os.splice(fn+1,0,e):e.flags&1||(mn.push(e),e.flags|=1),bu()}function Yr(e,t,n=is+1){for(;n<Et.length;n++){const o=Et[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Et.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function _u(e){if(mn.length){const t=[...new Set(mn)].sort((n,o)=>Qn(n)-Qn(o));if(mn.length=0,Os){Os.push(...t);return}for(Os=t,fn=0;fn<Os.length;fn++){const n=Os[fn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Os=null,fn=0}}const Qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function wu(e){try{for(is=0;is<Et.length;is++){const t=Et[is];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),lo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;is<Et.length;is++){const t=Et[is];t&&(t.flags&=-2)}is=-1,Et.length=0,_u(),Ko=null,(Et.length||mn.length)&&wu()}}let vt=null,$u=null;function Wo(e){const t=vt;return vt=e,$u=e&&e.type.__scopeId||null,t}function ke(e,t=vt,n){if(!t||e._n)return e;const o=(...i)=>{o._d&&Yo(-1);const a=Wo(t);let r;try{r=e(...i)}finally{Wo(a),o._d&&Yo(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function $e(e,t){if(vt===null)return e;const n=bi(vt),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,r,l,c=nt]=t[i];a&&(De(a)&&(a={mounted:a,updated:a}),a.deep&&_s(r),o.push({dir:a,instance:n,value:r,oldValue:void 0,arg:l,modifiers:c}))}return e}function Vs(e,t,n,o){const i=e.dirs,a=t&&t.dirs;for(let r=0;r<i.length;r++){const l=i[r];a&&(l.oldValue=a[r].value);let c=l.dir[o];c&&(Cs(),zt(c,n,8,[e.el,l,e,t]),Ts())}}const rp=Symbol("_vte"),Cu=e=>e.__isTeleport,ys=Symbol("_leaveCb"),No=Symbol("_enterCb");function Tu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return at(()=>{e.isMounted=!0}),Lu(()=>{e.isUnmounting=!0}),e}const Mt=[Function,Array],Eu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mt,onEnter:Mt,onAfterEnter:Mt,onEnterCancelled:Mt,onBeforeLeave:Mt,onLeave:Mt,onAfterLeave:Mt,onLeaveCancelled:Mt,onBeforeAppear:Mt,onAppear:Mt,onAfterAppear:Mt,onAppearCancelled:Mt},ku=e=>{const t=e.subTree;return t.component?ku(t.component):t},lp={name:"BaseTransition",props:Eu,setup(e,{slots:t}){const n=yi(),o=Tu();return()=>{const i=t.default&&ur(t.default(),!0);if(!i||!i.length)return;const a=Su(i),r=je(e),{mode:l}=r;if(o.isLeaving)return Vi(a);const c=Jr(a);if(!c)return Vi(a);let f=Zn(c,r,o,n,d=>f=d);c.type!==bt&&nn(c,f);let u=n.subTree&&Jr(n.subTree);if(u&&u.type!==bt&&!Xs(u,c)&&ku(n).type!==bt){let d=Zn(u,r,o,n);if(nn(u,d),l==="out-in"&&c.type!==bt)return o.isLeaving=!0,d.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},Vi(a);l==="in-out"&&c.type!==bt?d.delayLeave=(h,y,p)=>{const b=Iu(o,u);b[String(u.key)]=u,h[ys]=()=>{y(),h[ys]=void 0,delete f.delayedLeave,u=void 0},f.delayedLeave=()=>{p(),delete f.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return a}}};function Su(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==bt){t=n;break}}return t}const cp=lp;function Iu(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function Zn(e,t,n,o,i){const{appear:a,mode:r,persisted:l=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:y,onAfterLeave:p,onLeaveCancelled:b,onBeforeAppear:C,onAppear:x,onAfterAppear:I,onAppearCancelled:G}=t,j=String(e.key),P=Iu(n,e),w=(D,Q)=>{D&&zt(D,o,9,Q)},S=(D,Q)=>{const te=Q[1];w(D,Q),Oe(D)?D.every(V=>V.length<=1)&&te():D.length<=1&&te()},se={mode:r,persisted:l,beforeEnter(D){let Q=c;if(!n.isMounted)if(a)Q=C||c;else return;D[ys]&&D[ys](!0);const te=P[j];te&&Xs(e,te)&&te.el[ys]&&te.el[ys](),w(Q,[D])},enter(D){let Q=f,te=u,V=d;if(!n.isMounted)if(a)Q=x||f,te=I||u,V=G||d;else return;let ue=!1;const xe=D[No]=Ae=>{ue||(ue=!0,Ae?w(V,[D]):w(te,[D]),se.delayedLeave&&se.delayedLeave(),D[No]=void 0)};Q?S(Q,[D,xe]):xe()},leave(D,Q){const te=String(e.key);if(D[No]&&D[No](!0),n.isUnmounting)return Q();w(h,[D]);let V=!1;const ue=D[ys]=xe=>{V||(V=!0,Q(),xe?w(b,[D]):w(p,[D]),D[ys]=void 0,P[te]===e&&delete P[te])};P[te]=e,y?S(y,[D,ue]):ue()},clone(D){const Q=Zn(D,t,n,o,i);return i&&i(Q),Q}};return se}function Vi(e){if(pi(e))return e=Us(e),e.children=null,e}function Jr(e){if(!pi(e))return Cu(e.type)&&e.children?Su(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&De(n.default))return n.default()}}function nn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,nn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ur(e,t=!1,n){let o=[],i=0;for(let a=0;a<e.length;a++){let r=e[a];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:a);r.type===Ce?(r.patchFlag&128&&i++,o=o.concat(ur(r.children,t,l))):(t||r.type!==bt)&&o.push(l!=null?Us(r,{key:l}):r)}if(i>1)for(let a=0;a<o.length;a++)o[a].patchFlag=-2;return o}function xu(e,t){return De(e)?ht({name:e.name},t,{setup:e}):e}function Nu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const zo=new WeakMap;function Gn(e,t,n,o,i=!1){if(Oe(e)){e.forEach((p,b)=>Gn(p,t&&(Oe(t)?t[b]:t),n,o,i));return}if(gn(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Gn(e,t,n,o.component.subTree);return}const a=o.shapeFlag&4?bi(o.component):o.el,r=i?null:a,{i:l,r:c}=e,f=t&&t.r,u=l.refs===nt?l.refs={}:l.refs,d=l.setupState,h=je(d),y=d===nt?Vc:p=>Ye(h,p);if(f!=null&&f!==c){if(Qr(t),ct(f))u[f]=null,y(f)&&(d[f]=null);else if(lt(f)){f.value=null;const p=t;p.k&&(u[p.k]=null)}}if(De(c))lo(c,l,12,[r,u]);else{const p=ct(c),b=lt(c);if(p||b){const C=()=>{if(e.f){const x=p?y(c)?d[c]:u[c]:c.value;if(i)Oe(x)&&tr(x,a);else if(Oe(x))x.includes(a)||x.push(a);else if(p)u[c]=[a],y(c)&&(d[c]=u[c]);else{const I=[a];c.value=I,e.k&&(u[e.k]=I)}}else p?(u[c]=r,y(c)&&(d[c]=r)):b&&(c.value=r,e.k&&(u[e.k]=r))};if(r){const x=()=>{C(),zo.delete(e)};x.id=-1,zo.set(e,x),Nt(x,n)}else Qr(e),C()}}}function Qr(e){const t=zo.get(e);t&&(t.flags|=8,zo.delete(e))}ci().requestIdleCallback;ci().cancelIdleCallback;const gn=e=>!!e.type.__asyncLoader,pi=e=>e.type.__isKeepAlive;function up(e,t){Au(e,"a",t)}function dp(e,t){Au(e,"da",t)}function Au(e,t,n=_t){const o=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(vi(t,o,n),n){let i=n.parent;for(;i&&i.parent;)pi(i.parent.vnode)&&fp(o,t,n,i),i=i.parent}}function fp(e,t,n,o){const i=vi(t,e,o,!0);Pt(()=>{tr(o[t],i)},n)}function vi(e,t,n=_t,o=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{Cs();const l=co(n),c=zt(t,n,e,r);return l(),Ts(),c});return o?i.unshift(a):i.push(a),a}}const ks=e=>(t,n=_t)=>{(!so||e==="sp")&&vi(e,(...o)=>t(...o),n)},hp=ks("bm"),at=ks("m"),pp=ks("bu"),Ru=ks("u"),Lu=ks("bum"),Pt=ks("um"),vp=ks("sp"),mp=ks("rtg"),gp=ks("rtc");function yp(e,t=_t){vi("ec",e,t)}const bp="components";function Ss(e,t){return wp(bp,e,!0,t)||e}const _p=Symbol.for("v-ndc");function wp(e,t,n=!0,o=!1){const i=vt||_t;if(i){const a=i.type;{const l=uv(a,!1);if(l&&(l===t||l===Dt(t)||l===ri(Dt(t))))return a}const r=Zr(i[e]||a[e],t)||Zr(i.appContext[e],t);return!r&&o?a:r}}function Zr(e,t){return e&&(e[t]||e[Dt(t)]||e[ri(Dt(t))])}function Re(e,t,n,o){let i;const a=n,r=Oe(e);if(r||ct(e)){const l=r&&ws(e);let c=!1,f=!1;l&&(c=!Lt(e),f=Es(e),e=di(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(c?f?bn(Wt(e[u])):Wt(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,a)}else if(st(e))if(e[Symbol.iterator])i=Array.from(e,(l,c)=>t(l,c,void 0,a));else{const l=Object.keys(e);i=new Array(l.length);for(let c=0,f=l.length;c<f;c++){const u=l[c];i[c]=t(e[u],u,c,a)}}else i=[];return i}function $p(e,t,n={},o,i){if(vt.ce||vt.parent&&gn(vt.parent)&&vt.parent.ce){const f=Object.keys(n).length>0;return v(),us(Ce,null,[fe("slot",n,o)],f?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),v();const r=a&&Ou(a(n)),l=n.key||r&&r.key,c=us(Ce,{key:(l&&!Kt(l)?l:`_${t}`)+(!r&&o?"_fb":"")},r||[],r&&e._===1?64:-2);return a&&a._c&&(a._d=!0),c}function Ou(e){return e.some(t=>to(t)?!(t.type===bt||t.type===Ce&&!Ou(t.children)):!0)?e:null}const wa=e=>e?ed(e)?bi(e):wa(e.parent):null,Vn=ht(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wa(e.parent),$root:e=>wa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Mu(e),$forceUpdate:e=>e.f||(e.f=()=>{cr(e.update)}),$nextTick:e=>e.n||(e.n=Xt.bind(e.proxy)),$watch:e=>Op.bind(e)}),ji=(e,t)=>e!==nt&&!e.__isScriptSetup&&Ye(e,t),Cp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:i,props:a,accessCache:r,type:l,appContext:c}=e;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(ji(o,t))return r[t]=1,o[t];if(i!==nt&&Ye(i,t))return r[t]=2,i[t];if(Ye(a,t))return r[t]=3,a[t];if(n!==nt&&Ye(n,t))return r[t]=4,n[t];$a&&(r[t]=0)}}const f=Vn[t];let u,d;if(f)return t==="$attrs"&&yt(e.attrs,"get",""),f(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==nt&&Ye(n,t))return r[t]=4,n[t];if(d=c.config.globalProperties,Ye(d,t))return d[t]},set({_:e},t,n){const{data:o,setupState:i,ctx:a}=e;return ji(i,t)?(i[t]=n,!0):o!==nt&&Ye(o,t)?(o[t]=n,!0):Ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,props:a,type:r}},l){let c;return!!(n[l]||e!==nt&&l[0]!=="$"&&Ye(e,l)||ji(t,l)||Ye(a,l)||Ye(o,l)||Ye(Vn,l)||Ye(i.config.globalProperties,l)||(c=r.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ye(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function el(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let $a=!0;function Tp(e){const t=Mu(e),n=e.proxy,o=e.ctx;$a=!1,t.beforeCreate&&tl(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:r,watch:l,provide:c,inject:f,created:u,beforeMount:d,mounted:h,beforeUpdate:y,updated:p,activated:b,deactivated:C,beforeDestroy:x,beforeUnmount:I,destroyed:G,unmounted:j,render:P,renderTracked:w,renderTriggered:S,errorCaptured:se,serverPrefetch:D,expose:Q,inheritAttrs:te,components:V,directives:ue,filters:xe}=t;if(f&&Ep(f,o,null),r)for(const T in r){const $=r[T];De($)&&(o[T]=$.bind(n))}if(i){const T=i.call(n,n);st(T)&&(e.data=Je(T))}if($a=!0,a)for(const T in a){const $=a[T],k=De($)?$.bind(n,n):De($.get)?$.get.bind(n,n):rs,A=!De($)&&De($.set)?$.set.bind(n):rs,Y=pe({get:k,set:A});Object.defineProperty(o,T,{enumerable:!0,configurable:!0,get:()=>Y.value,set:K=>Y.value=K})}if(l)for(const T in l)Pu(l[T],o,n,T);if(c){const T=De(c)?c.call(n):c;Reflect.ownKeys(T).forEach($=>{Ho($,T[$])})}u&&tl(u,e,"c");function q(T,$){Oe($)?$.forEach(k=>T(k.bind(n))):$&&T($.bind(n))}if(q(hp,d),q(at,h),q(pp,y),q(Ru,p),q(up,b),q(dp,C),q(yp,se),q(gp,w),q(mp,S),q(Lu,I),q(Pt,j),q(vp,D),Oe(Q))if(Q.length){const T=e.exposed||(e.exposed={});Q.forEach($=>{Object.defineProperty(T,$,{get:()=>n[$],set:k=>n[$]=k,enumerable:!0})})}else e.exposed||(e.exposed={});P&&e.render===rs&&(e.render=P),te!=null&&(e.inheritAttrs=te),V&&(e.components=V),ue&&(e.directives=ue),D&&Nu(e)}function Ep(e,t,n=rs){Oe(e)&&(e=Ca(e));for(const o in e){const i=e[o];let a;st(i)?"default"in i?a=Ut(i.from||o,i.default,!0):a=Ut(i.from||o):a=Ut(i),lt(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:r=>a.value=r}):t[o]=a}}function tl(e,t,n){zt(Oe(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Pu(e,t,n,o){let i=o.includes(".")?Du(n,o):()=>n[o];if(ct(e)){const a=t[e];De(a)&&mt(i,a)}else if(De(e))mt(i,e.bind(n));else if(st(e))if(Oe(e))e.forEach(a=>Pu(a,t,n,o));else{const a=De(e.handler)?e.handler.bind(n):t[e.handler];De(a)&&mt(i,a,e)}}function Mu(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:r}}=e.appContext,l=a.get(t);let c;return l?c=l:!i.length&&!n&&!o?c=t:(c={},i.length&&i.forEach(f=>Xo(c,f,r,!0)),Xo(c,t,r)),st(t)&&a.set(t,c),c}function Xo(e,t,n,o=!1){const{mixins:i,extends:a}=t;a&&Xo(e,a,n,!0),i&&i.forEach(r=>Xo(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const l=kp[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const kp={data:sl,props:nl,emits:nl,methods:Un,computed:Un,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:Un,directives:Un,watch:Ip,provide:sl,inject:Sp};function sl(e,t){return t?e?function(){return ht(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function Sp(e,t){return Un(Ca(e),Ca(t))}function Ca(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ct(e,t){return e?[...new Set([].concat(e,t))]:t}function Un(e,t){return e?ht(Object.create(null),e,t):t}function nl(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:ht(Object.create(null),el(e),el(t??{})):t}function Ip(e,t){if(!e)return t;if(!t)return e;const n=ht(Object.create(null),e);for(const o in t)n[o]=Ct(e[o],t[o]);return n}function Hu(){return{app:null,config:{isNativeTag:Vc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xp=0;function Np(e,t){return function(o,i=null){De(o)||(o=ht({},o)),i!=null&&!st(i)&&(i=null);const a=Hu(),r=new WeakSet,l=[];let c=!1;const f=a.app={_uid:xp++,_component:o,_props:i,_container:null,_context:a,_instance:null,version:fv,get config(){return a.config},set config(u){},use(u,...d){return r.has(u)||(u&&De(u.install)?(r.add(u),u.install(f,...d)):De(u)&&(r.add(u),u(f,...d))),f},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),f},component(u,d){return d?(a.components[u]=d,f):a.components[u]},directive(u,d){return d?(a.directives[u]=d,f):a.directives[u]},mount(u,d,h){if(!c){const y=f._ceVNode||fe(o,i);return y.appContext=a,h===!0?h="svg":h===!1&&(h=void 0),e(y,u,h),c=!0,f._container=u,u.__vue_app__=f,bi(y.component)}},onUnmount(u){l.push(u)},unmount(){c&&(zt(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,d){return a.provides[u]=d,f},runWithContext(u){const d=tn;tn=f;try{return u()}finally{tn=d}}};return f}}let tn=null;function Ho(e,t){if(_t){let n=_t.provides;const o=_t.parent&&_t.parent.provides;o===n&&(n=_t.provides=Object.create(o)),n[e]=t}}function Ut(e,t,n=!1){const o=yi();if(o||tn){let i=tn?tn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&De(t)?t.call(o&&o.proxy):t}}function Ap(){return!!(yi()||tn)}const Rp=Symbol.for("v-scx"),Lp=()=>Ut(Rp);function mt(e,t,n){return Uu(e,t,n)}function Uu(e,t,n=nt){const{immediate:o,deep:i,flush:a,once:r}=n,l=ht({},n),c=t&&o||!t&&a!=="post";let f;if(so){if(a==="sync"){const y=Lp();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=rs,y.resume=rs,y.pause=rs,y}}const u=_t;l.call=(y,p,b)=>zt(y,u,p,b);let d=!1;a==="post"?l.scheduler=y=>{Nt(y,u&&u.suspense)}:a!=="sync"&&(d=!0,l.scheduler=(y,p)=>{p?y():cr(y)}),l.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,u&&(y.id=u.uid,y.i=u))};const h=np(e,t,l);return so&&(f?f.push(h):c&&h()),h}function Op(e,t,n){const o=this.proxy,i=ct(e)?e.includes(".")?Du(o,e):()=>o[e]:e.bind(o,o);let a;De(t)?a=t:(a=t.handler,n=t);const r=co(this),l=Uu(i,a.bind(o),n);return r(),l}function Du(e,t){const n=t.split(".");return()=>{let o=e;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}const Pp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Dt(t)}Modifiers`]||e[`${qs(t)}Modifiers`];function Mp(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||nt;let i=n;const a=t.startsWith("update:"),r=a&&Pp(o,t.slice(7));r&&(r.trim&&(i=n.map(u=>ct(u)?u.trim():u)),r.number&&(i=n.map(li)));let l,c=o[l=Di(t)]||o[l=Di(Dt(t))];!c&&a&&(c=o[l=Di(qs(t))]),c&&zt(c,e,6,i);const f=o[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,zt(f,e,6,i)}}const Hp=new WeakMap;function Bu(e,t,n=!1){const o=n?Hp:t.emitsCache,i=o.get(e);if(i!==void 0)return i;const a=e.emits;let r={},l=!1;if(!De(e)){const c=f=>{const u=Bu(f,t,!0);u&&(l=!0,ht(r,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!a&&!l?(st(e)&&o.set(e,null),null):(Oe(a)?a.forEach(c=>r[c]=null):ht(r,a),st(e)&&o.set(e,r),r)}function mi(e,t){return!e||!ni(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ye(e,t[0].toLowerCase()+t.slice(1))||Ye(e,qs(t))||Ye(e,t))}function ol(e){const{type:t,vnode:n,proxy:o,withProxy:i,propsOptions:[a],slots:r,attrs:l,emit:c,render:f,renderCache:u,props:d,data:h,setupState:y,ctx:p,inheritAttrs:b}=e,C=Wo(e);let x,I;try{if(n.shapeFlag&4){const j=i||o,P=j;x=as(f.call(P,j,u,d,y,h,p)),I=l}else{const j=t;x=as(j.length>1?j(d,{attrs:l,slots:r,emit:c}):j(d,null)),I=t.props?l:Up(l)}}catch(j){jn.length=0,hi(j,e,1),x=fe(bt)}let G=x;if(I&&b!==!1){const j=Object.keys(I),{shapeFlag:P}=G;j.length&&P&7&&(a&&j.some(er)&&(I=Dp(I,a)),G=Us(G,I,!1,!0))}return n.dirs&&(G=Us(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&nn(G,n.transition),x=G,Wo(C),x}const Up=e=>{let t;for(const n in e)(n==="class"||n==="style"||ni(n))&&((t||(t={}))[n]=e[n]);return t},Dp=(e,t)=>{const n={};for(const o in e)(!er(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Bp(e,t,n){const{props:o,children:i,component:a}=e,{props:r,children:l,patchFlag:c}=t,f=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?il(o,r,f):!!r;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(r[h]!==o[h]&&!mi(f,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:o===r?!1:o?r?il(o,r,f):!0:!!r;return!1}function il(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const a=o[i];if(t[a]!==e[a]&&!mi(n,a))return!0}return!1}function qp({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const qu={},Fu=()=>Object.create(qu),Gu=e=>Object.getPrototypeOf(e)===qu;function Fp(e,t,n,o=!1){const i={},a=Fu();e.propsDefaults=Object.create(null),Vu(e,t,i,a);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);n?e.props=o?i:vu(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Gp(e,t,n,o){const{props:i,attrs:a,vnode:{patchFlag:r}}=e,l=je(i),[c]=e.propsOptions;let f=!1;if((o||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(mi(e.emitsOptions,h))continue;const y=t[h];if(c)if(Ye(a,h))y!==a[h]&&(a[h]=y,f=!0);else{const p=Dt(h);i[p]=Ta(c,l,p,y,e,!1)}else y!==a[h]&&(a[h]=y,f=!0)}}}else{Vu(e,t,i,a)&&(f=!0);let u;for(const d in l)(!t||!Ye(t,d)&&((u=qs(d))===d||!Ye(t,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Ta(c,l,d,void 0,e,!0)):delete i[d]);if(a!==l)for(const d in a)(!t||!Ye(t,d))&&(delete a[d],f=!0)}f&&bs(e.attrs,"set","")}function Vu(e,t,n,o){const[i,a]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(Bn(c))continue;const f=t[c];let u;i&&Ye(i,u=Dt(c))?!a||!a.includes(u)?n[u]=f:(l||(l={}))[u]=f:mi(e.emitsOptions,c)||(!(c in o)||f!==o[c])&&(o[c]=f,r=!0)}if(a){const c=je(n),f=l||nt;for(let u=0;u<a.length;u++){const d=a[u];n[d]=Ta(i,c,d,f[d],e,!Ye(f,d))}}return r}function Ta(e,t,n,o,i,a){const r=e[n];if(r!=null){const l=Ye(r,"default");if(l&&o===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&De(c)){const{propsDefaults:f}=i;if(n in f)o=f[n];else{const u=co(i);o=f[n]=c.call(null,t),u()}}else o=c;i.ce&&i.ce._setProp(n,o)}r[0]&&(a&&!l?o=!1:r[1]&&(o===""||o===qs(n))&&(o=!0))}return o}const Vp=new WeakMap;function ju(e,t,n=!1){const o=n?Vp:t.propsCache,i=o.get(e);if(i)return i;const a=e.props,r={},l=[];let c=!1;if(!De(e)){const u=d=>{c=!0;const[h,y]=ju(d,t,!0);ht(r,h),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!c)return st(e)&&o.set(e,pn),pn;if(Oe(a))for(let u=0;u<a.length;u++){const d=Dt(a[u]);al(d)&&(r[d]=nt)}else if(a)for(const u in a){const d=Dt(u);if(al(d)){const h=a[u],y=r[d]=Oe(h)||De(h)?{type:h}:ht({},h),p=y.type;let b=!1,C=!0;if(Oe(p))for(let x=0;x<p.length;++x){const I=p[x],G=De(I)&&I.name;if(G==="Boolean"){b=!0;break}else G==="String"&&(C=!1)}else b=De(p)&&p.name==="Boolean";y[0]=b,y[1]=C,(b||Ye(y,"default"))&&l.push(d)}}const f=[r,l];return st(e)&&o.set(e,f),f}function al(e){return e[0]!=="$"&&!Bn(e)}const dr=e=>e==="_"||e==="_ctx"||e==="$stable",fr=e=>Oe(e)?e.map(as):[as(e)],jp=(e,t,n)=>{if(t._n)return t;const o=ke((...i)=>fr(t(...i)),n);return o._c=!1,o},Ku=(e,t,n)=>{const o=e._ctx;for(const i in e){if(dr(i))continue;const a=e[i];if(De(a))t[i]=jp(i,a,o);else if(a!=null){const r=fr(a);t[i]=()=>r}}},Wu=(e,t)=>{const n=fr(t);e.slots.default=()=>n},zu=(e,t,n)=>{for(const o in t)(n||!dr(o))&&(e[o]=t[o])},Kp=(e,t,n)=>{const o=e.slots=Fu();if(e.vnode.shapeFlag&32){const i=t._;i?(zu(o,t,n),n&&zc(o,"_",i,!0)):Ku(t,o)}else t&&Wu(e,t)},Wp=(e,t,n)=>{const{vnode:o,slots:i}=e;let a=!0,r=nt;if(o.shapeFlag&32){const l=t._;l?n&&l===1?a=!1:zu(i,t,n):(a=!t.$stable,Ku(t,i)),r=t}else t&&(Wu(e,t),r={default:1});if(a)for(const l in i)!dr(l)&&r[l]==null&&delete i[l]},Nt=Qp;function zp(e){return Xp(e)}function Xp(e,t){const n=ci();n.__VUE__=!0;const{insert:o,remove:i,patchProp:a,createElement:r,createText:l,createComment:c,setText:f,setElementText:u,parentNode:d,nextSibling:h,setScopeId:y=rs,insertStaticContent:p}=e,b=(E,N,U,oe=null,ie=null,ne=null,_e=void 0,ge=null,ve=!!N.dynamicChildren)=>{if(E===N)return;E&&!Xs(E,N)&&(oe=ee(E),K(E,ie,ne,!0),E=null),N.patchFlag===-2&&(ve=!1,N.dynamicChildren=null);const{type:ae,ref:B,shapeFlag:R}=N;switch(ae){case gi:C(E,N,U,oe);break;case bt:x(E,N,U,oe);break;case Uo:E==null&&I(N,U,oe,_e);break;case Ce:V(E,N,U,oe,ie,ne,_e,ge,ve);break;default:R&1?P(E,N,U,oe,ie,ne,_e,ge,ve):R&6?ue(E,N,U,oe,ie,ne,_e,ge,ve):(R&64||R&128)&&ae.process(E,N,U,oe,ie,ne,_e,ge,ve,be)}B!=null&&ie?Gn(B,E&&E.ref,ne,N||E,!N):B==null&&E&&E.ref!=null&&Gn(E.ref,null,ne,E,!0)},C=(E,N,U,oe)=>{if(E==null)o(N.el=l(N.children),U,oe);else{const ie=N.el=E.el;N.children!==E.children&&f(ie,N.children)}},x=(E,N,U,oe)=>{E==null?o(N.el=c(N.children||""),U,oe):N.el=E.el},I=(E,N,U,oe)=>{[E.el,E.anchor]=p(E.children,N,U,oe,E.el,E.anchor)},G=({el:E,anchor:N},U,oe)=>{let ie;for(;E&&E!==N;)ie=h(E),o(E,U,oe),E=ie;o(N,U,oe)},j=({el:E,anchor:N})=>{let U;for(;E&&E!==N;)U=h(E),i(E),E=U;i(N)},P=(E,N,U,oe,ie,ne,_e,ge,ve)=>{if(N.type==="svg"?_e="svg":N.type==="math"&&(_e="mathml"),E==null)w(N,U,oe,ie,ne,_e,ge,ve);else{const ae=E.el&&E.el._isVueCE?E.el:null;try{ae&&ae._beginPatch(),D(E,N,ie,ne,_e,ge,ve)}finally{ae&&ae._endPatch()}}},w=(E,N,U,oe,ie,ne,_e,ge)=>{let ve,ae;const{props:B,shapeFlag:R,transition:me,dirs:Ee}=E;if(ve=E.el=r(E.type,ne,B&&B.is,B),R&8?u(ve,E.children):R&16&&se(E.children,ve,null,oe,ie,Ki(E,ne),_e,ge),Ee&&Vs(E,null,oe,"created"),S(ve,E,E.scopeId,_e,oe),B){for(const Me in B)Me!=="value"&&!Bn(Me)&&a(ve,Me,null,B[Me],ne,oe);"value"in B&&a(ve,"value",null,B.value,ne),(ae=B.onVnodeBeforeMount)&&ss(ae,oe,E)}Ee&&Vs(E,null,oe,"beforeMount");const le=Yp(ie,me);le&&me.beforeEnter(ve),o(ve,N,U),((ae=B&&B.onVnodeMounted)||le||Ee)&&Nt(()=>{ae&&ss(ae,oe,E),le&&me.enter(ve),Ee&&Vs(E,null,oe,"mounted")},ie)},S=(E,N,U,oe,ie)=>{if(U&&y(E,U),oe)for(let ne=0;ne<oe.length;ne++)y(E,oe[ne]);if(ie){let ne=ie.subTree;if(N===ne||Ju(ne.type)&&(ne.ssContent===N||ne.ssFallback===N)){const _e=ie.vnode;S(E,_e,_e.scopeId,_e.slotScopeIds,ie.parent)}}},se=(E,N,U,oe,ie,ne,_e,ge,ve=0)=>{for(let ae=ve;ae<E.length;ae++){const B=E[ae]=ge?Ps(E[ae]):as(E[ae]);b(null,B,N,U,oe,ie,ne,_e,ge)}},D=(E,N,U,oe,ie,ne,_e)=>{const ge=N.el=E.el;let{patchFlag:ve,dynamicChildren:ae,dirs:B}=N;ve|=E.patchFlag&16;const R=E.props||nt,me=N.props||nt;let Ee;if(U&&js(U,!1),(Ee=me.onVnodeBeforeUpdate)&&ss(Ee,U,N,E),B&&Vs(N,E,U,"beforeUpdate"),U&&js(U,!0),(R.innerHTML&&me.innerHTML==null||R.textContent&&me.textContent==null)&&u(ge,""),ae?Q(E.dynamicChildren,ae,ge,U,oe,Ki(N,ie),ne):_e||$(E,N,ge,null,U,oe,Ki(N,ie),ne,!1),ve>0){if(ve&16)te(ge,R,me,U,ie);else if(ve&2&&R.class!==me.class&&a(ge,"class",null,me.class,ie),ve&4&&a(ge,"style",R.style,me.style,ie),ve&8){const le=N.dynamicProps;for(let Me=0;Me<le.length;Me++){const Ue=le[Me],Ve=R[Ue],tt=me[Ue];(tt!==Ve||Ue==="value")&&a(ge,Ue,Ve,tt,ie,U)}}ve&1&&E.children!==N.children&&u(ge,N.children)}else!_e&&ae==null&&te(ge,R,me,U,ie);((Ee=me.onVnodeUpdated)||B)&&Nt(()=>{Ee&&ss(Ee,U,N,E),B&&Vs(N,E,U,"updated")},oe)},Q=(E,N,U,oe,ie,ne,_e)=>{for(let ge=0;ge<N.length;ge++){const ve=E[ge],ae=N[ge],B=ve.el&&(ve.type===Ce||!Xs(ve,ae)||ve.shapeFlag&198)?d(ve.el):U;b(ve,ae,B,null,oe,ie,ne,_e,!0)}},te=(E,N,U,oe,ie)=>{if(N!==U){if(N!==nt)for(const ne in N)!Bn(ne)&&!(ne in U)&&a(E,ne,N[ne],null,ie,oe);for(const ne in U){if(Bn(ne))continue;const _e=U[ne],ge=N[ne];_e!==ge&&ne!=="value"&&a(E,ne,ge,_e,ie,oe)}"value"in U&&a(E,"value",N.value,U.value,ie)}},V=(E,N,U,oe,ie,ne,_e,ge,ve)=>{const ae=N.el=E?E.el:l(""),B=N.anchor=E?E.anchor:l("");let{patchFlag:R,dynamicChildren:me,slotScopeIds:Ee}=N;Ee&&(ge=ge?ge.concat(Ee):Ee),E==null?(o(ae,U,oe),o(B,U,oe),se(N.children||[],U,B,ie,ne,_e,ge,ve)):R>0&&R&64&&me&&E.dynamicChildren?(Q(E.dynamicChildren,me,U,ie,ne,_e,ge),(N.key!=null||ie&&N===ie.subTree)&&Xu(E,N,!0)):$(E,N,U,B,ie,ne,_e,ge,ve)},ue=(E,N,U,oe,ie,ne,_e,ge,ve)=>{N.slotScopeIds=ge,E==null?N.shapeFlag&512?ie.ctx.activate(N,U,oe,_e,ve):xe(N,U,oe,ie,ne,_e,ve):Ae(E,N,ve)},xe=(E,N,U,oe,ie,ne,_e)=>{const ge=E.component=iv(E,oe,ie);if(pi(E)&&(ge.ctx.renderer=be),av(ge,!1,_e),ge.asyncDep){if(ie&&ie.registerDep(ge,q,_e),!E.el){const ve=ge.subTree=fe(bt);x(null,ve,N,U),E.placeholder=ve.el}}else q(ge,E,N,U,ie,ne,_e)},Ae=(E,N,U)=>{const oe=N.component=E.component;if(Bp(E,N,U))if(oe.asyncDep&&!oe.asyncResolved){T(oe,N,U);return}else oe.next=N,oe.update();else N.el=E.el,oe.vnode=N},q=(E,N,U,oe,ie,ne,_e)=>{const ge=()=>{if(E.isMounted){let{next:R,bu:me,u:Ee,parent:le,vnode:Me}=E;{const We=Yu(E);if(We){R&&(R.el=Me.el,T(E,R,_e)),We.asyncDep.then(()=>{E.isUnmounted||ge()});return}}let Ue=R,Ve;js(E,!1),R?(R.el=Me.el,T(E,R,_e)):R=Me,me&&Mo(me),(Ve=R.props&&R.props.onVnodeBeforeUpdate)&&ss(Ve,le,R,Me),js(E,!0);const tt=ol(E),it=E.subTree;E.subTree=tt,b(it,tt,d(it.el),ee(it),E,ie,ne),R.el=tt.el,Ue===null&&qp(E,tt.el),Ee&&Nt(Ee,ie),(Ve=R.props&&R.props.onVnodeUpdated)&&Nt(()=>ss(Ve,le,R,Me),ie)}else{let R;const{el:me,props:Ee}=N,{bm:le,m:Me,parent:Ue,root:Ve,type:tt}=E,it=gn(N);js(E,!1),le&&Mo(le),!it&&(R=Ee&&Ee.onVnodeBeforeMount)&&ss(R,Ue,N),js(E,!0);{Ve.ce&&Ve.ce._def.shadowRoot!==!1&&Ve.ce._injectChildStyle(tt);const We=E.subTree=ol(E);b(null,We,U,oe,E,ie,ne),N.el=We.el}if(Me&&Nt(Me,ie),!it&&(R=Ee&&Ee.onVnodeMounted)){const We=N;Nt(()=>ss(R,Ue,We),ie)}(N.shapeFlag&256||Ue&&gn(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&E.a&&Nt(E.a,ie),E.isMounted=!0,N=U=oe=null}};E.scope.on();const ve=E.effect=new tu(ge);E.scope.off();const ae=E.update=ve.run.bind(ve),B=E.job=ve.runIfDirty.bind(ve);B.i=E,B.id=E.uid,ve.scheduler=()=>cr(B),js(E,!0),ae()},T=(E,N,U)=>{N.component=E;const oe=E.vnode.props;E.vnode=N,E.next=null,Gp(E,N.props,oe,U),Wp(E,N.children,U),Cs(),Yr(E),Ts()},$=(E,N,U,oe,ie,ne,_e,ge,ve=!1)=>{const ae=E&&E.children,B=E?E.shapeFlag:0,R=N.children,{patchFlag:me,shapeFlag:Ee}=N;if(me>0){if(me&128){A(ae,R,U,oe,ie,ne,_e,ge,ve);return}else if(me&256){k(ae,R,U,oe,ie,ne,_e,ge,ve);return}}Ee&8?(B&16&&Le(ae,ie,ne),R!==ae&&u(U,R)):B&16?Ee&16?A(ae,R,U,oe,ie,ne,_e,ge,ve):Le(ae,ie,ne,!0):(B&8&&u(U,""),Ee&16&&se(R,U,oe,ie,ne,_e,ge,ve))},k=(E,N,U,oe,ie,ne,_e,ge,ve)=>{E=E||pn,N=N||pn;const ae=E.length,B=N.length,R=Math.min(ae,B);let me;for(me=0;me<R;me++){const Ee=N[me]=ve?Ps(N[me]):as(N[me]);b(E[me],Ee,U,null,ie,ne,_e,ge,ve)}ae>B?Le(E,ie,ne,!0,!1,R):se(N,U,oe,ie,ne,_e,ge,ve,R)},A=(E,N,U,oe,ie,ne,_e,ge,ve)=>{let ae=0;const B=N.length;let R=E.length-1,me=B-1;for(;ae<=R&&ae<=me;){const Ee=E[ae],le=N[ae]=ve?Ps(N[ae]):as(N[ae]);if(Xs(Ee,le))b(Ee,le,U,null,ie,ne,_e,ge,ve);else break;ae++}for(;ae<=R&&ae<=me;){const Ee=E[R],le=N[me]=ve?Ps(N[me]):as(N[me]);if(Xs(Ee,le))b(Ee,le,U,null,ie,ne,_e,ge,ve);else break;R--,me--}if(ae>R){if(ae<=me){const Ee=me+1,le=Ee<B?N[Ee].el:oe;for(;ae<=me;)b(null,N[ae]=ve?Ps(N[ae]):as(N[ae]),U,le,ie,ne,_e,ge,ve),ae++}}else if(ae>me)for(;ae<=R;)K(E[ae],ie,ne,!0),ae++;else{const Ee=ae,le=ae,Me=new Map;for(ae=le;ae<=me;ae++){const ut=N[ae]=ve?Ps(N[ae]):as(N[ae]);ut.key!=null&&Me.set(ut.key,ae)}let Ue,Ve=0;const tt=me-le+1;let it=!1,We=0;const dt=new Array(tt);for(ae=0;ae<tt;ae++)dt[ae]=0;for(ae=Ee;ae<=R;ae++){const ut=E[ae];if(Ve>=tt){K(ut,ie,ne,!0);continue}let re;if(ut.key!=null)re=Me.get(ut.key);else for(Ue=le;Ue<=me;Ue++)if(dt[Ue-le]===0&&Xs(ut,N[Ue])){re=Ue;break}re===void 0?K(ut,ie,ne,!0):(dt[re-le]=ae+1,re>=We?We=re:it=!0,b(ut,N[re],U,null,ie,ne,_e,ge,ve),Ve++)}const xt=it?Jp(dt):pn;for(Ue=xt.length-1,ae=tt-1;ae>=0;ae--){const ut=le+ae,re=N[ut],ce=N[ut+1],z=ut+1<B?ce.el||ce.placeholder:oe;dt[ae]===0?b(null,re,U,z,ie,ne,_e,ge,ve):it&&(Ue<0||ae!==xt[Ue]?Y(re,U,z,2):Ue--)}}},Y=(E,N,U,oe,ie=null)=>{const{el:ne,type:_e,transition:ge,children:ve,shapeFlag:ae}=E;if(ae&6){Y(E.component.subTree,N,U,oe);return}if(ae&128){E.suspense.move(N,U,oe);return}if(ae&64){_e.move(E,N,U,be);return}if(_e===Ce){o(ne,N,U);for(let R=0;R<ve.length;R++)Y(ve[R],N,U,oe);o(E.anchor,N,U);return}if(_e===Uo){G(E,N,U);return}if(oe!==2&&ae&1&&ge)if(oe===0)ge.beforeEnter(ne),o(ne,N,U),Nt(()=>ge.enter(ne),ie);else{const{leave:R,delayLeave:me,afterLeave:Ee}=ge,le=()=>{E.ctx.isUnmounted?i(ne):o(ne,N,U)},Me=()=>{ne._isLeaving&&ne[ys](!0),R(ne,()=>{le(),Ee&&Ee()})};me?me(ne,le,Me):Me()}else o(ne,N,U)},K=(E,N,U,oe=!1,ie=!1)=>{const{type:ne,props:_e,ref:ge,children:ve,dynamicChildren:ae,shapeFlag:B,patchFlag:R,dirs:me,cacheIndex:Ee}=E;if(R===-2&&(ie=!1),ge!=null&&(Cs(),Gn(ge,null,U,E,!0),Ts()),Ee!=null&&(N.renderCache[Ee]=void 0),B&256){N.ctx.deactivate(E);return}const le=B&1&&me,Me=!gn(E);let Ue;if(Me&&(Ue=_e&&_e.onVnodeBeforeUnmount)&&ss(Ue,N,E),B&6)Se(E.component,U,oe);else{if(B&128){E.suspense.unmount(U,oe);return}le&&Vs(E,null,N,"beforeUnmount"),B&64?E.type.remove(E,N,U,be,oe):ae&&!ae.hasOnce&&(ne!==Ce||R>0&&R&64)?Le(ae,N,U,!1,!0):(ne===Ce&&R&384||!ie&&B&16)&&Le(ve,N,U),oe&&O(E)}(Me&&(Ue=_e&&_e.onVnodeUnmounted)||le)&&Nt(()=>{Ue&&ss(Ue,N,E),le&&Vs(E,null,N,"unmounted")},U)},O=E=>{const{type:N,el:U,anchor:oe,transition:ie}=E;if(N===Ce){F(U,oe);return}if(N===Uo){j(E);return}const ne=()=>{i(U),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(E.shapeFlag&1&&ie&&!ie.persisted){const{leave:_e,delayLeave:ge}=ie,ve=()=>_e(U,ne);ge?ge(E.el,ne,ve):ve()}else ne()},F=(E,N)=>{let U;for(;E!==N;)U=h(E),i(E),E=U;i(N)},Se=(E,N,U)=>{const{bum:oe,scope:ie,job:ne,subTree:_e,um:ge,m:ve,a:ae}=E;rl(ve),rl(ae),oe&&Mo(oe),ie.stop(),ne&&(ne.flags|=8,K(_e,E,N,U)),ge&&Nt(ge,N),Nt(()=>{E.isUnmounted=!0},N)},Le=(E,N,U,oe=!1,ie=!1,ne=0)=>{for(let _e=ne;_e<E.length;_e++)K(E[_e],N,U,oe,ie)},ee=E=>{if(E.shapeFlag&6)return ee(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const N=h(E.anchor||E.el),U=N&&N[rp];return U?h(U):N};let he=!1;const de=(E,N,U)=>{E==null?N._vnode&&K(N._vnode,null,null,!0):b(N._vnode||null,E,N,null,null,null,U),N._vnode=E,he||(he=!0,Yr(),_u(),he=!1)},be={p:b,um:K,m:Y,r:O,mt:xe,mc:se,pc:$,pbc:Q,n:ee,o:e};return{render:de,hydrate:void 0,createApp:Np(de)}}function Ki({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function js({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Yp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xu(e,t,n=!1){const o=e.children,i=t.children;if(Oe(o)&&Oe(i))for(let a=0;a<o.length;a++){const r=o[a];let l=i[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[a]=Ps(i[a]),l.el=r.el),!n&&l.patchFlag!==-2&&Xu(r,l)),l.type===gi&&l.patchFlag!==-1&&(l.el=r.el),l.type===bt&&!l.el&&(l.el=r.el)}}function Jp(e){const t=e.slice(),n=[0];let o,i,a,r,l;const c=e.length;for(o=0;o<c;o++){const f=e[o];if(f!==0){if(i=n[n.length-1],e[i]<f){t[o]=i,n.push(o);continue}for(a=0,r=n.length-1;a<r;)l=a+r>>1,e[n[l]]<f?a=l+1:r=l;f<e[n[a]]&&(a>0&&(t[o]=n[a-1]),n[a]=o)}}for(a=n.length,r=n[a-1];a-- >0;)n[a]=r,r=t[r];return n}function Yu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Yu(t)}function rl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ju=e=>e.__isSuspense;function Qp(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):ap(e)}const Ce=Symbol.for("v-fgt"),gi=Symbol.for("v-txt"),bt=Symbol.for("v-cmt"),Uo=Symbol.for("v-stc"),jn=[];let Rt=null;function v(e=!1){jn.push(Rt=e?null:[])}function Zp(){jn.pop(),Rt=jn[jn.length-1]||null}let eo=1;function Yo(e,t=!1){eo+=e,e<0&&Rt&&t&&(Rt.hasOnce=!0)}function Qu(e){return e.dynamicChildren=eo>0?Rt||pn:null,Zp(),eo>0&&Rt&&Rt.push(e),e}function m(e,t,n,o,i,a){return Qu(s(e,t,n,o,i,a,!0))}function us(e,t,n,o,i){return Qu(fe(e,t,n,o,i,!0))}function to(e){return e?e.__v_isVNode===!0:!1}function Xs(e,t){return e.type===t.type&&e.key===t.key}const Zu=({key:e})=>e??null,Do=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ct(e)||lt(e)||De(e)?{i:vt,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,i=null,a=e===Ce?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zu(t),ref:t&&Do(t),scopeId:$u,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:vt};return l?(hr(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=ct(n)?8:16),eo>0&&!r&&Rt&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Rt.push(c),c}const fe=ev;function ev(e,t=null,n=null,o=0,i=null,a=!1){if((!e||e===_p)&&(e=bt),to(e)){const l=Us(e,t,!0);return n&&hr(l,n),eo>0&&!a&&Rt&&(l.shapeFlag&6?Rt[Rt.indexOf(e)]=l:Rt.push(l)),l.patchFlag=-2,l}if(dv(e)&&(e=e.__vccOpts),t){t=tv(t);let{class:l,style:c}=t;l&&!ct(l)&&(t.class=X(l)),st(c)&&(fi(c)&&!Oe(c)&&(c=ht({},c)),t.style=Pe(c))}const r=ct(e)?1:Ju(e)?128:Cu(e)?64:st(e)?4:De(e)?2:0;return s(e,t,n,o,i,r,a,!0)}function tv(e){return e?fi(e)||Gu(e)?ht({},e):e:null}function Us(e,t,n=!1,o=!1){const{props:i,ref:a,patchFlag:r,children:l,transition:c}=e,f=t?sv(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Zu(f),ref:t&&t.ref?n&&a?Oe(a)?a.concat(Do(t)):[a,Do(t)]:Do(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Us(e.ssContent),ssFallback:e.ssFallback&&Us(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&nn(u,c.clone(u)),u}function J(e=" ",t=0){return fe(gi,null,e,t)}function Ot(e,t){const n=fe(Uo,null,e);return n.staticCount=t,n}function W(e="",t=!1){return t?(v(),us(bt,null,e)):fe(bt,null,e)}function as(e){return e==null||typeof e=="boolean"?fe(bt):Oe(e)?fe(Ce,null,e.slice()):to(e)?Ps(e):fe(gi,null,String(e))}function Ps(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Us(e)}function hr(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(o&65){const i=t.default;i&&(i._c&&(i._d=!1),hr(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Gu(t)?t._ctx=vt:i===3&&vt&&(vt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:vt},n=32):(t=String(t),o&64?(n=16,t=[J(t)]):n=8);e.children=t,e.shapeFlag|=n}function sv(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const i in o)if(i==="class")t.class!==o.class&&(t.class=X([t.class,o.class]));else if(i==="style")t.style=Pe([t.style,o.style]);else if(ni(i)){const a=t[i],r=o[i];r&&a!==r&&!(Oe(a)&&a.includes(r))&&(t[i]=a?[].concat(a,r):r)}else i!==""&&(t[i]=o[i])}return t}function ss(e,t,n,o=null){zt(e,t,7,[n,o])}const nv=Hu();let ov=0;function iv(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||nv,a={uid:ov++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ju(o,i),emitsOptions:Bu(o,i),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:o.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Mp.bind(null,a),e.ce&&e.ce(a),a}let _t=null;const yi=()=>_t||vt;let Jo,Ea;{const e=ci(),t=(n,o)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(o),a=>{i.length>1?i.forEach(r=>r(a)):i[0](a)}};Jo=t("__VUE_INSTANCE_SETTERS__",n=>_t=n),Ea=t("__VUE_SSR_SETTERS__",n=>so=n)}const co=e=>{const t=_t;return Jo(e),e.scope.on(),()=>{e.scope.off(),Jo(t)}},ll=()=>{_t&&_t.scope.off(),Jo(null)};function ed(e){return e.vnode.shapeFlag&4}let so=!1;function av(e,t=!1,n=!1){t&&Ea(t);const{props:o,children:i}=e.vnode,a=ed(e);Fp(e,o,a,t),Kp(e,i,n||t);const r=a?rv(e,t):void 0;return t&&Ea(!1),r}function rv(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cp);const{setup:o}=n;if(o){Cs();const i=e.setupContext=o.length>1?cv(e):null,a=co(e),r=lo(o,e,0,[e.props,i]),l=jc(r);if(Ts(),a(),(l||e.sp)&&!gn(e)&&Nu(e),l){if(r.then(ll,ll),t)return r.then(c=>{cl(e,c)}).catch(c=>{hi(c,e,0)});e.asyncDep=r}else cl(e,r)}else td(e)}function cl(e,t,n){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:st(t)&&(e.setupState=gu(t)),td(e)}function td(e,t,n){const o=e.type;e.render||(e.render=o.render||rs);{const i=co(e);Cs();try{Tp(e)}finally{Ts(),i()}}}const lv={get(e,t){return yt(e,"get",""),e[t]}};function cv(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,lv),slots:e.slots,emit:e.emit,expose:t}}function bi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(gu(lr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vn)return Vn[n](e)},has(t,n){return n in t||n in Vn}})):e.proxy}function uv(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function dv(e){return De(e)&&"__vccOpts"in e}const pe=(e,t)=>tp(e,t,so);function pr(e,t,n){try{Yo(-1);const o=arguments.length;return o===2?st(t)&&!Oe(t)?to(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&to(n)&&(n=[n]),fe(e,t,n))}finally{Yo(1)}}const fv="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ka;const ul=typeof window<"u"&&window.trustedTypes;if(ul)try{ka=ul.createPolicy("vue",{createHTML:e=>e})}catch{}const sd=ka?e=>ka.createHTML(e):e=>e,hv="http://www.w3.org/2000/svg",pv="http://www.w3.org/1998/Math/MathML",gs=typeof document<"u"?document:null,dl=gs&&gs.createElement("template"),vv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const i=t==="svg"?gs.createElementNS(hv,e):t==="mathml"?gs.createElementNS(pv,e):n?gs.createElement(e,{is:n}):gs.createElement(e);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>gs.createTextNode(e),createComment:e=>gs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,i,a){const r=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{dl.innerHTML=sd(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=dl.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},xs="transition",Ln="animation",_n=Symbol("_vtc"),nd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},od=ht({},Eu,nd),mv=e=>(e.displayName="Transition",e.props=od,e),Ge=mv((e,{slots:t})=>pr(cp,id(e),t)),Ks=(e,t=[])=>{Oe(e)?e.forEach(n=>n(...t)):e&&e(...t)},fl=e=>e?Oe(e)?e.some(t=>t.length>1):e.length>1:!1;function id(e){const t={};for(const V in e)V in nd||(t[V]=e[V]);if(e.css===!1)return t;const{name:n="v",type:o,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:f=r,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,p=gv(i),b=p&&p[0],C=p&&p[1],{onBeforeEnter:x,onEnter:I,onEnterCancelled:G,onLeave:j,onLeaveCancelled:P,onBeforeAppear:w=x,onAppear:S=I,onAppearCancelled:se=G}=t,D=(V,ue,xe,Ae)=>{V._enterCancelled=Ae,As(V,ue?u:l),As(V,ue?f:r),xe&&xe()},Q=(V,ue)=>{V._isLeaving=!1,As(V,d),As(V,y),As(V,h),ue&&ue()},te=V=>(ue,xe)=>{const Ae=V?S:I,q=()=>D(ue,V,xe);Ks(Ae,[ue,q]),hl(()=>{As(ue,V?c:a),os(ue,V?u:l),fl(Ae)||pl(ue,o,b,q)})};return ht(t,{onBeforeEnter(V){Ks(x,[V]),os(V,a),os(V,r)},onBeforeAppear(V){Ks(w,[V]),os(V,c),os(V,f)},onEnter:te(!1),onAppear:te(!0),onLeave(V,ue){V._isLeaving=!0;const xe=()=>Q(V,ue);os(V,d),V._enterCancelled?(os(V,h),Sa(V)):(Sa(V),os(V,h)),hl(()=>{V._isLeaving&&(As(V,d),os(V,y),fl(j)||pl(V,o,C,xe))}),Ks(j,[V,xe])},onEnterCancelled(V){D(V,!1,void 0,!0),Ks(G,[V])},onAppearCancelled(V){D(V,!0,void 0,!0),Ks(se,[V])},onLeaveCancelled(V){Q(V),Ks(P,[V])}})}function gv(e){if(e==null)return null;if(st(e))return[Wi(e.enter),Wi(e.leave)];{const t=Wi(e);return[t,t]}}function Wi(e){return bh(e)}function os(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[_n]||(e[_n]=new Set)).add(t)}function As(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[_n];n&&(n.delete(t),n.size||(e[_n]=void 0))}function hl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let yv=0;function pl(e,t,n,o){const i=e._endId=++yv,a=()=>{i===e._endId&&o()};if(n!=null)return setTimeout(a,n);const{type:r,timeout:l,propCount:c}=ad(e,t);if(!r)return o();const f=r+"end";let u=0;const d=()=>{e.removeEventListener(f,h),a()},h=y=>{y.target===e&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},l+1),e.addEventListener(f,h)}function ad(e,t){const n=window.getComputedStyle(e),o=p=>(n[p]||"").split(", "),i=o(`${xs}Delay`),a=o(`${xs}Duration`),r=vl(i,a),l=o(`${Ln}Delay`),c=o(`${Ln}Duration`),f=vl(l,c);let u=null,d=0,h=0;t===xs?r>0&&(u=xs,d=r,h=a.length):t===Ln?f>0&&(u=Ln,d=f,h=c.length):(d=Math.max(r,f),u=d>0?r>f?xs:Ln:null,h=u?u===xs?a.length:c.length:0);const y=u===xs&&/\b(?:transform|all)(?:,|$)/.test(o(`${xs}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:y}}function vl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>ml(n)+ml(e[o])))}function ml(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Sa(e){return(e?e.ownerDocument:document).body.offsetHeight}function bv(e,t,n){const o=e[_n];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const gl=Symbol("_vod"),_v=Symbol("_vsh"),wv=Symbol(""),$v=/(?:^|;)\s*display\s*:/;function Cv(e,t,n){const o=e.style,i=ct(n);let a=!1;if(n&&!i){if(t)if(ct(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&Bo(o,l,"")}else for(const r in t)n[r]==null&&Bo(o,r,"");for(const r in n)r==="display"&&(a=!0),Bo(o,r,n[r])}else if(i){if(t!==n){const r=o[wv];r&&(n+=";"+r),o.cssText=n,a=$v.test(n)}}else t&&e.removeAttribute("style");gl in e&&(e[gl]=a?o.display:"",e[_v]&&(o.display="none"))}const yl=/\s*!important$/;function Bo(e,t,n){if(Oe(n))n.forEach(o=>Bo(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Tv(e,t);yl.test(n)?e.setProperty(qs(o),n.replace(yl,""),"important"):e[o]=n}}const bl=["Webkit","Moz","ms"],zi={};function Tv(e,t){const n=zi[t];if(n)return n;let o=Dt(t);if(o!=="filter"&&o in e)return zi[t]=o;o=ri(o);for(let i=0;i<bl.length;i++){const a=bl[i]+o;if(a in e)return zi[t]=a}return t}const _l="http://www.w3.org/1999/xlink";function wl(e,t,n,o,i,a=Eh(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(_l,t.slice(6,t.length)):e.setAttributeNS(_l,t,n):n==null||a&&!Xc(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Kt(n)?String(n):n)}function $l(e,t,n,o,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?sd(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Xc(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(i||t)}function Ys(e,t,n,o){e.addEventListener(t,n,o)}function Ev(e,t,n,o){e.removeEventListener(t,n,o)}const Cl=Symbol("_vei");function kv(e,t,n,o,i=null){const a=e[Cl]||(e[Cl]={}),r=a[t];if(o&&r)r.value=o;else{const[l,c]=Sv(t);if(o){const f=a[t]=Nv(o,i);Ys(e,l,f,c)}else r&&(Ev(e,l,r,c),a[t]=void 0)}}const Tl=/(?:Once|Passive|Capture)$/;function Sv(e){let t;if(Tl.test(e)){t={};let o;for(;o=e.match(Tl);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):qs(e.slice(2)),t]}let Xi=0;const Iv=Promise.resolve(),xv=()=>Xi||(Iv.then(()=>Xi=0),Xi=Date.now());function Nv(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;zt(Av(o,n.value),t,5,[o])};return n.value=e,n.attached=xv(),n}function Av(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>i=>!i._stopped&&o&&o(i))}else return t}const El=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rv=(e,t,n,o,i,a)=>{const r=i==="svg";t==="class"?bv(e,o,r):t==="style"?Cv(e,n,o):ni(t)?er(t)||kv(e,t,n,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lv(e,t,o,r))?($l(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&wl(e,t,o,r,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ct(o))?$l(e,Dt(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),wl(e,t,o,r))};function Lv(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&El(t)&&De(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return El(t)&&ct(n)?!1:t in e}const rd=new WeakMap,ld=new WeakMap,Qo=Symbol("_moveCb"),kl=Symbol("_enterCb"),Ov=e=>(delete e.props.mode,e),Pv=Ov({name:"TransitionGroup",props:ht({},od,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=yi(),o=Tu();let i,a;return Ru(()=>{if(!i.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Dv(i[0].el,n.vnode.el,r)){i=[];return}i.forEach(Mv),i.forEach(Hv);const l=i.filter(Uv);Sa(n.vnode.el),l.forEach(c=>{const f=c.el,u=f.style;os(f,r),u.transform=u.webkitTransform=u.transitionDuration="";const d=f[Qo]=h=>{h&&h.target!==f||(!h||h.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",d),f[Qo]=null,As(f,r))};f.addEventListener("transitionend",d)}),i=[]}),()=>{const r=je(e),l=id(r);let c=r.tag||Ce;if(i=[],a)for(let f=0;f<a.length;f++){const u=a[f];u.el&&u.el instanceof Element&&(i.push(u),nn(u,Zn(u,l,o,n)),rd.set(u,{left:u.el.offsetLeft,top:u.el.offsetTop}))}a=t.default?ur(t.default()):[];for(let f=0;f<a.length;f++){const u=a[f];u.key!=null&&nn(u,Zn(u,l,o,n))}return fe(c,null,a)}}}),cd=Pv;function Mv(e){const t=e.el;t[Qo]&&t[Qo](),t[kl]&&t[kl]()}function Hv(e){ld.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function Uv(e){const t=rd.get(e),n=ld.get(e),o=t.left-n.left,i=t.top-n.top;if(o||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${o}px,${i}px)`,a.transitionDuration="0s",e}}function Dv(e,t,n){const o=e.cloneNode(),i=e[_n];i&&i.forEach(l=>{l.split(/\s+/).forEach(c=>c&&o.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(o);const{hasTransform:r}=ad(o);return a.removeChild(o),r}const Zo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?n=>Mo(t,n):t};function Bv(e){e.target.composing=!0}function Sl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const yn=Symbol("_assign");function Il(e,t,n){return t&&(e=e.trim()),n&&(e=li(e)),e}const Te={created(e,{modifiers:{lazy:t,trim:n,number:o}},i){e[yn]=Zo(i);const a=o||i.props&&i.props.type==="number";Ys(e,t?"change":"input",r=>{r.target.composing||e[yn](Il(e.value,n,a))}),(n||a)&&Ys(e,"change",()=>{e.value=Il(e.value,n,a)}),t||(Ys(e,"compositionstart",Bv),Ys(e,"compositionend",Sl),Ys(e,"change",Sl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:i,number:a}},r){if(e[yn]=Zo(r),e.composing)return;const l=(a||e.type==="number")&&!/^0\d/.test(e.value)?li(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||i&&e.value.trim()===c)||(e.value=c))}},Vt={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=oi(t);Ys(e,"change",()=>{const a=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?li(ei(r)):ei(r));e[yn](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,Xt(()=>{e._assigning=!1})}),e[yn]=Zo(o)},mounted(e,{value:t}){xl(e,t)},beforeUpdate(e,t,n){e[yn]=Zo(n)},updated(e,{value:t}){e._assigning||xl(e,t)}};function xl(e,t){const n=e.multiple,o=Oe(t);if(!(n&&!o&&!oi(t))){for(let i=0,a=e.options.length;i<a;i++){const r=e.options[i],l=ei(r);if(n)if(o){const c=typeof l;c==="string"||c==="number"?r.selected=t.some(f=>String(f)===String(l)):r.selected=Sh(t,l)>-1}else r.selected=t.has(l);else if(ui(ei(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ei(e){return"_value"in e?e._value:e.value}const qv=["ctrl","shift","alt","meta"],Fv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qv.some(n=>e[`${n}Key`]&&!t.includes(n))},Ze=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(i,...a)=>{for(let r=0;r<t.length;r++){const l=Fv[t[r]];if(l&&l(i,t))return}return e(i,...a)})},Gv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=i=>{if(!("key"in i))return;const a=qs(i.key);if(t.some(r=>r===a||Gv[r]===a))return e(i)})},Vv=ht({patchProp:Rv},vv);let Nl;function jv(){return Nl||(Nl=zp(Vv))}const Kv=(...e)=>{const t=jv().createApp(...e),{mount:n}=t;return t.mount=o=>{const i=zv(o);if(!i)return;const a=t._component;!De(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=n(i,!1,Wv(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Wv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zv(e){return ct(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ud;const _i=e=>ud=e,dd=Symbol();function Ia(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Kn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Kn||(Kn={}));function Xv(){const e=Zc(!0),t=e.run(()=>M({}));let n=[],o=[];const i=lr({install(a){_i(i),i._a=a,a.provide(dd,i),a.config.globalProperties.$pinia=i,o.forEach(r=>n.push(r)),o=[]},use(a){return this._a?n.push(a):o.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const fd=()=>{};function Al(e,t,n,o=fd){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&eu()&&Ih(i),i}function dn(e,...t){e.slice().forEach(n=>{n(...t)})}const Yv=e=>e(),Rl=Symbol(),Yi=Symbol();function xa(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],i=e[n];Ia(i)&&Ia(o)&&e.hasOwnProperty(n)&&!lt(o)&&!ws(o)?e[n]=xa(i,o):e[n]=o}return e}const Jv=Symbol();function Qv(e){return!Ia(e)||!e.hasOwnProperty(Jv)}const{assign:Rs}=Object;function Zv(e){return!!(lt(e)&&e.effect)}function em(e,t,n,o){const{state:i,actions:a,getters:r}=t,l=n.state.value[e];let c;function f(){l||(n.state.value[e]=i?i():{});const u=Jh(n.state.value[e]);return Rs(u,a,Object.keys(r||{}).reduce((d,h)=>(d[h]=lr(pe(()=>{_i(n);const y=n._s.get(e);return r[h].call(y,y)})),d),{}))}return c=hd(e,f,t,n,o,!0),c}function hd(e,t,n={},o,i,a){let r;const l=Rs({actions:{}},n),c={deep:!0};let f,u,d=[],h=[],y;const p=o.state.value[e];!a&&!p&&(o.state.value[e]={}),M({});let b;function C(se){let D;f=u=!1,typeof se=="function"?(se(o.state.value[e]),D={type:Kn.patchFunction,storeId:e,events:y}):(xa(o.state.value[e],se),D={type:Kn.patchObject,payload:se,storeId:e,events:y});const Q=b=Symbol();Xt().then(()=>{b===Q&&(f=!0)}),u=!0,dn(d,D,o.state.value[e])}const x=a?function(){const{state:D}=n,Q=D?D():{};this.$patch(te=>{Rs(te,Q)})}:fd;function I(){r.stop(),d=[],h=[],o._s.delete(e)}const G=(se,D="")=>{if(Rl in se)return se[Yi]=D,se;const Q=function(){_i(o);const te=Array.from(arguments),V=[],ue=[];function xe(T){V.push(T)}function Ae(T){ue.push(T)}dn(h,{args:te,name:Q[Yi],store:P,after:xe,onError:Ae});let q;try{q=se.apply(this&&this.$id===e?this:P,te)}catch(T){throw dn(ue,T),T}return q instanceof Promise?q.then(T=>(dn(V,T),T)).catch(T=>(dn(ue,T),Promise.reject(T))):(dn(V,q),q)};return Q[Rl]=!0,Q[Yi]=D,Q},j={_p:o,$id:e,$onAction:Al.bind(null,h),$patch:C,$reset:x,$subscribe(se,D={}){const Q=Al(d,se,D.detached,()=>te()),te=r.run(()=>mt(()=>o.state.value[e],V=>{(D.flush==="sync"?u:f)&&se({storeId:e,type:Kn.direct,events:y},V)},Rs({},c,D)));return Q},$dispose:I},P=Je(j);o._s.set(e,P);const S=(o._a&&o._a.runWithContext||Yv)(()=>o._e.run(()=>(r=Zc()).run(()=>t({action:G}))));for(const se in S){const D=S[se];if(lt(D)&&!Zv(D)||ws(D))a||(p&&Qv(D)&&(lt(D)?D.value=p[se]:xa(D,p[se])),o.state.value[e][se]=D);else if(typeof D=="function"){const Q=G(D,se);S[se]=Q,l.actions[se]=D}}return Rs(P,S),Rs(je(P),S),Object.defineProperty(P,"$state",{get:()=>o.state.value[e],set:se=>{C(D=>{Rs(D,se)})}}),o._p.forEach(se=>{Rs(P,r.run(()=>se({store:P,app:o._a,pinia:o,options:l})))}),p&&a&&n.hydrate&&n.hydrate(P.$state,p),f=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function Qt(e,t,n){let o,i;const a=typeof t=="function";typeof e=="string"?(o=e,i=a?n:t):(i=e,o=e.id);function r(l,c){const f=Ap();return l=l||(f?Ut(dd,null):null),l&&_i(l),l=ud,l._s.has(o)||(a?hd(o,t,i,l):em(o,i,l)),l._s.get(o)}return r.$id=o,r}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const hn=typeof document<"u";function pd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function tm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&pd(e.default)}const Xe=Object.assign;function Ji(e,t){const n={};for(const o in t){const i=t[o];n[o]=Yt(i)?i.map(e):e(i)}return n}const Wn=()=>{},Yt=Array.isArray;function Ll(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}const vd=/#/g,sm=/&/g,nm=/\//g,om=/=/g,im=/\?/g,md=/\+/g,am=/%5B/g,rm=/%5D/g,gd=/%5E/g,lm=/%60/g,yd=/%7B/g,cm=/%7C/g,bd=/%7D/g,um=/%20/g;function vr(e){return e==null?"":encodeURI(""+e).replace(cm,"|").replace(am,"[").replace(rm,"]")}function dm(e){return vr(e).replace(yd,"{").replace(bd,"}").replace(gd,"^")}function Na(e){return vr(e).replace(md,"%2B").replace(um,"+").replace(vd,"%23").replace(sm,"%26").replace(lm,"`").replace(yd,"{").replace(bd,"}").replace(gd,"^")}function fm(e){return Na(e).replace(om,"%3D")}function hm(e){return vr(e).replace(vd,"%23").replace(im,"%3F")}function pm(e){return hm(e).replace(nm,"%2F")}function no(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const vm=/\/$/,mm=e=>e.replace(vm,"");function Qi(e,t,n="/"){let o,i={},a="",r="";const l=t.indexOf("#");let c=t.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(o=t.slice(0,c),a=t.slice(c,l>0?l:t.length),i=e(a.slice(1))),l>=0&&(o=o||t.slice(0,l),r=t.slice(l,t.length)),o=_m(o??t,n),{fullPath:o+a+r,path:o,query:i,hash:no(r)}}function gm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ol(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ym(e,t,n){const o=t.matched.length-1,i=n.matched.length-1;return o>-1&&o===i&&$n(t.matched[o],n.matched[i])&&_d(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $n(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _d(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!bm(e[n],t[n]))return!1;return!0}function bm(e,t){return Yt(e)?Pl(e,t):Yt(t)?Pl(t,e):e===t}function Pl(e,t){return Yt(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function _m(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),i=o[o.length-1];(i===".."||i===".")&&o.push("");let a=n.length-1,r,l;for(r=0;r<o.length;r++)if(l=o[r],l!==".")if(l==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+o.slice(r).join("/")}const Ns={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Aa=function(e){return e.pop="pop",e.push="push",e}({}),Zi=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function wm(e){if(!e)if(hn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),mm(e)}const $m=/^[^#]+#/;function Cm(e,t){return e.replace($m,"#")+t}function Tm(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const wi=()=>({left:window.scrollX,top:window.scrollY});function Em(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Tm(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ml(e,t){return(history.state?history.state.position-t:-1)+e}const Ra=new Map;function km(e,t){Ra.set(e,t)}function Sm(e){const t=Ra.get(e);return Ra.delete(e),t}function Im(e){return typeof e=="string"||e&&typeof e=="object"}function wd(e){return typeof e=="string"||typeof e=="symbol"}let rt=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const $d=Symbol("");rt.MATCHER_NOT_FOUND+"",rt.NAVIGATION_GUARD_REDIRECT+"",rt.NAVIGATION_ABORTED+"",rt.NAVIGATION_CANCELLED+"",rt.NAVIGATION_DUPLICATED+"";function Cn(e,t){return Xe(new Error,{type:e,[$d]:!0},t)}function vs(e,t){return e instanceof Error&&$d in e&&(t==null||!!(e.type&t))}const xm=["params","query","hash"];function Nm(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of xm)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Am(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<n.length;++o){const i=n[o].replace(md," "),a=i.indexOf("="),r=no(a<0?i:i.slice(0,a)),l=a<0?null:no(i.slice(a+1));if(r in t){let c=t[r];Yt(c)||(c=t[r]=[c]),c.push(l)}else t[r]=l}return t}function Hl(e){let t="";for(let n in e){const o=e[n];if(n=fm(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Yt(o)?o.map(i=>i&&Na(i)):[o&&Na(o)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Rm(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Yt(o)?o.map(i=>i==null?null:""+i):o==null?o:""+o)}return t}const Lm=Symbol(""),Ul=Symbol(""),$i=Symbol(""),mr=Symbol(""),La=Symbol("");function On(){let e=[];function t(o){return e.push(o),()=>{const i=e.indexOf(o);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ms(e,t,n,o,i,a=r=>r()){const r=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const f=h=>{h===!1?c(Cn(rt.NAVIGATION_ABORTED,{from:n,to:t})):h instanceof Error?c(h):Im(h)?c(Cn(rt.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(r&&o.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),l())},u=a(()=>e.call(o&&o.instances[i],t,n,f));let d=Promise.resolve(u);e.length<3&&(d=d.then(f)),d.catch(h=>c(h))})}function ea(e,t,n,o,i=a=>a()){const a=[];for(const r of e)for(const l in r.components){let c=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(pd(c)){const f=(c.__vccOpts||c)[t];f&&a.push(Ms(f,n,o,r,l,i))}else{let f=c();a.push(()=>f.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${r.path}"`);const d=tm(u)?u.default:u;r.mods[l]=u,r.components[l]=d;const h=(d.__vccOpts||d)[t];return h&&Ms(h,n,o,r,l,i)()}))}}return a}function Om(e,t){const n=[],o=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let r=0;r<a;r++){const l=t.matched[r];l&&(e.matched.find(f=>$n(f,l))?o.push(l):n.push(l));const c=e.matched[r];c&&(t.matched.find(f=>$n(f,c))||i.push(c))}return[n,o,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Pm=()=>location.protocol+"//"+location.host;function Cd(e,t){const{pathname:n,search:o,hash:i}=t,a=e.indexOf("#");if(a>-1){let r=i.includes(e.slice(a))?e.slice(a).length:1,l=i.slice(r);return l[0]!=="/"&&(l="/"+l),Ol(l,"")}return Ol(n,e)+o+i}function Mm(e,t,n,o){let i=[],a=[],r=null;const l=({state:h})=>{const y=Cd(e,location),p=n.value,b=t.value;let C=0;if(h){if(n.value=y,t.value=h,r&&r===p){r=null;return}C=b?h.position-b.position:0}else o(y);i.forEach(x=>{x(n.value,p,{delta:C,type:Aa.pop,direction:C?C>0?Zi.forward:Zi.back:Zi.unknown})})};function c(){r=n.value}function f(h){i.push(h);const y=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return a.push(y),y}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Xe({},h.state,{scroll:wi()}),"")}}function d(){for(const h of a)h();a=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:c,listen:f,destroy:d}}function Dl(e,t,n,o=!1,i=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:i?wi():null}}function Hm(e){const{history:t,location:n}=window,o={value:Cd(e,n)},i={value:t.state};i.value||a(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(c,f,u){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:Pm()+e+c;try{t[u?"replaceState":"pushState"](f,"",h),i.value=f}catch(y){console.error(y),n[u?"replace":"assign"](h)}}function r(c,f){a(c,Xe({},t.state,Dl(i.value.back,c,i.value.forward,!0),f,{position:i.value.position}),!0),o.value=c}function l(c,f){const u=Xe({},i.value,t.state,{forward:c,scroll:wi()});a(u.current,u,!0),a(c,Xe({},Dl(o.value,c,null),{position:u.position+1},f),!1),o.value=c}return{location:o,state:i,push:l,replace:r}}function Um(e){e=wm(e);const t=Hm(e),n=Mm(e,t.state,t.location,t.replace);function o(a,r=!0){r||n.pauseListeners(),history.go(a)}const i=Xe({location:"",base:e,go:o,createHref:Cm.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}let Qs=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var ft=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(ft||{});const Dm={type:Qs.Static,value:""},Bm=/[a-zA-Z0-9_]/;function qm(e){if(!e)return[[]];if(e==="/")return[[Dm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=ft.Static,o=n;const i=[];let a;function r(){a&&i.push(a),a=[]}let l=0,c,f="",u="";function d(){f&&(n===ft.Static?a.push({type:Qs.Static,value:f}):n===ft.Param||n===ft.ParamRegExp||n===ft.ParamRegExpEnd?(a.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:Qs.Param,value:f,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==ft.ParamRegExp){o=n,n=ft.EscapeNext;continue}switch(n){case ft.Static:c==="/"?(f&&d(),r()):c===":"?(d(),n=ft.Param):h();break;case ft.EscapeNext:h(),n=o;break;case ft.Param:c==="("?n=ft.ParamRegExp:Bm.test(c)?h():(d(),n=ft.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case ft.ParamRegExp:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=ft.ParamRegExpEnd:u+=c;break;case ft.ParamRegExpEnd:d(),n=ft.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===ft.ParamRegExp&&t(`Unfinished custom RegExp for param "${f}"`),d(),r(),i}const Bl="[^/]+?",Fm={sensitive:!1,strict:!1,start:!0,end:!0};var Tt=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Tt||{});const Gm=/[.+*?^${}()[\]/\\]/g;function Vm(e,t){const n=Xe({},Fm,t),o=[];let i=n.start?"^":"";const a=[];for(const f of e){const u=f.length?[]:[Tt.Root];n.strict&&!f.length&&(i+="/");for(let d=0;d<f.length;d++){const h=f[d];let y=Tt.Segment+(n.sensitive?Tt.BonusCaseSensitive:0);if(h.type===Qs.Static)d||(i+="/"),i+=h.value.replace(Gm,"\\$&"),y+=Tt.Static;else if(h.type===Qs.Param){const{value:p,repeatable:b,optional:C,regexp:x}=h;a.push({name:p,repeatable:b,optional:C});const I=x||Bl;if(I!==Bl){y+=Tt.BonusCustomRegExp;try{`${I}`}catch(j){throw new Error(`Invalid custom RegExp for param "${p}" (${I}): `+j.message)}}let G=b?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;d||(G=C&&f.length<2?`(?:/${G})`:"/"+G),C&&(G+="?"),i+=G,y+=Tt.Dynamic,C&&(y+=Tt.BonusOptional),b&&(y+=Tt.BonusRepeatable),I===".*"&&(y+=Tt.BonusWildcard)}u.push(y)}o.push(u)}if(n.strict&&n.end){const f=o.length-1;o[f][o[f].length-1]+=Tt.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");function l(f){const u=f.match(r),d={};if(!u)return null;for(let h=1;h<u.length;h++){const y=u[h]||"",p=a[h-1];d[p.name]=y&&p.repeatable?y.split("/"):y}return d}function c(f){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const y of h)if(y.type===Qs.Static)u+=y.value;else if(y.type===Qs.Param){const{value:p,repeatable:b,optional:C}=y,x=p in f?f[p]:"";if(Yt(x)&&!b)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const I=Yt(x)?x.join("/"):x;if(!I)if(C)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=I}}return u||"/"}return{re:r,score:o,keys:a,parse:l,stringify:c}}function jm(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===Tt.Static+Tt.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Tt.Static+Tt.Segment?1:-1:0}function Td(e,t){let n=0;const o=e.score,i=t.score;for(;n<o.length&&n<i.length;){const a=jm(o[n],i[n]);if(a)return a;n++}if(Math.abs(i.length-o.length)===1){if(ql(o))return 1;if(ql(i))return-1}return i.length-o.length}function ql(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Km={strict:!1,end:!0,sensitive:!1};function Wm(e,t,n){const o=Vm(qm(e.path),n),i=Xe(o,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function zm(e,t){const n=[],o=new Map;t=Ll(Km,t);function i(d){return o.get(d)}function a(d,h,y){const p=!y,b=Gl(d);b.aliasOf=y&&y.record;const C=Ll(t,d),x=[b];if("alias"in d){const j=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of j)x.push(Gl(Xe({},b,{components:y?y.record.components:b.components,path:P,aliasOf:y?y.record:b})))}let I,G;for(const j of x){const{path:P}=j;if(h&&P[0]!=="/"){const w=h.record.path,S=w[w.length-1]==="/"?"":"/";j.path=h.record.path+(P&&S+P)}if(I=Wm(j,h,C),y?y.alias.push(I):(G=G||I,G!==I&&G.alias.push(I),p&&d.name&&!Vl(I)&&r(d.name)),Ed(I)&&c(I),b.children){const w=b.children;for(let S=0;S<w.length;S++)a(w[S],I,y&&y.children[S])}y=y||I}return G?()=>{r(G)}:Wn}function r(d){if(wd(d)){const h=o.get(d);h&&(o.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(r),h.alias.forEach(r))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&o.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function l(){return n}function c(d){const h=Jm(d,n);n.splice(h,0,d),d.record.name&&!Vl(d)&&o.set(d.record.name,d)}function f(d,h){let y,p={},b,C;if("name"in d&&d.name){if(y=o.get(d.name),!y)throw Cn(rt.MATCHER_NOT_FOUND,{location:d});C=y.record.name,p=Xe(Fl(h.params,y.keys.filter(G=>!G.optional).concat(y.parent?y.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),d.params&&Fl(d.params,y.keys.map(G=>G.name))),b=y.stringify(p)}else if(d.path!=null)b=d.path,y=n.find(G=>G.re.test(b)),y&&(p=y.parse(b),C=y.record.name);else{if(y=h.name?o.get(h.name):n.find(G=>G.re.test(h.path)),!y)throw Cn(rt.MATCHER_NOT_FOUND,{location:d,currentLocation:h});C=y.record.name,p=Xe({},h.params,d.params),b=y.stringify(p)}const x=[];let I=y;for(;I;)x.unshift(I.record),I=I.parent;return{name:C,path:b,params:p,matched:x,meta:Ym(x)}}e.forEach(d=>a(d));function u(){n.length=0,o.clear()}return{addRoute:a,resolve:f,removeRoute:r,clearRoutes:u,getRoutes:l,getRecordMatcher:i}}function Fl(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Gl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Xm(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Xm(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function Vl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ym(e){return e.reduce((t,n)=>Xe(t,n.meta),{})}function Jm(e,t){let n=0,o=t.length;for(;n!==o;){const a=n+o>>1;Td(e,t[a])<0?o=a:n=a+1}const i=Qm(e);return i&&(o=t.lastIndexOf(i,o-1)),o}function Qm(e){let t=e;for(;t=t.parent;)if(Ed(t)&&Td(e,t)===0)return t}function Ed({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function jl(e){const t=Ut($i),n=Ut(mr),o=pe(()=>{const c=H(e.to);return t.resolve(c)}),i=pe(()=>{const{matched:c}=o.value,{length:f}=c,u=c[f-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex($n.bind(null,u));if(h>-1)return h;const y=Kl(c[f-2]);return f>1&&Kl(u)===y&&d[d.length-1].path!==y?d.findIndex($n.bind(null,c[f-2])):h}),a=pe(()=>i.value>-1&&ng(n.params,o.value.params)),r=pe(()=>i.value>-1&&i.value===n.matched.length-1&&_d(n.params,o.value.params));function l(c={}){if(sg(c)){const f=t[H(e.replace)?"replace":"push"](H(e.to)).catch(Wn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:o,href:pe(()=>o.value.href),isActive:a,isExactActive:r,navigate:l}}function Zm(e){return e.length===1?e[0]:e}const eg=xu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:jl,setup(e,{slots:t}){const n=Je(jl(e)),{options:o}=Ut($i),i=pe(()=>({[Wl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Wl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Zm(t.default(n));return e.custom?a:pr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},a)}}}),tg=eg;function sg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ng(e,t){for(const n in t){const o=t[n],i=e[n];if(typeof o=="string"){if(o!==i)return!1}else if(!Yt(i)||i.length!==o.length||o.some((a,r)=>a!==i[r]))return!1}return!0}function Kl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wl=(e,t,n)=>e??t??n,og=xu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=Ut(La),i=pe(()=>e.route||o.value),a=Ut(Ul,0),r=pe(()=>{let f=H(a);const{matched:u}=i.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),l=pe(()=>i.value.matched[r.value]);Ho(Ul,pe(()=>r.value+1)),Ho(Lm,l),Ho(La,i);const c=M();return mt(()=>[c.value,l.value,e.name],([f,u,d],[h,y,p])=>{u&&(u.instances[d]=f,y&&y!==u&&f&&f===h&&(u.leaveGuards.size||(u.leaveGuards=y.leaveGuards),u.updateGuards.size||(u.updateGuards=y.updateGuards))),f&&u&&(!y||!$n(u,y)||!h)&&(u.enterCallbacks[d]||[]).forEach(b=>b(f))},{flush:"post"}),()=>{const f=i.value,u=e.name,d=l.value,h=d&&d.components[u];if(!h)return zl(n.default,{Component:h,route:f});const y=d.props[u],p=y?y===!0?f.params:typeof y=="function"?y(f):y:null,C=pr(h,Xe({},p,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return zl(n.default,{Component:C,route:f})||C}}});function zl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ig=og;function ag(e){const t=zm(e.routes,e),n=e.parseQuery||Am,o=e.stringifyQuery||Hl,i=e.history,a=On(),r=On(),l=On(),c=zh(Ns);let f=Ns;hn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ji.bind(null,ee=>""+ee),d=Ji.bind(null,pm),h=Ji.bind(null,no);function y(ee,he){let de,be;return wd(ee)?(de=t.getRecordMatcher(ee),be=he):be=ee,t.addRoute(be,de)}function p(ee){const he=t.getRecordMatcher(ee);he&&t.removeRoute(he)}function b(){return t.getRoutes().map(ee=>ee.record)}function C(ee){return!!t.getRecordMatcher(ee)}function x(ee,he){if(he=Xe({},he||c.value),typeof ee=="string"){const U=Qi(n,ee,he.path),oe=t.resolve({path:U.path},he),ie=i.createHref(U.fullPath);return Xe(U,oe,{params:h(oe.params),hash:no(U.hash),redirectedFrom:void 0,href:ie})}let de;if(ee.path!=null)de=Xe({},ee,{path:Qi(n,ee.path,he.path).path});else{const U=Xe({},ee.params);for(const oe in U)U[oe]==null&&delete U[oe];de=Xe({},ee,{params:d(U)}),he.params=d(he.params)}const be=t.resolve(de,he),Ne=ee.hash||"";be.params=u(h(be.params));const E=gm(o,Xe({},ee,{hash:dm(Ne),path:be.path})),N=i.createHref(E);return Xe({fullPath:E,hash:Ne,query:o===Hl?Rm(ee.query):ee.query||{}},be,{redirectedFrom:void 0,href:N})}function I(ee){return typeof ee=="string"?Qi(n,ee,c.value.path):Xe({},ee)}function G(ee,he){if(f!==ee)return Cn(rt.NAVIGATION_CANCELLED,{from:he,to:ee})}function j(ee){return S(ee)}function P(ee){return j(Xe(I(ee),{replace:!0}))}function w(ee,he){const de=ee.matched[ee.matched.length-1];if(de&&de.redirect){const{redirect:be}=de;let Ne=typeof be=="function"?be(ee,he):be;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=I(Ne):{path:Ne},Ne.params={}),Xe({query:ee.query,hash:ee.hash,params:Ne.path!=null?{}:ee.params},Ne)}}function S(ee,he){const de=f=x(ee),be=c.value,Ne=ee.state,E=ee.force,N=ee.replace===!0,U=w(de,be);if(U)return S(Xe(I(U),{state:typeof U=="object"?Xe({},Ne,U.state):Ne,force:E,replace:N}),he||de);const oe=de;oe.redirectedFrom=he;let ie;return!E&&ym(o,be,de)&&(ie=Cn(rt.NAVIGATION_DUPLICATED,{to:oe,from:be}),Y(be,be,!0,!1)),(ie?Promise.resolve(ie):Q(oe,be)).catch(ne=>vs(ne)?vs(ne,rt.NAVIGATION_GUARD_REDIRECT)?ne:A(ne):$(ne,oe,be)).then(ne=>{if(ne){if(vs(ne,rt.NAVIGATION_GUARD_REDIRECT))return S(Xe({replace:N},I(ne.to),{state:typeof ne.to=="object"?Xe({},Ne,ne.to.state):Ne,force:E}),he||oe)}else ne=V(oe,be,!0,N,Ne);return te(oe,be,ne),ne})}function se(ee,he){const de=G(ee,he);return de?Promise.reject(de):Promise.resolve()}function D(ee){const he=F.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(ee):ee()}function Q(ee,he){let de;const[be,Ne,E]=Om(ee,he);de=ea(be.reverse(),"beforeRouteLeave",ee,he);for(const U of be)U.leaveGuards.forEach(oe=>{de.push(Ms(oe,ee,he))});const N=se.bind(null,ee,he);return de.push(N),Le(de).then(()=>{de=[];for(const U of a.list())de.push(Ms(U,ee,he));return de.push(N),Le(de)}).then(()=>{de=ea(Ne,"beforeRouteUpdate",ee,he);for(const U of Ne)U.updateGuards.forEach(oe=>{de.push(Ms(oe,ee,he))});return de.push(N),Le(de)}).then(()=>{de=[];for(const U of E)if(U.beforeEnter)if(Yt(U.beforeEnter))for(const oe of U.beforeEnter)de.push(Ms(oe,ee,he));else de.push(Ms(U.beforeEnter,ee,he));return de.push(N),Le(de)}).then(()=>(ee.matched.forEach(U=>U.enterCallbacks={}),de=ea(E,"beforeRouteEnter",ee,he,D),de.push(N),Le(de))).then(()=>{de=[];for(const U of r.list())de.push(Ms(U,ee,he));return de.push(N),Le(de)}).catch(U=>vs(U,rt.NAVIGATION_CANCELLED)?U:Promise.reject(U))}function te(ee,he,de){l.list().forEach(be=>D(()=>be(ee,he,de)))}function V(ee,he,de,be,Ne){const E=G(ee,he);if(E)return E;const N=he===Ns,U=hn?history.state:{};de&&(be||N?i.replace(ee.fullPath,Xe({scroll:N&&U&&U.scroll},Ne)):i.push(ee.fullPath,Ne)),c.value=ee,Y(ee,he,de,N),A()}let ue;function xe(){ue||(ue=i.listen((ee,he,de)=>{if(!Se.listening)return;const be=x(ee),Ne=w(be,Se.currentRoute.value);if(Ne){S(Xe(Ne,{replace:!0,force:!0}),be).catch(Wn);return}f=be;const E=c.value;hn&&km(Ml(E.fullPath,de.delta),wi()),Q(be,E).catch(N=>vs(N,rt.NAVIGATION_ABORTED|rt.NAVIGATION_CANCELLED)?N:vs(N,rt.NAVIGATION_GUARD_REDIRECT)?(S(Xe(I(N.to),{force:!0}),be).then(U=>{vs(U,rt.NAVIGATION_ABORTED|rt.NAVIGATION_DUPLICATED)&&!de.delta&&de.type===Aa.pop&&i.go(-1,!1)}).catch(Wn),Promise.reject()):(de.delta&&i.go(-de.delta,!1),$(N,be,E))).then(N=>{N=N||V(be,E,!1),N&&(de.delta&&!vs(N,rt.NAVIGATION_CANCELLED)?i.go(-de.delta,!1):de.type===Aa.pop&&vs(N,rt.NAVIGATION_ABORTED|rt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),te(be,E,N)}).catch(Wn)}))}let Ae=On(),q=On(),T;function $(ee,he,de){A(ee);const be=q.list();return be.length?be.forEach(Ne=>Ne(ee,he,de)):console.error(ee),Promise.reject(ee)}function k(){return T&&c.value!==Ns?Promise.resolve():new Promise((ee,he)=>{Ae.add([ee,he])})}function A(ee){return T||(T=!ee,xe(),Ae.list().forEach(([he,de])=>ee?de(ee):he()),Ae.reset()),ee}function Y(ee,he,de,be){const{scrollBehavior:Ne}=e;if(!hn||!Ne)return Promise.resolve();const E=!de&&Sm(Ml(ee.fullPath,0))||(be||!de)&&history.state&&history.state.scroll||null;return Xt().then(()=>Ne(ee,he,E)).then(N=>N&&Em(N)).catch(N=>$(N,ee,he))}const K=ee=>i.go(ee);let O;const F=new Set,Se={currentRoute:c,listening:!0,addRoute:y,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:b,resolve:x,options:e,push:j,replace:P,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:a.add,beforeResolve:r.add,afterEach:l.add,onError:q.add,isReady:k,install(ee){ee.component("RouterLink",tg),ee.component("RouterView",ig),ee.config.globalProperties.$router=Se,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>H(c)}),hn&&!O&&c.value===Ns&&(O=!0,j(i.location).catch(be=>{}));const he={};for(const be in Ns)Object.defineProperty(he,be,{get:()=>c.value[be],enumerable:!0});ee.provide($i,Se),ee.provide(mr,vu(he)),ee.provide(La,c);const de=ee.unmount;F.add(ee),ee.unmount=function(){F.delete(ee),F.size<1&&(f=Ns,ue&&ue(),ue=null,c.value=Ns,O=!1,T=!1),de()}}};function Le(ee){return ee.reduce((he,de)=>he.then(()=>D(de)),Promise.resolve())}return Se}function Zt(){return Ut($i)}function kd(e){return Ut(mr)}const rg="modulepreload",lg=function(e){return"/"+e},Xl={},Oa=function(t,n,o){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=lg(c),c in Xl)return;Xl[c]=!0;const f=c.endsWith(".css"),u=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":rg,f||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),f)return new Promise((h,y)=>{d.addEventListener("load",h),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Sd(e,t){return function(){return e.apply(t,arguments)}}const{toString:cg}=Object.prototype,{getPrototypeOf:gr}=Object,{iterator:Ci,toStringTag:Id}=Symbol,Ti=(e=>t=>{const n=cg.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),es=e=>(e=e.toLowerCase(),t=>Ti(t)===e),Ei=e=>t=>typeof t===e,{isArray:En}=Array,Tn=Ei("undefined");function uo(e){return e!==null&&!Tn(e)&&e.constructor!==null&&!Tn(e.constructor)&&St(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xd=es("ArrayBuffer");function ug(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xd(e.buffer),t}const dg=Ei("string"),St=Ei("function"),Nd=Ei("number"),fo=e=>e!==null&&typeof e=="object",fg=e=>e===!0||e===!1,qo=e=>{if(Ti(e)!=="object")return!1;const t=gr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Id in e)&&!(Ci in e)},hg=e=>{if(!fo(e)||uo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},pg=es("Date"),vg=es("File"),mg=es("Blob"),gg=es("FileList"),yg=e=>fo(e)&&St(e.pipe),bg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||St(e.append)&&((t=Ti(e))==="formdata"||t==="object"&&St(e.toString)&&e.toString()==="[object FormData]"))},_g=es("URLSearchParams"),[wg,$g,Cg,Tg]=["ReadableStream","Request","Response","Headers"].map(es),Eg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ho(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,i;if(typeof e!="object"&&(e=[e]),En(e))for(o=0,i=e.length;o<i;o++)t.call(null,e[o],o,e);else{if(uo(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),r=a.length;let l;for(o=0;o<r;o++)l=a[o],t.call(null,e[l],l,e)}}function Ad(e,t){if(uo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let o=n.length,i;for(;o-- >0;)if(i=n[o],t===i.toLowerCase())return i;return null}const Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rd=e=>!Tn(e)&&e!==Zs;function Pa(){const{caseless:e,skipUndefined:t}=Rd(this)&&this||{},n={},o=(i,a)=>{const r=e&&Ad(n,a)||a;qo(n[r])&&qo(i)?n[r]=Pa(n[r],i):qo(i)?n[r]=Pa({},i):En(i)?n[r]=i.slice():(!t||!Tn(i))&&(n[r]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ho(arguments[i],o);return n}const kg=(e,t,n,{allOwnKeys:o}={})=>(ho(t,(i,a)=>{n&&St(i)?e[a]=Sd(i,n):e[a]=i},{allOwnKeys:o}),e),Sg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ig=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},xg=(e,t,n,o)=>{let i,a,r;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)r=i[a],(!o||o(r,e,t))&&!l[r]&&(t[r]=e[r],l[r]=!0);e=n!==!1&&gr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ng=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},Ag=e=>{if(!e)return null;if(En(e))return e;let t=e.length;if(!Nd(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Rg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gr(Uint8Array)),Lg=(e,t)=>{const o=(e&&e[Ci]).call(e);let i;for(;(i=o.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Og=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},Pg=es("HTMLFormElement"),Mg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,i){return o.toUpperCase()+i}),Yl=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Hg=es("RegExp"),Ld=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};ho(n,(i,a)=>{let r;(r=t(i,a,e))!==!1&&(o[a]=r||i)}),Object.defineProperties(e,o)},Ug=e=>{Ld(e,(t,n)=>{if(St(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(St(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dg=(e,t)=>{const n={},o=i=>{i.forEach(a=>{n[a]=!0})};return En(e)?o(e):o(String(e).split(t)),n},Bg=()=>{},qg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Fg(e){return!!(e&&St(e.append)&&e[Id]==="FormData"&&e[Ci])}const Gg=e=>{const t=new Array(10),n=(o,i)=>{if(fo(o)){if(t.indexOf(o)>=0)return;if(uo(o))return o;if(!("toJSON"in o)){t[i]=o;const a=En(o)?[]:{};return ho(o,(r,l)=>{const c=n(r,i+1);!Tn(c)&&(a[l]=c)}),t[i]=void 0,a}}return o};return n(e,0)},Vg=es("AsyncFunction"),jg=e=>e&&(fo(e)||St(e))&&St(e.then)&&St(e.catch),Od=((e,t)=>e?setImmediate:t?((n,o)=>(Zs.addEventListener("message",({source:i,data:a})=>{i===Zs&&a===n&&o.length&&o.shift()()},!1),i=>{o.push(i),Zs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",St(Zs.postMessage)),Kg=typeof queueMicrotask<"u"?queueMicrotask.bind(Zs):typeof process<"u"&&process.nextTick||Od,Wg=e=>e!=null&&St(e[Ci]),Z={isArray:En,isArrayBuffer:xd,isBuffer:uo,isFormData:bg,isArrayBufferView:ug,isString:dg,isNumber:Nd,isBoolean:fg,isObject:fo,isPlainObject:qo,isEmptyObject:hg,isReadableStream:wg,isRequest:$g,isResponse:Cg,isHeaders:Tg,isUndefined:Tn,isDate:pg,isFile:vg,isBlob:mg,isRegExp:Hg,isFunction:St,isStream:yg,isURLSearchParams:_g,isTypedArray:Rg,isFileList:gg,forEach:ho,merge:Pa,extend:kg,trim:Eg,stripBOM:Sg,inherits:Ig,toFlatObject:xg,kindOf:Ti,kindOfTest:es,endsWith:Ng,toArray:Ag,forEachEntry:Lg,matchAll:Og,isHTMLForm:Pg,hasOwnProperty:Yl,hasOwnProp:Yl,reduceDescriptors:Ld,freezeMethods:Ug,toObjectSet:Dg,toCamelCase:Mg,noop:Bg,toFiniteNumber:qg,findKey:Ad,global:Zs,isContextDefined:Rd,isSpecCompliantForm:Fg,toJSONObject:Gg,isAsyncFn:Vg,isThenable:jg,setImmediate:Od,asap:Kg,isIterable:Wg};function Be(e,t,n,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}Z.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const Pd=Be.prototype,Md={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Md[e]={value:e}});Object.defineProperties(Be,Md);Object.defineProperty(Pd,"isAxiosError",{value:!0});Be.from=(e,t,n,o,i,a)=>{const r=Object.create(Pd);Z.toFlatObject(e,r,function(u){return u!==Error.prototype},f=>f!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Be.call(r,l,c,n,o,i),e&&r.cause==null&&Object.defineProperty(r,"cause",{value:e,configurable:!0}),r.name=e&&e.name||"Error",a&&Object.assign(r,a),r};const zg=null;function Ma(e){return Z.isPlainObject(e)||Z.isArray(e)}function Hd(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function Jl(e,t,n){return e?e.concat(t).map(function(i,a){return i=Hd(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Xg(e){return Z.isArray(e)&&!e.some(Ma)}const Yg=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function ki(e,t,n){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,C){return!Z.isUndefined(C[b])});const o=n.metaTokens,i=n.visitor||u,a=n.dots,r=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(t);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(Z.isDate(p))return p.toISOString();if(Z.isBoolean(p))return p.toString();if(!c&&Z.isBlob(p))throw new Be("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(p)||Z.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,C){let x=p;if(p&&!C&&typeof p=="object"){if(Z.endsWith(b,"{}"))b=o?b:b.slice(0,-2),p=JSON.stringify(p);else if(Z.isArray(p)&&Xg(p)||(Z.isFileList(p)||Z.endsWith(b,"[]"))&&(x=Z.toArray(p)))return b=Hd(b),x.forEach(function(G,j){!(Z.isUndefined(G)||G===null)&&t.append(r===!0?Jl([b],j,a):r===null?b:b+"[]",f(G))}),!1}return Ma(p)?!0:(t.append(Jl(C,b,a),f(p)),!1)}const d=[],h=Object.assign(Yg,{defaultVisitor:u,convertValue:f,isVisitable:Ma});function y(p,b){if(!Z.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));d.push(p),Z.forEach(p,function(x,I){(!(Z.isUndefined(x)||x===null)&&i.call(t,x,Z.isString(I)?I.trim():I,b,h))===!0&&y(x,b?b.concat(I):[I])}),d.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Ql(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function yr(e,t){this._pairs=[],e&&ki(e,this,t)}const Ud=yr.prototype;Ud.append=function(t,n){this._pairs.push([t,n])};Ud.toString=function(t){const n=t?function(o){return t.call(this,o,Ql)}:Ql;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Jg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dd(e,t,n){if(!t)return e;const o=n&&n.encode||Jg;Z.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=Z.isURLSearchParams(t)?t.toString():new yr(t,n).toString(o),a){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Zl{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(o){o!==null&&t(o)})}}const Bd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qg=typeof URLSearchParams<"u"?URLSearchParams:yr,Zg=typeof FormData<"u"?FormData:null,e1=typeof Blob<"u"?Blob:null,t1={isBrowser:!0,classes:{URLSearchParams:Qg,FormData:Zg,Blob:e1},protocols:["http","https","file","blob","url","data"]},br=typeof window<"u"&&typeof document<"u",Ha=typeof navigator=="object"&&navigator||void 0,s1=br&&(!Ha||["ReactNative","NativeScript","NS"].indexOf(Ha.product)<0),n1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o1=br&&window.location.href||"http://localhost",i1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:br,hasStandardBrowserEnv:s1,hasStandardBrowserWebWorkerEnv:n1,navigator:Ha,origin:o1},Symbol.toStringTag,{value:"Module"})),wt={...i1,...t1};function a1(e,t){return ki(e,new wt.classes.URLSearchParams,{visitor:function(n,o,i,a){return wt.isNode&&Z.isBuffer(n)?(this.append(o,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function r1(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function l1(e){const t={},n=Object.keys(e);let o;const i=n.length;let a;for(o=0;o<i;o++)a=n[o],t[a]=e[a];return t}function qd(e){function t(n,o,i,a){let r=n[a++];if(r==="__proto__")return!0;const l=Number.isFinite(+r),c=a>=n.length;return r=!r&&Z.isArray(i)?i.length:r,c?(Z.hasOwnProp(i,r)?i[r]=[i[r],o]:i[r]=o,!l):((!i[r]||!Z.isObject(i[r]))&&(i[r]=[]),t(n,o,i[r],a)&&Z.isArray(i[r])&&(i[r]=l1(i[r])),!l)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const n={};return Z.forEachEntry(e,(o,i)=>{t(r1(o),i,n,0)}),n}return null}function c1(e,t,n){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const po={transitional:Bd,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",i=o.indexOf("application/json")>-1,a=Z.isObject(t);if(a&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return i?JSON.stringify(qd(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)||Z.isReadableStream(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return a1(t,this.formSerializer).toString();if((l=Z.isFileList(t))||o.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ki(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),c1(t)):t}],transformResponse:[function(t){const n=this.transitional||po.transitional,o=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(t)||Z.isReadableStream(t))return t;if(t&&Z.isString(t)&&(o&&!this.responseType||i)){const r=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(r)throw l.name==="SyntaxError"?Be.from(l,Be.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],e=>{po.headers[e]={}});const u1=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d1=e=>{const t={};let n,o,i;return e&&e.split(`
`).forEach(function(r){i=r.indexOf(":"),n=r.substring(0,i).trim().toLowerCase(),o=r.substring(i+1).trim(),!(!n||t[n]&&u1[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},ec=Symbol("internals");function Pn(e){return e&&String(e).trim().toLowerCase()}function Fo(e){return e===!1||e==null?e:Z.isArray(e)?e.map(Fo):String(e)}function f1(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const h1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ta(e,t,n,o,i){if(Z.isFunction(o))return o.call(this,t,n);if(i&&(t=n),!!Z.isString(t)){if(Z.isString(o))return t.indexOf(o)!==-1;if(Z.isRegExp(o))return o.test(t)}}function p1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function v1(e,t){const n=Z.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(i,a,r){return this[o].call(this,t,i,a,r)},configurable:!0})})}let It=class{constructor(t){t&&this.set(t)}set(t,n,o){const i=this;function a(l,c,f){const u=Pn(c);if(!u)throw new Error("header name must be a non-empty string");const d=Z.findKey(i,u);(!d||i[d]===void 0||f===!0||f===void 0&&i[d]!==!1)&&(i[d||c]=Fo(l))}const r=(l,c)=>Z.forEach(l,(f,u)=>a(f,u,c));if(Z.isPlainObject(t)||t instanceof this.constructor)r(t,n);else if(Z.isString(t)&&(t=t.trim())&&!h1(t))r(d1(t),n);else if(Z.isObject(t)&&Z.isIterable(t)){let l={},c,f;for(const u of t){if(!Z.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[f=u[0]]=(c=l[f])?Z.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}r(l,n)}else t!=null&&a(n,t,o);return this}get(t,n){if(t=Pn(t),t){const o=Z.findKey(this,t);if(o){const i=this[o];if(!n)return i;if(n===!0)return f1(i);if(Z.isFunction(n))return n.call(this,i,o);if(Z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Pn(t),t){const o=Z.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||ta(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let i=!1;function a(r){if(r=Pn(r),r){const l=Z.findKey(o,r);l&&(!n||ta(o,o[l],l,n))&&(delete o[l],i=!0)}}return Z.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let o=n.length,i=!1;for(;o--;){const a=n[o];(!t||ta(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,o={};return Z.forEach(this,(i,a)=>{const r=Z.findKey(o,a);if(r){n[r]=Fo(i),delete n[a];return}const l=t?p1(a):String(a).trim();l!==a&&delete n[a],n[l]=Fo(i),o[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Z.forEach(this,(o,i)=>{o!=null&&o!==!1&&(n[i]=t&&Z.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(i=>o.set(i)),o}static accessor(t){const o=(this[ec]=this[ec]={accessors:{}}).accessors,i=this.prototype;function a(r){const l=Pn(r);o[l]||(v1(i,r),o[l]=!0)}return Z.isArray(t)?t.forEach(a):a(t),this}};It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(It.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});Z.freezeMethods(It);function sa(e,t){const n=this||po,o=t||n,i=It.from(o.headers);let a=o.data;return Z.forEach(e,function(l){a=l.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Fd(e){return!!(e&&e.__CANCEL__)}function kn(e,t,n){Be.call(this,e??"canceled",Be.ERR_CANCELED,t,n),this.name="CanceledError"}Z.inherits(kn,Be,{__CANCEL__:!0});function Gd(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new Be("Request failed with status code "+n.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function m1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function g1(e,t){e=e||10;const n=new Array(e),o=new Array(e);let i=0,a=0,r;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),u=o[a];r||(r=f),n[i]=c,o[i]=f;let d=a,h=0;for(;d!==i;)h+=n[d++],d=d%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),f-r<t)return;const y=u&&f-u;return y?Math.round(h*1e3/y):void 0}}function y1(e,t){let n=0,o=1e3/t,i,a;const r=(f,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const u=Date.now(),d=u-n;d>=o?r(f,u):(i=f,a||(a=setTimeout(()=>{a=null,r(i)},o-d)))},()=>i&&r(i)]}const ti=(e,t,n=3)=>{let o=0;const i=g1(50,250);return y1(a=>{const r=a.loaded,l=a.lengthComputable?a.total:void 0,c=r-o,f=i(c),u=r<=l;o=r;const d={loaded:r,total:l,progress:l?r/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&u?(l-r)/f:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},n)},tc=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},sc=e=>(...t)=>Z.asap(()=>e(...t)),b1=wt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,wt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,_1=wt.hasStandardBrowserEnv?{write(e,t,n,o,i,a,r){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Z.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),Z.isString(o)&&l.push(`path=${o}`),Z.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),Z.isString(r)&&l.push(`SameSite=${r}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function w1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vd(e,t,n){let o=!w1(t);return e&&(o||n==!1)?$1(e,t):t}const nc=e=>e instanceof It?{...e}:e;function on(e,t){t=t||{};const n={};function o(f,u,d,h){return Z.isPlainObject(f)&&Z.isPlainObject(u)?Z.merge.call({caseless:h},f,u):Z.isPlainObject(u)?Z.merge({},u):Z.isArray(u)?u.slice():u}function i(f,u,d,h){if(Z.isUndefined(u)){if(!Z.isUndefined(f))return o(void 0,f,d,h)}else return o(f,u,d,h)}function a(f,u){if(!Z.isUndefined(u))return o(void 0,u)}function r(f,u){if(Z.isUndefined(u)){if(!Z.isUndefined(f))return o(void 0,f)}else return o(void 0,u)}function l(f,u,d){if(d in t)return o(f,u);if(d in e)return o(void 0,f)}const c={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(f,u,d)=>i(nc(f),nc(u),d,!0)};return Z.forEach(Object.keys({...e,...t}),function(u){const d=c[u]||i,h=d(e[u],t[u],u);Z.isUndefined(h)&&d!==l||(n[u]=h)}),n}const jd=e=>{const t=on({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:r,auth:l}=t;if(t.headers=r=It.from(r),t.url=Dd(Vd(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&r.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Z.isFormData(n)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(Z.isFunction(n.getHeaders)){const c=n.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([u,d])=>{f.includes(u.toLowerCase())&&r.set(u,d)})}}if(wt.hasStandardBrowserEnv&&(o&&Z.isFunction(o)&&(o=o(t)),o||o!==!1&&b1(t.url))){const c=i&&a&&_1.read(a);c&&r.set(i,c)}return t},C1=typeof XMLHttpRequest<"u",T1=C1&&function(e){return new Promise(function(n,o){const i=jd(e);let a=i.data;const r=It.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:f}=i,u,d,h,y,p;function b(){y&&y(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function x(){if(!C)return;const G=It.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:G,config:e,request:C};Gd(function(S){n(S),b()},function(S){o(S),b()},P),C=null}"onloadend"in C?C.onloadend=x:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(x)},C.onabort=function(){C&&(o(new Be("Request aborted",Be.ECONNABORTED,e,C)),C=null)},C.onerror=function(j){const P=j&&j.message?j.message:"Network Error",w=new Be(P,Be.ERR_NETWORK,e,C);w.event=j||null,o(w),C=null},C.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||Bd;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),o(new Be(j,P.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,e,C)),C=null},a===void 0&&r.setContentType(null),"setRequestHeader"in C&&Z.forEach(r.toJSON(),function(j,P){C.setRequestHeader(P,j)}),Z.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),f&&([h,p]=ti(f,!0),C.addEventListener("progress",h)),c&&C.upload&&([d,y]=ti(c),C.upload.addEventListener("progress",d),C.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(u=G=>{C&&(o(!G||G.type?new kn(null,e,C):G),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const I=m1(i.url);if(I&&wt.protocols.indexOf(I)===-1){o(new Be("Unsupported protocol "+I+":",Be.ERR_BAD_REQUEST,e));return}C.send(a||null)})},E1=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,i;const a=function(f){if(!i){i=!0,l();const u=f instanceof Error?f:this.reason;o.abort(u instanceof Be?u:new kn(u instanceof Error?u.message:u))}};let r=t&&setTimeout(()=>{r=null,a(new Be(`timeout ${t} of ms exceeded`,Be.ETIMEDOUT))},t);const l=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:c}=o;return c.unsubscribe=()=>Z.asap(l),c}},k1=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,i;for(;o<n;)i=o+t,yield e.slice(o,i),o=i},S1=async function*(e,t){for await(const n of I1(e))yield*k1(n,t)},I1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},oc=(e,t,n,o)=>{const i=S1(e,t);let a=0,r,l=c=>{r||(r=!0,o&&o(c))};return new ReadableStream({async pull(c){try{const{done:f,value:u}=await i.next();if(f){l(),c.close();return}let d=u.byteLength;if(n){let h=a+=d;n(h)}c.enqueue(new Uint8Array(u))}catch(f){throw l(f),f}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},ic=64*1024,{isFunction:Ao}=Z,x1=(({Request:e,Response:t})=>({Request:e,Response:t}))(Z.global),{ReadableStream:ac,TextEncoder:rc}=Z.global,lc=(e,...t)=>{try{return!!e(...t)}catch{return!1}},N1=e=>{e=Z.merge.call({skipUndefined:!0},x1,e);const{fetch:t,Request:n,Response:o}=e,i=t?Ao(t):typeof fetch=="function",a=Ao(n),r=Ao(o);if(!i)return!1;const l=i&&Ao(ac),c=i&&(typeof rc=="function"?(p=>b=>p.encode(b))(new rc):async p=>new Uint8Array(await new n(p).arrayBuffer())),f=a&&l&&lc(()=>{let p=!1;const b=new n(wt.origin,{body:new ac,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!b}),u=r&&l&&lc(()=>Z.isReadableStream(new o("").body)),d={stream:u&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(b,C)=>{let x=b&&b[p];if(x)return x.call(b);throw new Be(`Response type '${p}' is not supported`,Be.ERR_NOT_SUPPORT,C)})});const h=async p=>{if(p==null)return 0;if(Z.isBlob(p))return p.size;if(Z.isSpecCompliantForm(p))return(await new n(wt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(p)||Z.isArrayBuffer(p))return p.byteLength;if(Z.isURLSearchParams(p)&&(p=p+""),Z.isString(p))return(await c(p)).byteLength},y=async(p,b)=>{const C=Z.toFiniteNumber(p.getContentLength());return C??h(b)};return async p=>{let{url:b,method:C,data:x,signal:I,cancelToken:G,timeout:j,onDownloadProgress:P,onUploadProgress:w,responseType:S,headers:se,withCredentials:D="same-origin",fetchOptions:Q}=jd(p),te=t||fetch;S=S?(S+"").toLowerCase():"text";let V=E1([I,G&&G.toAbortSignal()],j),ue=null;const xe=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let Ae;try{if(w&&f&&C!=="get"&&C!=="head"&&(Ae=await y(se,x))!==0){let Y=new n(b,{method:"POST",body:x,duplex:"half"}),K;if(Z.isFormData(x)&&(K=Y.headers.get("content-type"))&&se.setContentType(K),Y.body){const[O,F]=tc(Ae,ti(sc(w)));x=oc(Y.body,ic,O,F)}}Z.isString(D)||(D=D?"include":"omit");const q=a&&"credentials"in n.prototype,T={...Q,signal:V,method:C.toUpperCase(),headers:se.normalize().toJSON(),body:x,duplex:"half",credentials:q?D:void 0};ue=a&&new n(b,T);let $=await(a?te(ue,Q):te(b,T));const k=u&&(S==="stream"||S==="response");if(u&&(P||k&&xe)){const Y={};["status","statusText","headers"].forEach(Se=>{Y[Se]=$[Se]});const K=Z.toFiniteNumber($.headers.get("content-length")),[O,F]=P&&tc(K,ti(sc(P),!0))||[];$=new o(oc($.body,ic,O,()=>{F&&F(),xe&&xe()}),Y)}S=S||"text";let A=await d[Z.findKey(d,S)||"text"]($,p);return!k&&xe&&xe(),await new Promise((Y,K)=>{Gd(Y,K,{data:A,headers:It.from($.headers),status:$.status,statusText:$.statusText,config:p,request:ue})})}catch(q){throw xe&&xe(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,p,ue),{cause:q.cause||q}):Be.from(q,q&&q.code,p,ue)}}},A1=new Map,Kd=e=>{let t=e&&e.env||{};const{fetch:n,Request:o,Response:i}=t,a=[o,i,n];let r=a.length,l=r,c,f,u=A1;for(;l--;)c=a[l],f=u.get(c),f===void 0&&u.set(c,f=l?new Map:N1(t)),u=f;return f};Kd();const _r={http:zg,xhr:T1,fetch:{get:Kd}};Z.forEach(_r,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cc=e=>`- ${e}`,R1=e=>Z.isFunction(e)||e===null||e===!1;function L1(e,t){e=Z.isArray(e)?e:[e];const{length:n}=e;let o,i;const a={};for(let r=0;r<n;r++){o=e[r];let l;if(i=o,!R1(o)&&(i=_r[(l=String(o)).toLowerCase()],i===void 0))throw new Be(`Unknown adapter '${l}'`);if(i&&(Z.isFunction(i)||(i=i.get(t))))break;a[l||"#"+r]=i}if(!i){const r=Object.entries(a).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=n?r.length>1?`since :
`+r.map(cc).join(`
`):" "+cc(r[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const Wd={getAdapter:L1,adapters:_r};function na(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kn(null,e)}function uc(e){return na(e),e.headers=It.from(e.headers),e.data=sa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Wd.getAdapter(e.adapter||po.adapter,e)(e).then(function(o){return na(e),o.data=sa.call(e,e.transformResponse,o),o.headers=It.from(o.headers),o},function(o){return Fd(o)||(na(e),o&&o.response&&(o.response.data=sa.call(e,e.transformResponse,o.response),o.response.headers=It.from(o.response.headers))),Promise.reject(o)})}const zd="1.13.2",Si={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Si[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const dc={};Si.transitional=function(t,n,o){function i(a,r){return"[Axios v"+zd+"] Transitional option '"+a+"'"+r+(o?". "+o:"")}return(a,r,l)=>{if(t===!1)throw new Be(i(r," has been removed"+(n?" in "+n:"")),Be.ERR_DEPRECATED);return n&&!dc[r]&&(dc[r]=!0,console.warn(i(r," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,r,l):!0}};Si.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function O1(e,t,n){if(typeof e!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let i=o.length;for(;i-- >0;){const a=o[i],r=t[a];if(r){const l=e[a],c=l===void 0||r(l,a,e);if(c!==!0)throw new Be("option "+a+" must be "+c,Be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Be("Unknown option "+a,Be.ERR_BAD_OPTION)}}const Go={assertOptions:O1,validators:Si},ns=Go.validators;let sn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Zl,response:new Zl}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?a&&!String(o.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+a):o.stack=a}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=on(this.defaults,n);const{transitional:o,paramsSerializer:i,headers:a}=n;o!==void 0&&Go.assertOptions(o,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),i!=null&&(Z.isFunction(i)?n.paramsSerializer={serialize:i}:Go.assertOptions(i,{encode:ns.function,serialize:ns.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Go.assertOptions(n,{baseUrl:ns.spelling("baseURL"),withXsrfToken:ns.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let r=a&&Z.merge(a.common,a[n.method]);a&&Z.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),n.headers=It.concat(r,a);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let u,d=0,h;if(!c){const p=[uc.bind(this),void 0];for(p.unshift(...l),p.push(...f),h=p.length,u=Promise.resolve(n);d<h;)u=u.then(p[d++],p[d++]);return u}h=l.length;let y=n;for(;d<h;){const p=l[d++],b=l[d++];try{y=p(y)}catch(C){b.call(this,C);break}}try{u=uc.call(this,y)}catch(p){return Promise.reject(p)}for(d=0,h=f.length;d<h;)u=u.then(f[d++],f[d++]);return u}getUri(t){t=on(this.defaults,t);const n=Vd(t.baseURL,t.url,t.allowAbsoluteUrls);return Dd(n,t.params,t.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(t){sn.prototype[t]=function(n,o){return this.request(on(o||{},{method:t,url:n,data:(o||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function n(o){return function(a,r,l){return this.request(on(l||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:a,data:r}))}}sn.prototype[t]=n(),sn.prototype[t+"Form"]=n(!0)});let P1=class Xd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const o=this;this.promise.then(i=>{if(!o._listeners)return;let a=o._listeners.length;for(;a-- >0;)o._listeners[a](i);o._listeners=null}),this.promise.then=i=>{let a;const r=new Promise(l=>{o.subscribe(l),a=l}).then(i);return r.cancel=function(){o.unsubscribe(a)},r},t(function(a,r,l){o.reason||(o.reason=new kn(a,r,l),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Xd(function(i){t=i}),cancel:t}}};function M1(e){return function(n){return e.apply(null,n)}}function H1(e){return Z.isObject(e)&&e.isAxiosError===!0}const Ua={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ua).forEach(([e,t])=>{Ua[t]=e});function Yd(e){const t=new sn(e),n=Sd(sn.prototype.request,t);return Z.extend(n,sn.prototype,t,{allOwnKeys:!0}),Z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Yd(on(e,i))},n}const et=Yd(po);et.Axios=sn;et.CanceledError=kn;et.CancelToken=P1;et.isCancel=Fd;et.VERSION=zd;et.toFormData=ki;et.AxiosError=Be;et.Cancel=et.CanceledError;et.all=function(t){return Promise.all(t)};et.spread=M1;et.isAxiosError=H1;et.mergeConfig=on;et.AxiosHeaders=It;et.formToJSON=e=>qd(Z.isHTMLForm(e)?new FormData(e):e);et.getAdapter=Wd.getAdapter;et.HttpStatusCode=Ua;et.default=et;const{Axios:o8,AxiosError:i8,CanceledError:a8,isCancel:r8,CancelToken:l8,VERSION:c8,all:u8,Cancel:d8,isAxiosError:f8,spread:h8,toFormData:p8,AxiosHeaders:v8,HttpStatusCode:m8,formToJSON:g8,getAdapter:y8,mergeConfig:b8}=et,ye=et.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});let Da=!1;const Jd=()=>{Da||(Da=!0,console.warn(" Force Logout: ang chuyn v trang ng nhp..."),localStorage.removeItem("token"),window.location.pathname!=="/login"&&(window.location.href="/login"))},U1=e=>{if(!e)return!0;try{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n)).exp*1e3<Date.now()}catch{return!0}};ye.interceptors.request.use(async e=>{let t=null;try{const{useAuthStore:n}=await Oa(async()=>{const{useAuthStore:i}=await Promise.resolve().then(()=>Ba);return{useAuthStore:i}},void 0),o=n();if(t=o.token,t&&U1(t))return console.warn(" Token ht hn (Client). Logout ngay."),o.logout(),Jd(),Promise.reject(new Error("Token expired"))}catch(n){console.error("Li check token  axios:",n)}return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ye.interceptors.response.use(e=>e,async e=>{var t;if(Da)return Promise.reject(e);if(e.response){const{status:n,data:o}=e.response;if(n===403&&((o==null?void 0:o.error)==="BANNED"||((t=o==null?void 0:o.message)==null?void 0:t.toLowerCase().includes("phong n")))){try{const{useAuthStore:a}=await Oa(async()=>{const{useAuthStore:l}=await Promise.resolve().then(()=>Ba);return{useAuthStore:l}},void 0);a().triggerBan(o.message||"B phong n.")}catch(a){console.error("Khng gi c store  hin ban:",a)}return Promise.reject(e)}if(n===401){console.warn(" 401 Unauthorized -> Logout");try{const{useAuthStore:a}=await Oa(async()=>{const{useAuthStore:l}=await Promise.resolve().then(()=>Ba);return{useAuthStore:l}},void 0);a().logout()}catch{}return Jd(),Promise.reject(e)}}return Promise.reject(e)});function fc(e){try{const t=localStorage.getItem(e);return!t||t==="undefined"||t==="null"?null:JSON.parse(t)}catch{return localStorage.removeItem(e),null}}const Qe=Qt("auth",{state:()=>({user:fc("user"),character:fc("character"),token:localStorage.getItem("token")||null,isLoading:!1,isBanned:!1,banReason:"Vi phm thin quy",banTime:null}),getters:{isAuthenticated:e=>!!e.token,userId:e=>{var t,n;return((t=e.user)==null?void 0:t.userId)||((n=e.user)==null?void 0:n.id)},wallet:e=>{var t;return((t=e.user)==null?void 0:t.wallet)||{gold:0,diamonds:0}},isAdmin:e=>{var t,n,o;return((t=e.user)==null?void 0:t.role)==="ADMIN"||((o=(n=e.user)==null?void 0:n.roles)==null?void 0:o[0])==="ADMIN"},authHeader:e=>({Authorization:`Bearer ${e.token}`,"Content-Type":"application/json"})},actions:{async initialize(){const e=localStorage.getItem("token");e?(this.token=e,ye.defaults.headers.common.Authorization=`Bearer ${e}`,await Promise.all([this.fetchProfile(),this.fetchCharacter()])):this.logout()},async login(e){var t;this.isLoading=!0;try{const o=(await ye.post("/auth/login",e)).data;this.token=o.token,localStorage.setItem("token",o.token),ye.defaults.headers.common.Authorization=`Bearer ${o.token}`;const i={userId:o.id||o.userId,username:o.username,email:o.email,role:((t=o.roles)==null?void 0:t[0])||"USER",wallet:null};return this.user=i,localStorage.setItem("user",JSON.stringify(i)),await this.fetchProfile(),await this.fetchCharacter(),this.isBanned=!1,!0}catch(n){throw n}finally{this.isLoading=!1}},async fetchProfile(){if(this.token)try{const e=await ye.get("/user/me");this.user={...this.user,...e.data},this.user.wallet||(this.user.wallet={gold:0,diamonds:0}),localStorage.setItem("user",JSON.stringify(this.user))}catch(e){console.error("Li fetch profile:",e)}},async fetchCharacter(){if(this.token)try{const e=await ye.get("/character/me");this.character=e.data,localStorage.setItem("character",JSON.stringify(this.character))}catch{console.warn("Cha to nhn vt hoc li API Character"),this.character=null}},updateLocalStats(e){this.character&&(this.character={...this.character,...e},localStorage.setItem("character",JSON.stringify(this.character)))},triggerBan(e){this.isBanned=!0,this.banReason=e||"Ti khon b kha.",this.banTime=new Date().toLocaleString("vi-VN")},logout(){this.token=null,this.user=null,this.character=null,this.isBanned=!1,localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("character"),delete ye.defaults.headers.common.Authorization},register(e){return ye.post("/auth/register",e)}}}),Ba=Object.freeze(Object.defineProperty({__proto__:null,useAuthStore:Qe},Symbol.toStringTag,{value:"Module"})),Fs=Qt("notification",{state:()=>({notifications:[],unreadCount:0,isLoading:!1,toast:{visible:!1,message:"",type:"info"},timeoutId:null}),actions:{async fetchNotifications(){this.isLoading=!0;try{const e=await ye.get("/notifications");this.notifications=e.data,this.unreadCount=this.notifications.filter(t=>!t.isRead).length}catch(e){console.error("Li ti thng bo:",e)}finally{this.isLoading=!1}},async markRead(e){try{await ye.post(`/notifications/read/${e}`);const t=this.notifications.find(n=>n.id===e);t&&!t.isRead&&(t.isRead=!0,this.unreadCount=Math.max(0,this.unreadCount-1))}catch(t){console.error("Li mark read:",t)}},async markAllRead(){try{await ye.post("/notifications/read-all"),this.notifications.forEach(e=>e.isRead=!0),this.unreadCount=0,this.showToast(" nh du c tt c!","success")}catch(e){console.error("Li mark all read:",e)}},async fetchUnreadCount(){try{const e=await ye.get("/notifications/unread-count");this.unreadCount=e.data}catch(e){console.error(e)}},showToast(e,t="info"){this.timeoutId&&clearTimeout(this.timeoutId),this.toast.message=e,this.toast.type=t,this.toast.visible=!0,this.timeoutId=setTimeout(()=>{this.toast.visible=!1},3e3)},hideToast(){this.toast.visible=!1,this.timeoutId&&clearTimeout(this.timeoutId)}}}),Fe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},D1={class:"toast-content"},B1={key:0,class:"fas fa-check-circle"},q1={key:1,class:"fas fa-exclamation-circle"},F1={key:2,class:"fas fa-exclamation-triangle"},G1={key:3,class:"fas fa-info-circle"},V1={__name:"GameToast",setup(e){const t=Fs();return(n,o)=>(v(),us(Ge,{name:"toast-fade"},{default:ke(()=>[H(t).toast.visible?(v(),m("div",{key:0,class:X(["game-toast",H(t).toast.type]),onClick:o[0]||(o[0]=(...i)=>H(t).hideToast&&H(t).hideToast(...i))},[s("div",D1,[H(t).toast.type==="success"?(v(),m("i",B1)):H(t).toast.type==="error"?(v(),m("i",q1)):H(t).toast.type==="warning"?(v(),m("i",F1)):(v(),m("i",G1)),s("span",null,_(H(t).toast.message),1)])],2)):W("",!0)]),_:1}))}},Ii=Fe(V1,[["__scopeId","data-v-ea90830c"]]);var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function j1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}),n}var Zd={exports:{}},qa={};we.crypto&&we.crypto.getRandomValues?qa.randomBytes=function(e){var t=new Uint8Array(e);return we.crypto.getRandomValues(t),t}:qa.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var K1=qa,hc="abcdefghijklmnopqrstuvwxyz012345",Sn={string:function(e){for(var t=hc.length,n=K1.randomBytes(e),o=[],i=0;i<e;i++)o.push(hc.substr(n[i]%t,1));return o.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=Sn,n={},o=!1,i=we.chrome&&we.chrome.app&&we.chrome.app.runtime;e.exports={attachEvent:function(r,l){typeof we.addEventListener<"u"?we.addEventListener(r,l,!1):we.document&&we.attachEvent&&(we.document.attachEvent("on"+r,l),we.attachEvent("on"+r,l))},detachEvent:function(r,l){typeof we.addEventListener<"u"?we.removeEventListener(r,l,!1):we.document&&we.detachEvent&&(we.document.detachEvent("on"+r,l),we.detachEvent("on"+r,l))},unloadAdd:function(r){if(i)return null;var l=t.string(8);return n[l]=r,o&&setTimeout(this.triggerUnloadCallbacks,0),l},unloadDel:function(r){r in n&&delete n[r]},triggerUnloadCallbacks:function(){for(var r in n)n[r](),delete n[r]}};var a=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};i||e.exports.attachEvent("unload",a)})(Zd);var Gs=Zd.exports,W1=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},wr={},z1=Object.prototype.hasOwnProperty,X1;function pc(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function vc(e){try{return encodeURIComponent(e)}catch{return null}}function Y1(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},o;o=t.exec(e);){var i=pc(o[1]),a=pc(o[2]);i===null||a===null||i in n||(n[i]=a)}return n}function J1(e,t){t=t||"";var n=[],o,i;typeof t!="string"&&(t="?");for(i in e)if(z1.call(e,i)){if(o=e[i],!o&&(o===null||o===X1||isNaN(o))&&(o=""),i=vc(i),o=vc(o),i===null||o===null)continue;n.push(i+"="+o)}return n.length?t+n.join("&"):""}wr.stringify=J1;wr.parse=Y1;var ef=W1,xi=wr,Q1=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,tf=/[\n\r\t]/g,Z1=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,sf=/:\d+$/,ey=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,ty=/^[a-zA-Z]:/;function $r(e){return(e||"").toString().replace(Q1,"")}var Fa=[["#","hash"],["?","query"],function(t,n){return ls(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],mc={hash:1,query:1};function nf(e){var t;typeof window<"u"?t=window:typeof we<"u"?t=we:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var o={},i=typeof e,a;if(e.protocol==="blob:")o=new ds(unescape(e.pathname),{});else if(i==="string"){o=new ds(e,{});for(a in mc)delete o[a]}else if(i==="object"){for(a in e)a in mc||(o[a]=e[a]);o.slashes===void 0&&(o.slashes=Z1.test(e.href))}return o}function ls(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function of(e,t){e=$r(e),e=e.replace(tf,""),t=t||{};var n=ey.exec(e),o=n[1]?n[1].toLowerCase():"",i=!!n[2],a=!!n[3],r=0,l;return i?a?(l=n[2]+n[3]+n[4],r=n[2].length+n[3].length):(l=n[2]+n[4],r=n[2].length):a?(l=n[3]+n[4],r=n[3].length):l=n[4],o==="file:"?r>=2&&(l=l.slice(2)):ls(o)?l=n[4]:o?i&&(l=l.slice(2)):r>=2&&ls(t.protocol)&&(l=n[4]),{protocol:o,slashes:i||ls(o),slashesCount:r,rest:l}}function sy(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),o=n.length,i=n[o-1],a=!1,r=0;o--;)n[o]==="."?n.splice(o,1):n[o]===".."?(n.splice(o,1),r++):r&&(o===0&&(a=!0),n.splice(o,1),r--);return a&&n.unshift(""),(i==="."||i==="..")&&n.push(""),n.join("/")}function ds(e,t,n){if(e=$r(e),e=e.replace(tf,""),!(this instanceof ds))return new ds(e,t,n);var o,i,a,r,l,c,f=Fa.slice(),u=typeof t,d=this,h=0;for(u!=="object"&&u!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=xi.parse),t=nf(t),i=of(e||"",t),o=!i.protocol&&!i.slashes,d.slashes=i.slashes||o&&t.slashes,d.protocol=i.protocol||t.protocol||"",e=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||ty.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!ls(d.protocol)))&&(f[3]=[/(.*)/,"pathname"]);h<f.length;h++){if(r=f[h],typeof r=="function"){e=r(e,d);continue}a=r[0],c=r[1],a!==a?d[c]=e:typeof a=="string"?(l=a==="@"?e.lastIndexOf(a):e.indexOf(a),~l&&(typeof r[2]=="number"?(d[c]=e.slice(0,l),e=e.slice(l+r[2])):(d[c]=e.slice(l),e=e.slice(0,l)))):(l=a.exec(e))&&(d[c]=l[1],e=e.slice(0,l.index)),d[c]=d[c]||o&&r[3]&&t[c]||"",r[4]&&(d[c]=d[c].toLowerCase())}n&&(d.query=n(d.query)),o&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=sy(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&ls(d.protocol)&&(d.pathname="/"+d.pathname),ef(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(l=d.auth.indexOf(":"),~l?(d.username=d.auth.slice(0,l),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(l+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&ls(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function ny(e,t,n){var o=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||xi.parse)(t)),o[e]=t;break;case"port":o[e]=t,ef(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,sf.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var i=e==="pathname"?"/":"#";o[e]=t.charAt(0)!==i?i+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(o.username=t.slice(0,a),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(a+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var r=0;r<Fa.length;r++){var l=Fa[r];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin=o.protocol!=="file:"&&ls(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o}function oy(e){(!e||typeof e!="function")&&(e=xi.stringify);var t,n=this,o=n.host,i=n.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var a=i+(n.protocol&&n.slashes||ls(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):n.protocol!=="file:"&&ls(n.protocol)&&!o&&n.pathname!=="/"&&(a+="@"),(o[o.length-1]===":"||sf.test(n.hostname)&&!n.port)&&(o+=":"),a+=o+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(a+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(a+=n.hash),a}ds.prototype={set:ny,toString:oy};ds.extractProtocol=of;ds.location=nf;ds.trimLeft=$r;ds.qs=xi;var af=ds,iy=af,qt={getOrigin:function(e){if(!e)return null;var t=new iy(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Ga={exports:{}};typeof Object.create=="function"?Ga.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ga.exports=function(t,n){if(n){t.super_=n;var o=function(){};o.prototype=n.prototype,t.prototype=new o,t.prototype.constructor=t}};var ze=Ga.exports,$t={};function Ni(){this._listeners={}}Ni.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};Ni.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var o=n.indexOf(t);if(o!==-1){n.length>1?this._listeners[e]=n.slice(0,o).concat(n.slice(o+1)):delete this._listeners[e];return}}};Ni.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var o=this._listeners[t],i=0;i<o.length;i++)o[i].apply(this,n)};var rf=Ni,ay=ze,Ai=rf;function Ds(){Ai.call(this)}ay(Ds,Ai);Ds.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Ds.prototype.once=function(e,t){var n=this,o=!1;function i(){n.removeListener(e,i),o||(o=!0,t.apply(this,arguments))}this.on(e,i)};Ds.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,o=new Array(n-1),i=1;i<n;i++)o[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].apply(this,o)}};Ds.prototype.on=Ds.prototype.addListener=Ai.prototype.addEventListener;Ds.prototype.removeListener=Ai.prototype.removeEventListener;$t.EventEmitter=Ds;var Va={exports:{}},gc=we.WebSocket||we.MozWebSocket;gc?Va.exports=function(t){return new gc(t)}:Va.exports=void 0;var ry=Va.exports,lf=Gs,ly=qt,cy=ze,cf=$t.EventEmitter,uf=ry,yc=function(){};function Is(e,t,n){if(!Is.enabled())throw new Error("Transport created when disabled");cf.call(this);var o=this,i=ly.addPath(e,"/websocket");i.slice(0,5)==="https"?i="wss"+i.slice(5):i="ws"+i.slice(4),this.url=i,this.ws=new uf(this.url,[],n),this.ws.onmessage=function(a){yc("message event",a.data),o.emit("message",a.data)},this.unloadRef=lf.unloadAdd(function(){o.ws.close()}),this.ws.onclose=function(a){yc("close event",a.code,a.reason),o.emit("close",a.code,a.reason),o._cleanup()},this.ws.onerror=function(a){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}cy(Is,cf);Is.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Is.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Is.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),lf.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Is.enabled=function(){return!!uf};Is.transportName="websocket";Is.roundTrips=2;var uy=Is,dy=ze,df=$t.EventEmitter,fy=function(){};function an(e,t){df.call(this),this.sendBuffer=[],this.sender=t,this.url=e}dy(an,df);an.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};an.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};an.prototype.sendSchedule=function(){fy("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};an.prototype._cleanup=function(){this.removeAllListeners()};an.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var hy=an,py=ze,ff=$t.EventEmitter,vy=function(){};function Ri(e,t,n){ff.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}py(Ri,ff);Ri.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,o){vy("close",n,o,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(o==="network"?e._scheduleReceiver():(e.emit("close",n||1006,o),e.removeAllListeners()))})};Ri.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var my=Ri,gy=ze,yy=qt,Cr=hy,by=my;function Tr(e,t,n,o,i){var a=yy.addPath(e,t),r=this;Cr.call(this,e,n),this.poll=new by(o,a,i),this.poll.on("message",function(l){r.emit("message",l)}),this.poll.once("close",function(l,c){r.poll=null,r.emit("close",l,c),r.close()})}gy(Tr,Cr);Tr.prototype.close=function(){Cr.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var hf=Tr,_y=ze,wy=qt,pf=hf;function $y(e){return function(t,n,o){var i={};typeof n=="string"&&(i.headers={"Content-type":"text/plain"});var a=wy.addPath(t,"/xhr_send"),r=new e("POST",a,n,i);return r.once("finish",function(l){if(r=null,l!==200&&l!==204)return o(new Error("http status "+l));o()}),function(){r.close(),r=null;var l=new Error("Aborted");l.code=1e3,o(l)}}}function vf(e,t,n,o){pf.call(this,e,t,$y(o),n,o)}_y(vf,pf);var In=vf,Cy=ze,mf=$t.EventEmitter;function vo(e,t){mf.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(o,i){n._chunkHandler(o,i),n.xo=null;var a=o===200?"network":"permanent";n.emit("close",null,a),n._cleanup()})}Cy(vo,mf);vo.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var o=t.slice(this.bufferPosition);if(n=o.indexOf(`
`),n===-1)break;var i=o.slice(0,n);i&&this.emit("message",i)}};vo.prototype._cleanup=function(){this.removeAllListeners()};vo.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Li=vo,gf=$t.EventEmitter,Ty=ze,yf=Gs,Ey=qt,oo=we.XMLHttpRequest,oa=function(){};function fs(e,t,n,o){var i=this;gf.call(this),setTimeout(function(){i._start(e,t,n,o)},0)}Ty(fs,gf);fs.prototype._start=function(e,t,n,o){var i=this;try{this.xhr=new oo}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=Ey.addQuery(t,"t="+ +new Date),this.unloadRef=yf.unloadAdd(function(){i._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){oa("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!o||!o.noCredentials)&&fs.supportsCORS&&(this.xhr.withCredentials=!0),o&&o.headers)for(var a in o.headers)this.xhr.setRequestHeader(a,o.headers[a]);this.xhr.onreadystatechange=function(){if(i.xhr){var r=i.xhr,l,c;switch(oa("readyState",r.readyState),r.readyState){case 3:try{c=r.status,l=r.responseText}catch{}c===1223&&(c=204),c===200&&l&&l.length>0&&i.emit("chunk",c,l);break;case 4:c=r.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),oa("finish",c,r.responseText),i.emit("finish",c,r.responseText),i._cleanup(!1);break}}};try{i.xhr.send(n)}catch{i.emit("finish",0,""),i._cleanup(!1)}};fs.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),yf.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};fs.prototype.close=function(){this._cleanup(!0)};fs.enabled=!!oo;var bc=["Active"].concat("Object").join("X");!fs.enabled&&bc in we&&(oo=function(){try{return new we[bc]("Microsoft.XMLHTTP")}catch{return null}},fs.enabled=!!new oo);var bf=!1;try{bf="withCredentials"in new oo}catch{}fs.supportsCORS=bf;var _f=fs,ky=ze,si=_f;function Er(e,t,n,o){si.call(this,e,t,n,o)}ky(Er,si);Er.enabled=si.enabled&&si.supportsCORS;var Oi=Er,Sy=ze,kr=_f;function Sr(e,t,n){kr.call(this,e,t,n,{noCredentials:!0})}Sy(Sr,kr);Sr.enabled=kr.enabled;var mo=Sr,go={isOpera:function(){return we.navigator&&/opera/i.test(we.navigator.userAgent)},isKonqueror:function(){return we.navigator&&/konqueror/i.test(we.navigator.userAgent)},hasDomain:function(){if(!we.document)return!0;try{return!!we.document.domain}catch{return!1}}},Iy=ze,wf=In,xy=Li,ja=Oi,Ny=mo,Ay=go;function xn(e){if(!Ny.enabled&&!ja.enabled)throw new Error("Transport created when disabled");wf.call(this,e,"/xhr_streaming",xy,ja)}Iy(xn,wf);xn.enabled=function(e){return e.nullOrigin||Ay.isOpera()?!1:ja.enabled};xn.transportName="xhr-streaming";xn.roundTrips=2;xn.needBody=!!we.document;var Ry=xn,$f=$t.EventEmitter,Ly=ze,Cf=Gs,Oy=go,Py=qt,My=function(){};function rn(e,t,n){var o=this;$f.call(this),setTimeout(function(){o._start(e,t,n)},0)}Ly(rn,$f);rn.prototype._start=function(e,t,n){var o=this,i=new we.XDomainRequest;t=Py.addQuery(t,"t="+ +new Date),i.onerror=function(){o._error()},i.ontimeout=function(){o._error()},i.onprogress=function(){My("progress",i.responseText),o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},this.xdr=i,this.unloadRef=Cf.unloadAdd(function(){o._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};rn.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};rn.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Cf.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};rn.prototype.close=function(){this._cleanup(!0)};rn.enabled=!!(we.XDomainRequest&&Oy.hasDomain());var Ir=rn,Hy=ze,Tf=In,Uy=Li,Ka=Ir;function yo(e){if(!Ka.enabled)throw new Error("Transport created when disabled");Tf.call(this,e,"/xhr_streaming",Uy,Ka)}Hy(yo,Tf);yo.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Ka.enabled&&e.sameScheme};yo.transportName="xdr-streaming";yo.roundTrips=2;var Ef=yo,kf=we.EventSource,Dy=ze,Sf=$t.EventEmitter,By=kf,_c=function(){};function bo(e){Sf.call(this);var t=this,n=this.es=new By(e);n.onmessage=function(o){_c("message",o.data),t.emit("message",decodeURI(o.data))},n.onerror=function(o){_c("error",n.readyState);var i=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(i)}}Dy(bo,Sf);bo.prototype.abort=function(){this._cleanup(),this._close("user")};bo.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};bo.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var qy=bo,Fy=ze,If=In,Gy=qy,Vy=Oi,jy=kf;function Nn(e){if(!Nn.enabled())throw new Error("Transport created when disabled");If.call(this,e,"/eventsource",Gy,Vy)}Fy(Nn,If);Nn.enabled=function(){return!!jy};Nn.transportName="eventsource";Nn.roundTrips=2;var wc=Nn,ia,$c;function xf(){return $c||($c=1,ia="1.6.1"),ia}var Nf={exports:{}};(function(e){var t=Gs,n=go;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in we||(we[e.exports.WPrefix]={})},postMessage:function(o,i){we.parent!==we&&we.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:o,data:i||""}),"*")},createIframe:function(o,i){var a=we.document.createElement("iframe"),r,l,c=function(){clearTimeout(r);try{a.onload=null}catch{}a.onerror=null},f=function(){a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),t.unloadDel(l))},u=function(h){a&&(f(),i(h))},d=function(h,y){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(h,y)}catch{}},0)};return a.src=o,a.style.display="none",a.style.position="absolute",a.onerror=function(){u("onerror")},a.onload=function(){clearTimeout(r),r=setTimeout(function(){u("onload timeout")},2e3)},we.document.body.appendChild(a),r=setTimeout(function(){u("timeout")},15e3),l=t.unloadAdd(f),{post:d,cleanup:f,loaded:c}},createHtmlfile:function(o,i){var a=["Active"].concat("Object").join("X"),r=new we[a]("htmlfile"),l,c,f,u=function(){clearTimeout(l),f.onerror=null},d=function(){r&&(u(),t.unloadDel(c),f.parentNode.removeChild(f),f=r=null,CollectGarbage())},h=function(b){r&&(d(),i(b))},y=function(b,C){try{setTimeout(function(){f&&f.contentWindow&&f.contentWindow.postMessage(b,C)},0)}catch{}};r.open(),r.write('<html><script>document.domain="'+we.document.domain+'";<\/script></html>'),r.close(),r.parentWindow[e.exports.WPrefix]=we[e.exports.WPrefix];var p=r.createElement("div");return r.body.appendChild(p),f=r.createElement("iframe"),p.appendChild(f),f.src=o,f.onerror=function(){h("onerror")},l=setTimeout(function(){h("timeout")},15e3),c=t.unloadAdd(d),{post:y,cleanup:d,loaded:u}}},e.exports.iframeEnabled=!1,we.document&&(e.exports.iframeEnabled=(typeof we.postMessage=="function"||typeof we.postMessage=="object")&&!n.isKonqueror())})(Nf);var _o=Nf.exports,Ky=ze,Af=$t.EventEmitter,Wy=xf(),Wa=qt,Rf=_o,Lf=Gs,zy=Sn,Mn=function(){};function hs(e,t,n){if(!hs.enabled())throw new Error("Transport created when disabled");Af.call(this);var o=this;this.origin=Wa.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=zy.string(8);var i=Wa.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=Rf.createIframe(i,function(a){o.emit("close",1006,"Unable to load an iframe ("+a+")"),o.close()}),this.onmessageCallback=this._message.bind(this),Lf.attachEvent("message",this.onmessageCallback)}Ky(hs,Af);hs.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Lf.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};hs.prototype._message=function(e){if(Mn("message",e.data),!Wa.isOriginEqual(e.origin,this.origin)){Mn("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Mn("bad json",e.data);return}if(t.windowId!==this.windowId){Mn("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Wy,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Mn("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};hs.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};hs.prototype.send=function(e){this.postMessage("m",e)};hs.enabled=function(){return Rf.iframeEnabled};hs.transportName="iframe";hs.roundTrips=2;var Of=hs,xr={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,o=1,i=arguments.length;o<i;o++){t=arguments[o];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},Xy=ze,Ro=Of,Yy=xr,aa=function(e){function t(n,o){Ro.call(this,e.transportName,n,o)}return Xy(t,Ro),t.enabled=function(n,o){if(!we.document)return!1;var i=Yy.extend({},o);return i.sameOrigin=!0,e.enabled(i)&&Ro.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Ro.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},Jy=ze,Js=_o,Qy=qt,Pf=$t.EventEmitter,Zy=Sn,eb=function(){};function Jt(e){Pf.call(this);var t=this;Js.polluteGlobalNamespace(),this.id="a"+Zy.string(6),e=Qy.addQuery(e,"c="+decodeURIComponent(Js.WPrefix+"."+this.id)),eb("using htmlfile",Jt.htmlfileEnabled);var n=Jt.htmlfileEnabled?Js.createHtmlfile:Js.createIframe;we[Js.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(o){t.emit("message",o)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}Jy(Jt,Pf);Jt.prototype.abort=function(){this._cleanup(),this._close("user")};Jt.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete we[Js.WPrefix][this.id]};Jt.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};Jt.htmlfileEnabled=!1;var Cc=["Active"].concat("Object").join("X");if(Cc in we)try{Jt.htmlfileEnabled=!!new we[Cc]("htmlfile")}catch{}Jt.enabled=Jt.htmlfileEnabled||Js.iframeEnabled;var tb=Jt,sb=ze,za=tb,nb=mo,Mf=In;function wo(e){if(!za.enabled)throw new Error("Transport created when disabled");Mf.call(this,e,"/htmlfile",za,nb)}sb(wo,Mf);wo.enabled=function(e){return za.enabled&&e.sameOrigin};wo.transportName="htmlfile";wo.roundTrips=2;var Tc=wo,ob=ze,Hf=In,ib=Li,Xa=Oi,Uf=mo;function $o(e){if(!Uf.enabled&&!Xa.enabled)throw new Error("Transport created when disabled");Hf.call(this,e,"/xhr",ib,Xa)}ob($o,Hf);$o.enabled=function(e){return e.nullOrigin?!1:Uf.enabled&&e.sameOrigin?!0:Xa.enabled};$o.transportName="xhr-polling";$o.roundTrips=2;var Ec=$o,ab=ze,Df=In,rb=Ef,lb=Li,kc=Ir;function Co(e){if(!kc.enabled)throw new Error("Transport created when disabled");Df.call(this,e,"/xhr",lb,kc)}ab(Co,Df);Co.enabled=rb.enabled;Co.transportName="xdr-polling";Co.roundTrips=2;var cb=Co,zn=_o,Bf=Sn,ub=go,db=qt,fb=ze,qf=$t.EventEmitter,hb=function(){};function Bt(e){var t=this;qf.call(this),zn.polluteGlobalNamespace(),this.id="a"+Bf.string(6);var n=db.addQuery(e,"c="+encodeURIComponent(zn.WPrefix+"."+this.id));we[zn.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Bt.timeout)}fb(Bt,qf);Bt.prototype.abort=function(){if(we[zn.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};Bt.timeout=35e3;Bt.scriptErrorTimeout=1e3;Bt.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};Bt.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};Bt.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete we[zn.WPrefix][this.id]};Bt.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},Bt.scriptErrorTimeout))};Bt.prototype._createScript=function(e){var t=this,n=this.script=we.document.createElement("script"),o;if(n.id="a"+Bf.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(hb("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&we.document.attachEvent)if(ub.isOpera())o=this.script2=we.document.createElement("script"),o.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=o.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var i=we.document.getElementsByTagName("head")[0];i.insertBefore(n,i.firstChild),o&&i.insertBefore(o,i.firstChild)};var pb=Bt,vb=Sn,Sc=qt,mb=function(){},At,Xn;function gb(e){try{return we.document.createElement('<iframe name="'+e+'">')}catch{var t=we.document.createElement("iframe");return t.name=e,t}}function yb(){At=we.document.createElement("form"),At.style.display="none",At.style.position="absolute",At.method="POST",At.enctype="application/x-www-form-urlencoded",At.acceptCharset="UTF-8",Xn=we.document.createElement("textarea"),Xn.name="d",At.appendChild(Xn),we.document.body.appendChild(At)}var bb=function(e,t,n){At||yb();var o="a"+vb.string(8);At.target=o,At.action=Sc.addQuery(Sc.addPath(e,"/jsonp_send"),"i="+o);var i=gb(o);i.id=o,i.style.display="none",At.appendChild(i);try{Xn.value=t}catch{}At.submit();var a=function(r){i.onerror&&(i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){i.parentNode.removeChild(i),i=null},500),Xn.value="",n(r))};return i.onerror=function(){a()},i.onload=function(){a()},i.onreadystatechange=function(r){mb("onreadystatechange",o,i.readyState),i.readyState==="complete"&&a()},function(){a(new Error("Aborted"))}},_b=ze,Ff=hf,wb=pb,$b=bb;function ln(e){if(!ln.enabled())throw new Error("Transport created when disabled");Ff.call(this,e,"/jsonp",$b,wb)}_b(ln,Ff);ln.enabled=function(){return!!we.document};ln.transportName="jsonp-polling";ln.roundTrips=1;ln.needBody=!0;var Cb=ln,Tb=[uy,Ry,Ef,wc,aa(wc),Tc,aa(Tc),Ec,cb,aa(Ec),Cb],io=Array.prototype,Nr=Object.prototype,Eb=Function.prototype,ao=String.prototype,ra=io.slice,Ar=Nr.toString,Gf=function(e){return Nr.toString.call(e)==="[object Function]"},kb=function(t){return Ar.call(t)==="[object Array]"},Vf=function(t){return Ar.call(t)==="[object String]"},Sb=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Ya;Sb?Ya=function(e,t,n,o){!o&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Ya=function(e,t,n,o){!o&&t in e||(e[t]=n)};var To=function(e,t,n){for(var o in t)Nr.hasOwnProperty.call(t,o)&&Ya(e,o,t[o],n)},jf=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function Ib(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function xb(e){return e>>>0}function la(){}To(Eb,{bind:function(t){var n=this;if(!Gf(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o=ra.call(arguments,1),i=function(){if(this instanceof c){var f=n.apply(this,o.concat(ra.call(arguments)));return Object(f)===f?f:this}else return n.apply(t,o.concat(ra.call(arguments)))},a=Math.max(0,n.length-o.length),r=[],l=0;l<a;l++)r.push("$"+l);var c=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this, arguments); }")(i);return n.prototype&&(la.prototype=n.prototype,c.prototype=new la,la.prototype=null),c}});To(Array,{isArray:kb});var Ic=Object("a"),Kf=Ic[0]!=="a"||!(0 in Ic),Nb=function(t){var n=!0,o=!0;return t&&(t.call("foo",function(i,a,r){typeof r!="object"&&(n=!1)}),t.call([1],function(){o=typeof this=="string"},"x")),!!t&&n&&o};To(io,{forEach:function(t){var n=jf(this),o=Kf&&Vf(this)?this.split(""):n,i=arguments[1],a=-1,r=o.length>>>0;if(!Gf(t))throw new TypeError;for(;++a<r;)a in o&&t.call(i,o[a],a,n)}},!Nb(io.forEach));var Ab=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;To(io,{indexOf:function(t){var n=Kf&&Vf(this)?this.split(""):jf(this),o=n.length>>>0;if(!o)return-1;var i=0;for(arguments.length>1&&(i=Ib(arguments[1])),i=i>=0?i:Math.max(0,o+i);i<o;i++)if(i in n&&n[i]===t)return i;return-1}},Ab);var xc=ao.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;ao.split=function(t,n){var o=this;if(t===void 0&&n===0)return[];if(Ar.call(t)!=="[object RegExp]")return xc.call(this,t,n);var i=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),r=0,l,c,f,u;for(t=new RegExp(t.source,a+"g"),o+="",e||(l=new RegExp("^"+t.source+"$(?!\\s)",a)),n=n===void 0?-1>>>0:xb(n);(c=t.exec(o))&&(f=c.index+c[0].length,!(f>r&&(i.push(o.slice(r,c.index)),!e&&c.length>1&&c[0].replace(l,function(){for(var d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c.length>1&&c.index<o.length&&io.push.apply(i,c.slice(1)),u=c[0].length,r=f,i.length>=n)));)t.lastIndex===c.index&&t.lastIndex++;return r===o.length?(u||!t.test(""))&&i.push(""):i.push(o.slice(r)),i.length>n?i.slice(0,n):i}}():"0".split(void 0,0).length&&(ao.split=function(t,n){return t===void 0&&n===0?[]:xc.call(this,t,n)});var Rb=ao.substr,Lb="".substr&&"0b".substr(-1)!=="b";To(ao,{substr:function(t,n){return Rb.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},Lb);var Lo=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,ca,Ob=function(e){var t,n={},o=[];for(t=0;t<65536;t++)o.push(String.fromCharCode(t));return e.lastIndex=0,o.join("").replace(e,function(i){return n[i]="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},Pb={quote:function(e){var t=JSON.stringify(e);return Lo.lastIndex=0,Lo.test(t)?(ca||(ca=Ob(Lo)),t.replace(Lo,function(n){return ca[n]})):t}},ua=function(){},Mb=function(e){return{filterToEnabled:function(t,n){var o={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(i){if(i&&!(i.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(i.transportName)===-1){ua("not in whitelist",i.transportName);return}i.enabled(n)?(ua("enabled",i.transportName),o.main.push(i),i.facadeTransport&&o.facade.push(i.facadeTransport)):ua("disabled",i.transportName)}}),o}}},Ja={};["log","debug","warn"].forEach(function(e){var t;try{t=we.console&&we.console[e]&&we.console[e].apply}catch{}Ja[e]=t?function(){return we.console[e].apply(we.console,arguments)}:e==="log"?function(){}:Ja.log});var Hb=Ja;function cn(e){this.type=e}cn.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};cn.prototype.stopPropagation=function(){};cn.prototype.preventDefault=function(){};cn.CAPTURING_PHASE=1;cn.AT_TARGET=2;cn.BUBBLING_PHASE=3;var Rr=cn,Wf=we.location||{protocol:"http:",href:"http://localhost/",hash:""},Ub=ze,zf=Rr;function Xf(){zf.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}Ub(Xf,zf);var Db=Xf,Bb=ze,Yf=Rr;function Jf(e){Yf.call(this),this.initEvent("message",!1,!1),this.data=e}Bb(Jf,Yf);var qb=Jf,Qf=$t.EventEmitter,Fb=ze;function Eo(){var e=this;Qf.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Eo.timeout)}Fb(Eo,Qf);Eo.prototype.close=function(){clearTimeout(this.to)};Eo.timeout=2e3;var Gb=Eo,Zf=$t.EventEmitter,Vb=ze,jb=xr;function Lr(e,t){Zf.call(this);var n=this,o=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(i,a){var r,l;if(i===200){if(l=+new Date-o,a)try{r=JSON.parse(a)}catch{}jb.isObject(r)||(r={})}n.emit("finish",r,l),n.removeAllListeners()})}Vb(Lr,Zf);Lr.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var eh=Lr,da,Nc;function th(){if(Nc)return da;Nc=1;var e=ze,t=$t.EventEmitter,n=mo,o=eh;function i(a){var r=this;t.call(this),this.ir=new o(a,n),this.ir.once("finish",function(l,c){r.ir=null,r.emit("message",JSON.stringify([l,c]))})}return e(i,t),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},da=i,da}var sh=$t.EventEmitter,Kb=ze,Wb=Gs,nh=Of,zb=th();function Pi(e,t){var n=this;sh.call(this);var o=function(){var i=n.ifr=new nh(zb.transportName,t,e);i.once("message",function(a){if(a){var r;try{r=JSON.parse(a)}catch{n.emit("finish"),n.close();return}var l=r[0],c=r[1];n.emit("finish",l,c)}n.close()}),i.once("close",function(){n.emit("finish"),n.close()})};we.document.body?o():Wb.attachEvent("load",o)}Kb(Pi,sh);Pi.enabled=function(){return nh.enabled()};Pi.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var Xb=Pi,oh=$t.EventEmitter,Yb=ze,Jb=qt,Ac=Ir,Rc=Oi,Qb=mo,Zb=Gb,Lc=Xb,Oo=eh;function $s(e,t){var n=this;oh.call(this),setTimeout(function(){n.doXhr(e,t)},0)}Yb($s,oh);$s._getReceiver=function(e,t,n){return n.sameOrigin?new Oo(t,Qb):Rc.enabled?new Oo(t,Rc):Ac.enabled&&n.sameScheme?new Oo(t,Ac):Lc.enabled()?new Lc(e,t):new Oo(t,Zb)};$s.prototype.doXhr=function(e,t){var n=this,o=Jb.addPath(e,"/info");this.xo=$s._getReceiver(e,o,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},$s.timeout),this.xo.once("finish",function(i,a){n._cleanup(!0),n.emit("finish",i,a)})};$s.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};$s.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};$s.timeout=8e3;var e_=$s,fa,Oc;function t_(){if(Oc)return fa;Oc=1;var e=_o;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,o){e.postMessage("c",JSON.stringify([n,o]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},fa=t,fa}var ha,Pc;function s_(){if(Pc)return ha;Pc=1;var e=qt,t=Gs,n=t_(),o=th(),i=_o,a=Wf,r=function(){};return ha=function(l,c){var f={};c.forEach(function(d){d.facadeTransport&&(f[d.facadeTransport.transportName]=d.facadeTransport)}),f[o.transportName]=o;var u;l.bootstrap_iframe=function(){var d;i.currentWindowId=a.hash.slice(1);var h=function(y){if(y.source===parent&&(typeof u>"u"&&(u=y.origin),y.origin===u)){var p;try{p=JSON.parse(y.data)}catch{r("bad json",y.data);return}if(p.windowId===i.currentWindowId)switch(p.type){case"s":var b;try{b=JSON.parse(p.data)}catch{r("bad json",p.data);break}var C=b[0],x=b[1],I=b[2],G=b[3];if(C!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+C+'", the iframe: "'+l.version+'".');if(!e.isOriginEqual(I,a.href)||!e.isOriginEqual(G,a.href))throw new Error("Can't connect to different domain from within an iframe. ("+a.href+", "+I+", "+G+")");d=new n(new f[x](I,G));break;case"m":d._send(p.data);break;case"c":d&&d._close(),d=null;break}}};t.attachEvent("message",h),i.postMessage("s")}},ha}var n_=af,o_=ze,Mc=Sn,i_=Pb,Dn=qt,a_=Gs,r_=Mb,l_=xr,c_=go,u_=Hb,Or=Rr,ih=rf,Po=Wf,d_=Db,Hc=qb,f_=e_,cs=function(){},ah;function Ke(e,t,n){if(!(this instanceof Ke))return new Ke(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");ih.call(this),this.readyState=Ke.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&u_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var o=n.sessionId||8;if(typeof o=="function")this._generateSessionId=o;else if(typeof o=="number")this._generateSessionId=function(){return Mc.string(o)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Mc.numberString(1e3);var i=new n_(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if(i.protocol!=="http:"&&i.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var a=i.protocol==="https:";if(Po.protocol==="https:"&&!a&&!Dn.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var r=t.sort();r.forEach(function(c,f){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(f<r.length-1&&c===r[f+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var l=Dn.getOrigin(Po.href);this._origin=l?l.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,cs("using url",this.url),this._urlInfo={nullOrigin:!c_.hasDomain(),sameOrigin:Dn.isOriginEqual(this.url,Po.href),sameScheme:Dn.isSchemeEqual(this.url,Po.href)},this._ir=new f_(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}o_(Ke,ih);function rh(e){return e===1e3||e>=3e3&&e<=4999}Ke.prototype.close=function(e,t){if(e&&!rh(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Ke.CLOSING||this.readyState===Ke.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};Ke.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===Ke.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Ke.OPEN&&this._transport.send(i_.quote(e))};Ke.version=xf();Ke.CONNECTING=0;Ke.OPEN=1;Ke.CLOSING=2;Ke.CLOSED=3;Ke.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=l_.extend(e,this._urlInfo);var n=ah.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,cs(this._transports.length+" enabled transports"),this._connect()};Ke.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(cs("attempt",e.transportName),e.needBody&&(!we.document.body||typeof we.document.readyState<"u"&&we.document.readyState!=="complete"&&we.document.readyState!=="interactive")){this._transports.unshift(e),a_.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=Dn.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),o=this._transportOptions[e.transportName],i=new e(n,this._transUrl,o);i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,this._transport=i;return}this._close(2e3,"All transports failed",!1)};Ke.prototype._transportTimeout=function(){this.readyState===Ke.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Ke.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),o=e.slice(1),i;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new Or("heartbeat")),cs("heartbeat",this.transport);return}if(o)try{i=JSON.parse(o)}catch{}if(!(typeof i>"u"))switch(n){case"a":Array.isArray(i)&&i.forEach(function(a){cs("message",t.transport),t.dispatchEvent(new Hc(a))});break;case"m":cs("message",this.transport),this.dispatchEvent(new Hc(i));break;case"c":Array.isArray(i)&&i.length===2&&this._close(i[0],i[1],!0);break}};Ke.prototype._transportClose=function(e,t){if(cs("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!rh(e)&&e!==2e3&&this.readyState===Ke.CONNECTING){this._connect();return}this._close(e,t)};Ke.prototype._open=function(){cs("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Ke.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Ke.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new Or("open")),cs("connected",this.transport)):this._close(1006,"Server lost session")};Ke.prototype._close=function(e,t,n){cs("_close",this.transport,e,t,n,this.readyState);var o=!1;if(this._ir&&(o=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Ke.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Ke.CLOSING,setTimeout((function(){this.readyState=Ke.CLOSED,o&&this.dispatchEvent(new Or("error"));var i=new d_;i.wasClean=n||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Ke.prototype.countRTO=function(e){return e>100?4*e:300+e};var h_=function(e){return ah=r_(e),s_()(Ke,e),Ke},p_=Tb,v_=h_(p_);"_sockjs_onload"in we&&setTimeout(we._sockjs_onload,1);const lh=Qd(v_);var Mi={exports:{}},Pr={};(function(e){(function(){var t,n,o,i,a={}.hasOwnProperty,r=[].slice;t={LF:`
`,NULL:"\0"},o=function(){var l;function c(f,u,d){this.command=f,this.headers=u??{},this.body=d??""}return c.prototype.toString=function(){var f,u,d,h,y;f=[this.command],d=this.headers["content-length"]===!1,d&&delete this.headers["content-length"],y=this.headers;for(u in y)a.call(y,u)&&(h=y[u],f.push(""+u+":"+h));return this.body&&!d&&f.push("content-length:"+c.sizeOfUTF8(this.body)),f.push(t.LF+this.body),f.join(t.LF)},c.sizeOfUTF8=function(f){return f?encodeURI(f).match(/%..|./g).length:0},l=function(f){var u,d,h,y,p,b,C,x,I,G,j,P,w,S,se,D,Q;for(y=f.search(RegExp(""+t.LF+t.LF)),p=f.substring(0,y).split(t.LF),h=p.shift(),b={},P=function(te){return te.replace(/^\s+|\s+$/g,"")},D=p.reverse(),w=0,se=D.length;w<se;w++)G=D[w],x=G.indexOf(":"),b[P(G.substring(0,x))]=P(G.substring(x+1));if(u="",j=y+2,b["content-length"])I=parseInt(b["content-length"]),u=(""+f).substring(j,j+I);else for(d=null,C=S=j,Q=f.length;(j<=Q?S<Q:S>Q)&&(d=f.charAt(C),d!==t.NULL);C=j<=Q?++S:--S)u+=d;return new c(h,b,u)},c.unmarshall=function(f){var u;return function(){var d,h,y,p;for(y=f.split(RegExp(""+t.NULL+t.LF+"*")),p=[],d=0,h=y.length;d<h;d++)u=y[d],(u!=null?u.length:void 0)>0&&p.push(l(u));return p}()},c.marshall=function(f,u,d){var h;return h=new c(f,u,d),h.toString()+t.NULL},c}(),n=function(){var l;function c(f){this.ws=f,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16*1024,this.subscriptions={}}return c.prototype.debug=function(f){var u;return typeof window<"u"&&window!==null&&(u=window.console)!=null?u.log(f):void 0},l=function(){return Date.now?Date.now():new Date().valueOf},c.prototype._transmit=function(f,u,d){var h;for(h=o.marshall(f,u,d),typeof this.debug=="function"&&this.debug(">>> "+h);;)if(h.length>this.maxWebSocketFrameSize)this.ws.send(h.substring(0,this.maxWebSocketFrameSize)),h=h.substring(this.maxWebSocketFrameSize),typeof this.debug=="function"&&this.debug("remaining = "+h.length);else return this.ws.send(h)},c.prototype._setupHeartbeat=function(f){var u,d,h,y,p,b;if(!((p=f.version)!==i.VERSIONS.V1_1&&p!==i.VERSIONS.V1_2)&&(b=function(){var C,x,I,G;for(I=f["heart-beat"].split(","),G=[],C=0,x=I.length;C<x;C++)y=I[C],G.push(parseInt(y));return G}(),d=b[0],u=b[1],this.heartbeat.outgoing===0||u===0||(h=Math.max(this.heartbeat.outgoing,u),typeof this.debug=="function"&&this.debug("send PING every "+h+"ms"),this.pinger=i.setInterval(h,function(C){return function(){return C.ws.send(t.LF),typeof C.debug=="function"?C.debug(">>> PING"):void 0}}(this))),!(this.heartbeat.incoming===0||d===0)))return h=Math.max(this.heartbeat.incoming,d),typeof this.debug=="function"&&this.debug("check PONG every "+h+"ms"),this.ponger=i.setInterval(h,function(C){return function(){var x;if(x=l()-C.serverActivity,x>h*2)return typeof C.debug=="function"&&C.debug("did not receive server activity for the last "+x+"ms"),C.ws.close()}}(this))},c.prototype._parseConnect=function(){var f,u,d,h;switch(f=1<=arguments.length?r.call(arguments,0):[],h={},f.length){case 2:h=f[0],u=f[1];break;case 3:f[1]instanceof Function?(h=f[0],u=f[1],d=f[2]):(h.login=f[0],h.passcode=f[1],u=f[2]);break;case 4:h.login=f[0],h.passcode=f[1],u=f[2],d=f[3];break;default:h.login=f[0],h.passcode=f[1],u=f[2],d=f[3],h.host=f[4]}return[h,u,d]},c.prototype.connect=function(){var f,u,d,h;return f=1<=arguments.length?r.call(arguments,0):[],h=this._parseConnect.apply(this,f),d=h[0],this.connectCallback=h[1],u=h[2],typeof this.debug=="function"&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(y){return function(p){var b,C,x,I,G,j,P,w,S,se,D,Q;if(I=typeof ArrayBuffer<"u"&&p.data instanceof ArrayBuffer?(b=new Uint8Array(p.data),typeof y.debug=="function"&&y.debug("--- got data length: "+b.length),function(){var te,V,ue;for(ue=[],te=0,V=b.length;te<V;te++)C=b[te],ue.push(String.fromCharCode(C));return ue}().join("")):p.data,y.serverActivity=l(),I===t.LF){typeof y.debug=="function"&&y.debug("<<< PONG");return}for(typeof y.debug=="function"&&y.debug("<<< "+I),D=o.unmarshall(I),Q=[],S=0,se=D.length;S<se;S++)switch(G=D[S],G.command){case"CONNECTED":typeof y.debug=="function"&&y.debug("connected to server "+G.headers.server),y.connected=!0,y._setupHeartbeat(G.headers),Q.push(typeof y.connectCallback=="function"?y.connectCallback(G):void 0);break;case"MESSAGE":w=G.headers.subscription,P=y.subscriptions[w]||y.onreceive,P?(x=y,j=G.headers["message-id"],G.ack=function(te){return te==null&&(te={}),x.ack(j,w,te)},G.nack=function(te){return te==null&&(te={}),x.nack(j,w,te)},Q.push(P(G))):Q.push(typeof y.debug=="function"?y.debug("Unhandled received MESSAGE: "+G):void 0);break;case"RECEIPT":Q.push(typeof y.onreceipt=="function"?y.onreceipt(G):void 0);break;case"ERROR":Q.push(typeof u=="function"?u(G):void 0);break;default:Q.push(typeof y.debug=="function"?y.debug("Unhandled frame: "+G):void 0)}return Q}}(this),this.ws.onclose=function(y){return function(){var p;return p="Whoops! Lost connection to "+y.ws.url,typeof y.debug=="function"&&y.debug(p),y._cleanUp(),typeof u=="function"?u(p):void 0}}(this),this.ws.onopen=function(y){return function(){return typeof y.debug=="function"&&y.debug("Web Socket Opened..."),d["accept-version"]=i.VERSIONS.supportedVersions(),d["heart-beat"]=[y.heartbeat.outgoing,y.heartbeat.incoming].join(","),y._transmit("CONNECT",d)}}(this)},c.prototype.disconnect=function(f,u){return u==null&&(u={}),this._transmit("DISCONNECT",u),this.ws.onclose=null,this.ws.close(),this._cleanUp(),typeof f=="function"?f():void 0},c.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger)return i.clearInterval(this.ponger)},c.prototype.send=function(f,u,d){return u==null&&(u={}),d==null&&(d=""),u.destination=f,this._transmit("SEND",u,d)},c.prototype.subscribe=function(f,u,d){var h;return d==null&&(d={}),d.id||(d.id="sub-"+this.counter++),d.destination=f,this.subscriptions[d.id]=u,this._transmit("SUBSCRIBE",d),h=this,{id:d.id,unsubscribe:function(){return h.unsubscribe(d.id)}}},c.prototype.unsubscribe=function(f){return delete this.subscriptions[f],this._transmit("UNSUBSCRIBE",{id:f})},c.prototype.begin=function(f){var u,d;return d=f||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:d}),u=this,{id:d,commit:function(){return u.commit(d)},abort:function(){return u.abort(d)}}},c.prototype.commit=function(f){return this._transmit("COMMIT",{transaction:f})},c.prototype.abort=function(f){return this._transmit("ABORT",{transaction:f})},c.prototype.ack=function(f,u,d){return d==null&&(d={}),d["message-id"]=f,d.subscription=u,this._transmit("ACK",d)},c.prototype.nack=function(f,u,d){return d==null&&(d={}),d["message-id"]=f,d.subscription=u,this._transmit("NACK",d)},c}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(l,c){var f,u;return c==null&&(c=["v10.stomp","v11.stomp"]),f=i.WebSocketClass||WebSocket,u=new f(l,c),new n(u)},over:function(l){return new n(l)},Frame:o},e!==null&&(e.Stomp=i),typeof window<"u"&&window!==null?(i.setInterval=function(l,c){return window.setInterval(c,l)},i.clearInterval=function(l){return window.clearInterval(l)},window.Stomp=i):e||(self.Stomp=i)}).call(we)})(Pr);var Qa={};const m_={},g_=Object.freeze(Object.defineProperty({__proto__:null,default:m_},Symbol.toStringTag,{value:"Module"})),y_=j1(g_);var pa,Uc;function b_(){if(Uc)return pa;Uc=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return pa=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),pa}const __="1.0.35",w_={version:__};var va,Dc;function $_(){return Dc||(Dc=1,va=w_.version),va}var ma,Bc;function C_(){if(Bc)return ma;Bc=1;var e;if(typeof globalThis=="object")e=globalThis;else try{e=b_()}catch{}finally{if(!e&&typeof window<"u"&&(e=window),!e)throw new Error("Could not determine global this")}var t=e.WebSocket||e.MozWebSocket,n=$_();function o(i,a){var r;return a?r=new t(i,a):r=new t(i),r}return t&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(o,i,{get:function(){return t[i]}})}),ma={w3cwebsocket:t?o:null,version:n},ma}(function(){var e,t,n,o,i,a;e=Pr,t=y_,e.Stomp.setInterval=function(r,l){return setInterval(l,r)},e.Stomp.clearInterval=function(r){return clearInterval(r)},i=function(r,l){var c,f;return c=null,f={url:"tcp:// "+l+":"+r,send:function(u){return c.write(u)},close:function(){return c.end()}},c=t.connect(r,l,function(u){return f.onopen()}),c.on("error",function(u){return typeof f.onclose=="function"?f.onclose(u):void 0}),c.on("close",function(u){return typeof f.onclose=="function"?f.onclose(u):void 0}),c.on("data",function(u){var d;return d={data:u.toString()},f.onmessage(d)}),f},a=function(r){var l,c,f,u;return l=C_().client,c=null,u={url:r,send:function(d){return c.sendUTF(d)},close:function(){return c.close()}},f=new l,f.on("connect",function(d){return c=d,u.onopen(),c.on("error",function(h){return typeof u.onclose=="function"?u.onclose(h):void 0}),c.on("close",function(){return typeof u.onclose=="function"?u.onclose():void 0}),c.on("message",function(h){var y;if(h.type==="utf8")return y={data:h.utf8Data},u.onmessage(y)})}),f.connect(r),u},n=function(r,l){var c;return c=i(l,r),e.Stomp.over(c)},o=function(r){var l;return l=a(r),e.Stomp.over(l)},Qa.overTCP=n,Qa.overWS=o}).call(we);var T_=Pr,ch=Qa;Mi.exports=T_.Stomp;Mi.exports.overTCP=ch.overTCP;Mi.exports.overWS=ch.overWS;var E_=Mi.exports;const uh=Qd(E_),ko=Qt("chat",{state:()=>({messages:[],stompClient:null,isConnected:!1,isLoading:!1,error:null,isWidgetOpen:!1,privateChatTarget:null}),actions:{connect(){var a;if(this.stompClient&&this.stompClient.connected)return;const e=new lh("http://localhost:8080/ws");this.stompClient=uh.over(e);const t=Qe(),n=t.token||localStorage.getItem("token"),o=(a=t.user)==null?void 0:a.username,i=n?{Authorization:`Bearer ${n}`}:{};this.stompClient.connect(i,r=>{this.setConnected(!0),console.log("WS Connected ("+o+")"),this.stompClient.subscribe("/topic/public",l=>{this.addMessage(JSON.parse(l.body))}),o&&this.stompClient.subscribe("/user/queue/notifications",l=>{const c=JSON.parse(l.body);this.addMessage(c)}),o&&this.stompClient.send("/app/chat.addUser",{},JSON.stringify({senderName:o,type:"JOIN"}))},r=>{console.error("Li WS:",r),this.setConnected(!1),setTimeout(()=>this.connect(),5e3)})},disconnect(){this.stompClient&&this.stompClient.disconnect(),this.setConnected(!1)},sendMessage(e){var n;const t=Qe();if(this.stompClient&&this.isConnected&&e.trim()){const o={senderName:(n=t.user)==null?void 0:n.username,content:e,type:"CHAT"};this.stompClient.send("/app/chat.sendMessage",{},JSON.stringify(o))}},async fetchMessages(){this.isLoading=!0,this.error=null;try{const e=await ye.get("/chat/recent");Array.isArray(e.data)?this.messages=e.data:this.messages=[]}catch(e){console.error("Li ti chat:",e)}finally{this.isLoading=!1}},addMessage(e){e&&(e.timestamp||(e.timestamp=new Date().toISOString()),!(e.role!=="SYSTEM"&&this.messages.some(n=>n.content===e.content&&n.senderName===e.senderName&&Math.abs(new Date(n.timestamp)-new Date(e.timestamp))<1e3))&&(this.messages.push(e),this.messages.length>50&&this.messages.shift()))},setConnected(e){this.isConnected=e},openChatWith(e){e&&(this.privateChatTarget={id:e.id||e.userId,username:e.username||e.senderName,avatarUrl:e.avatarUrl},this.isWidgetOpen=!0)},openChat(){this.isWidgetOpen=!0},closeChat(){this.isWidgetOpen=!1,this.privateChatTarget=null}}}),k_="https://raw.githubusercontent.com/htkhang111/htkhang111.github.io/main",S_={s_:"/resources/equipment/sword",a_:"/resources/equipment/armor",h_:"/resources/equipment/helmet",ri_:"/resources/equipment/ring",n_:"/resources/equipment/necklace",b_:"/resources/equipment/boots","fr-":"/resources/tool/fishing-rod","p-":"/resources/tool/pickaxe","a-":"/resources/tool/axe","s-":"/resources/tool/shovel"},qc={"a-4-heartoftheforest":".webp"},Ht=e=>{if(!e)return"";if(e.startsWith("http")||e.startsWith("data:"))return e;const t=e.startsWith("/")?e:`/${e}`;return`${k_}${encodeURI(t)}`},He=e=>{if(!e)return Ht("/resources/material/o_coal.png");if(e.includes("http")||e.includes("data:"))return e;const t=e.trim(),n=t.toLowerCase();if(n.startsWith("tool/")||n.startsWith("equipment/"))return Ht(`/resources/${t}`);if(n.startsWith("resources/")||n.startsWith("background/")||n.startsWith("logo/"))return Ht(`/${t}`);if(n==="logo")return Ht("/logo/Logo.png");if(n==="r_potion"||n==="r_potion.png")return Ht("/resources/r_potion.png");if(n.includes("coin")){const i=n.includes("echo")?"r_coin-echo.png":"r_coin.png";return Ht(`/resources/coin/${i}`)}let o=".png";n.endsWith(".png")||n.endsWith(".jpg")||n.endsWith(".webp")?o="":qc[n]&&(o=qc[n]);for(const[i,a]of Object.entries(S_))if(n.startsWith(i)){if(i==="b_"&&!n.includes("boot"))continue;return Ht(`${a}/${t}${o}`)}if(n.startsWith("b_")){const i=o===""?"":n.includes("doanhtrai")?".png":".jpg";return Ht(`/background/${t}${i}`)}return Ht(`/resources/material/${t}${o}`)},Hi=()=>Ht("/logo/Logo.png"),pt=He,ms=e=>Ht(`/character/${e}`),Fc=e=>Ht(`/enemy/${e}`),Bs=Je({skin_yasou:{id:"skin_yasou",name:"Yasuo",sprites:{idle:ms("idle_yasou.png"),run:ms("run_yasou.png"),attack:ms("atk_yasou.png")}},skin_demon:{id:"skin_demon",name:"Huyt Qu",sprites:{idle:ms("idle_demon1.png"),run:ms("run_demon1.png"),attack:ms("atk_demon1.png")}},skin_langkhach:{id:"skin_langkhach",name:"Lng Khch",sprites:{idle:ms("idle_langkhach1.png"),run:ms("run_langkhach1.png"),attack:ms("atk_langkhach1.png")}}}),An=e=>Bs[e]||Bs.skin_yasou,Mr=(e,t="idle")=>{if(!e)return Fc("idle_goblin.png");const n=e.toLowerCase(),o=t==="attack"?"atk_":"idle_";let i="goblin";return n.includes("xuong")||n.includes("skeleton")?i="skeleton":n.includes("nam")||n.includes("mushroom")?i="mushroom":n.includes("ac quy")||n.includes("demon")?i="demon1":n.includes("lang khach")||n.includes("langkhach")?i="langkhach1":(n.includes("kiem si")||n.includes("yasou"))&&(i="yasou"),Fc(`${o}${i}.png`)},I_={class:"chat-widget-window"},x_={class:"chat-body"},N_={class:"chat-sidebar"},A_={class:"conversation-list custom-scroll"},R_={key:0,class:"loading-text"},L_={key:1,class:"empty-conv"},O_=["onClick"],P_={class:"conv-avatar"},M_=["src"],H_={key:0,class:"conv-badge"},U_={class:"conv-info"},D_={class:"conv-name"},B_={key:0,class:"chat-main"},q_={class:"chat-main-header"},F_={class:"partner-name"},G_={class:"msg-bubble"},V_={class:"msg-time"},j_={class:"chat-input-area"},K_=["disabled"],W_={key:1,class:"chat-main empty-main"},z_={__name:"ChatWidget",setup(e){const t=Qe(),n=ko(),o=M([]),i=M([]),a=M(null),r=M(""),l=M(null),c=M(null),f=M(!1),u=()=>{n.closeChat()},d=async()=>{f.value=!0;try{const P=await ye.get("/messages/conversations");o.value=P.data||[]}catch(P){console.error("Li load hi thoi",P)}finally{f.value=!1}},h=async P=>{if(P){if(a.value={id:P.userId||P.id,username:P.username},i.value=[],P.unreadCount>0)try{await ye.post(`/messages/read/${P.userId}`),P.unreadCount=0}catch{}await y(a.value.id),b(),Xt(()=>{var w;return(w=c.value)==null?void 0:w.focus()})}},y=async P=>{if(P)try{const w=await ye.get(`/messages/history/${P}`);i.value=w.data.map(S=>({content:S.content,timestamp:S.timestamp,isMine:S.senderId===t.userId})),b()}catch(w){console.error(w)}},p=async()=>{if(!r.value.trim()||!a.value)return;const P=r.value;r.value="",i.value.push({content:P,timestamp:new Date().toISOString(),isMine:!0}),b();try{await ye.post("/messages/send",{receiverId:a.value.id,content:P});const w=o.value.find(S=>S.userId===a.value.id);w?w.lastMessage="Bn: "+P:d()}catch(w){console.error(w)}},b=()=>{Xt(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight)})},C=()=>{if(!n.privateChatTarget)return;const P=n.privateChatTarget.id;let w=o.value.find(S=>S.userId==P);w||(w={userId:P,username:n.privateChatTarget.username,avatarUrl:n.privateChatTarget.avatarUrl,lastMessage:"(Bt u tr chuyn)",unreadCount:0},o.value.unshift(w)),h(w)};mt(()=>n.isWidgetOpen,P=>{P&&d().then(()=>{C()})}),mt(()=>n.privateChatTarget,P=>{P&&n.isWidgetOpen&&(o.value.length===0&&f.value||C())},{deep:!0});const x=P=>{var w,S;return((S=(w=An(P))==null?void 0:w.sprites)==null?void 0:S.idle)||"https://placehold.co/50?text=U"},I=P=>{P.target.src.includes("placehold")||(P.target.src="https://placehold.co/50?text=U")},G=P=>P?new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";let j;return at(()=>{n.isWidgetOpen&&d(),j=setInterval(()=>{n.isWidgetOpen&&a.value&&y(a.value.id)},5e3)}),Pt(()=>clearInterval(j)),(P,w)=>H(n).isWidgetOpen?(v(),m("div",{key:0,class:"chat-widget-overlay",onClick:Ze(u,["self"])},[s("div",I_,[s("div",{class:"chat-header"},[w[2]||(w[2]=s("div",{class:"header-title"},[s("i",{class:"fas fa-envelope"}),J(" Truyn Th ")],-1)),s("button",{class:"close-btn",onClick:u},[...w[1]||(w[1]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",x_,[s("div",N_,[w[3]||(w[3]=s("div",{class:"sidebar-header"},"Tin Nhn",-1)),s("div",A_,[f.value?(v(),m("div",R_,"ang triu hi...")):o.value.length===0?(v(),m("div",L_," Cha c ai lin lc. ")):W("",!0),(v(!0),m(Ce,null,Re(o.value,S=>{var se;return v(),m("div",{key:S.userId,class:X(["conv-item",{active:((se=a.value)==null?void 0:se.id)==S.userId}]),onClick:D=>h(S)},[s("div",P_,[s("img",{src:x(S.avatarUrl),onError:I},null,40,M_),S.unreadCount>0?(v(),m("span",H_,_(S.unreadCount),1)):W("",!0)]),s("div",U_,[s("div",D_,_(S.username),1),s("div",{class:X(["conv-preview",{unread:S.unreadCount>0}])},_(S.lastMessage||"..."),3)])],10,O_)}),128))])]),a.value?(v(),m("div",B_,[s("div",q_,[w[4]||(w[4]=s("span",{class:"user-status-dot online"},null,-1)),s("span",F_,_(a.value.username),1)]),s("div",{class:"messages-area custom-scroll",ref_key:"msgContainer",ref:l},[(v(!0),m(Ce,null,Re(i.value,(S,se)=>(v(),m("div",{key:se,class:X(["message-row",{"my-msg":S.isMine}])},[s("div",G_,_(S.content),1),s("div",V_,_(G(S.timestamp)),1)],2))),128))],512),s("div",j_,[$e(s("input",{"onUpdate:modelValue":w[0]||(w[0]=S=>r.value=S),onKeyup:wn(p,["enter"]),placeholder:"Nhp mt ng...",ref_key:"inputRef",ref:c},null,544),[[Te,r.value]]),s("button",{onClick:p,disabled:!r.value.trim()},[...w[5]||(w[5]=[s("i",{class:"fas fa-paper-plane"},null,-1)])],8,K_)])])):(v(),m("div",W_,[...w[6]||(w[6]=[s("i",{class:"fas fa-paper-plane big-icon"},null,-1),s("p",null,"Chn bng hu  m o",-1)])]))])])])):W("",!0)}},Hr=Fe(z_,[["__scopeId","data-v-7c155e2d"]]),Ft=Qt("character",{state:()=>({character:null,isLoading:!1,logs:[],explorationState:{playerPos:10,moveDir:1}}),getters:{xpPercent:e=>{if(!e.character)return 0;const t=e.character.level||1,n=e.character.currentExp||0,o=t<60?t*50:t*100+Math.pow(t-60,2)*200;return o===0?0:Math.min(n/o*100,100)},hpPercent:e=>!e.character||!e.character.maxHp?0:Math.min(e.character.currentHp/e.character.maxHp*100,100),energyPercent:e=>!e.character||!e.character.maxEnergy?0:Math.min(e.character.currentEnergy/e.character.maxEnergy*100,100)},actions:{async syncGameData(){await this.fetchCharacter()},async fetchCharacter(){this.isLoading=!0;try{const e=await ye.get("/character/me?t="+Date.now());e.data&&(this.character=e.data)}catch(e){console.error("Li fetch character:",e)}finally{this.isLoading=!1}},async addStats(e){var t,n;try{const o=await ye.post("/character/add-stats",e);return o.data&&(this.character=o.data),this.addLog(" Cng im thnh cng!","SUCCESS"),!0}catch(o){const i=((n=(t=o.response)==null?void 0:t.data)==null?void 0:n.message)||"Li cng im";return this.addLog(" "+i,"ERROR"),!1}},async explore(e={mapId:"MAP_01"}){var t,n;if(this.character)try{const i=(await ye.post("/exploration/explore",e)).data;return this.character&&(i.currentEnergy!==void 0&&(this.character.currentEnergy=i.currentEnergy),i.currentExp!==void 0&&(this.character.currentExp=i.currentExp),i.currentHp!==void 0&&(this.character.currentHp=i.currentHp),i.type==="GATHERING"&&(this.character.gatheringItemId=i.rewardItemId,this.character.gatheringRemainingAmount=i.rewardAmount),i.newLevel&&(this.character.level=i.newLevel,await this.fetchCharacter(),this.addLog(` LN CP ${i.newLevel}!`,"LEVEL_UP"))),i.type!=="GATHERING"&&this.addLog(i.message,i.type==="ENEMY"?"ENEMY":"INFO"),i}catch(o){const i=((n=(t=o.response)==null?void 0:t.data)==null?void 0:n.message)||"Li kt ni";throw i==="CAPTCHA"?new Error("CAPTCHA"):(this.addLog(" "+i,"ERROR"),o)}},addLog(e,t="INFO"){this.logs.unshift({id:Date.now(),message:e,type:t}),this.logs.length>50&&this.logs.pop()}}}),X_={class:"game-header"},Y_={key:0,class:"hud-container"},J_={class:"resource-bank"},Q_={class:"res-module gold",title:"Ngn Lng"},Z_=["src"],e0={class:"res-val"},t0={class:"res-module echo",title:"Echo Coin"},s0=["src"],n0={class:"res-val echo-val"},o0={class:"res-module energy",title:"Chn Kh"},i0={class:"energy-track"},a0={class:"res-val small"},r0={key:0,class:"node-badge"},l0={key:0,class:"node-badge"},c0={class:"profile-group"},u0={class:"profile-info mobile-hide"},d0={class:"char-name"},f0={class:"xp-track"},h0={class:"avatar-frame"},p0=["src"],v0={__name:"GameHeader",emits:["toggle-sidebar"],setup(e,{emit:t}){const n=Qe(),o=Ft(),i=Fs(),a=ko(),r=M(0),l={wallet:pe(()=>{var p;return(p=n.user)==null?void 0:p.wallet})},c=pe(()=>{const p=n.user;if(!p)return"https://placehold.co/50?text=U";if(p.profileImageUrl){if(p.profileImageUrl.startsWith("/uploads/"))return`http://localhost:8080${p.profileImageUrl}`;if(p.profileImageUrl.startsWith("http"))return p.profileImageUrl}const b=An(p.avatarUrl);return b?b.sprites.idle:"https://placehold.co/50?text=U"}),f=p=>{const b="https://placehold.co/50?text=U";p.target.src===b||p.target.src.includes("placehold.co")||(p.target.src=b)},u=pe(()=>{var p;return((p=l.wallet.value)==null?void 0:p.gold)||0}),d=pe(()=>{var p;return((p=l.wallet.value)==null?void 0:p.echoCoin)||0}),h=p=>{const b=Number(p);return!b||isNaN(b)?"0":b>=1e9?(b/1e9).toFixed(1).replace(/\.0$/,"")+"B":b>=1e6?(b/1e6).toFixed(1).replace(/\.0$/,"")+"M":b>=1e3?(b/1e3).toFixed(1).replace(/\.0$/,"")+"K":Math.floor(b).toString()},y=p=>{const b=Number(p);return!b||isNaN(b)?"0.0000":b.toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4})};return at(()=>{n.token&&(i.fetchUnreadCount(),o.character||o.fetchCharacter())}),(p,b)=>{var x;const C=Ss("router-link");return v(),m(Ce,null,[s("header",X_,[b[5]||(b[5]=s("div",{class:"header-texture"},null,-1)),b[6]||(b[6]=s("div",{class:"header-border-bot"},null,-1)),b[7]||(b[7]=s("div",{class:"spacer"},null,-1)),H(n).token?(v(),m("div",Y_,[s("div",J_,[s("div",Q_,[s("img",{src:H(pt)("r_coin.png"),class:"icon-img"},null,8,Z_),s("div",e0,_(h(u.value)),1)]),s("div",t0,[s("img",{src:H(pt)("r_coinEcho.png"),class:"icon-img"},null,8,s0),s("div",n0,_(y(d.value)),1)]),s("div",o0,[b[1]||(b[1]=s("div",{class:"res-icon"},[s("i",{class:"fas fa-bolt"})],-1)),s("div",i0,[s("div",{class:"energy-bar",style:Pe({width:H(o).energyPercent+"%"})},null,4)]),s("div",a0,_(h(((x=H(o).character)==null?void 0:x.currentEnergy)||0)),1)])]),s("div",{class:"hud-icon-node chat-node",onClick:b[0]||(b[0]=I=>H(a).openChat()),title:"Truyn Th"},[...b[2]||(b[2]=[s("div",{class:"node-icon"},[s("i",{class:"fas fa-envelope"})],-1)])]),fe(C,{to:"/friends",class:X(["hud-icon-node friend-node",{"has-signal":r.value>0}])},{default:ke(()=>[b[3]||(b[3]=s("div",{class:"node-icon"},[s("i",{class:"fas fa-user-friends"})],-1)),r.value>0?(v(),m("div",r0,_(r.value>9?"9+":r.value),1)):W("",!0)]),_:1},8,["class"]),fe(C,{to:"/notifications",class:X(["hud-icon-node noti-node",{"has-signal":H(i).unreadCount>0}])},{default:ke(()=>[b[4]||(b[4]=s("div",{class:"node-icon"},[s("i",{class:"fas fa-bell"})],-1)),H(i).unreadCount>0?(v(),m("div",l0,_(H(i).unreadCount>99?"99+":H(i).unreadCount),1)):W("",!0)]),_:1},8,["class"]),s("div",c0,[H(o).character?(v(),us(C,{key:0,to:"/profile",class:"profile-link"},{default:ke(()=>[s("div",u0,[s("div",d0,_(H(o).character.name),1),s("div",f0,[s("div",{class:"xp-fill",style:Pe({width:H(o).xpPercent+"%"})},null,4)])]),s("div",h0,[s("img",{src:c.value,class:"user-avatar",onError:f},null,40,p0)])]),_:1})):W("",!0)])])):W("",!0)]),fe(Hr)],64)}}},m0=Fe(v0,[["__scopeId","data-v-8f60c3fd"]]),ts=Qt("inventory",{state:()=>({items:[],loading:!1,error:null}),actions:{async fetchInventory(){var t,n;if(!Qe().token){console.warn(" InventoryStore: Khng c token, hy gi API ly ."),this.items=[];return}this.loading=!0;try{const o=await ye.get("/inventory/items");this.items=o.data}catch(o){((t=o.response)==null?void 0:t.status)!==401&&(this.error=((n=o.response)==null?void 0:n.data)||"Li ly ti ",console.error(o))}finally{this.loading=!1}},async equipItem(e){var t;try{await ye.post(`/inventory/equip/${e}`),await this.fetchInventory()}catch(n){throw((t=n.response)==null?void 0:t.data)||"Li trang b"}},async unequipItem(e){var t;try{await ye.post(`/inventory/unequip/${e}`),await this.fetchInventory()}catch(n){throw((t=n.response)==null?void 0:t.data)||"Li tho "}},async useItem(e){var t;try{const n=await ye.post(`/inventory/use/${e}`);return await this.fetchInventory(),n.data}catch(n){throw((t=n.response)==null?void 0:t.data)||"Li s dng"}},async expandInventory(){var e;try{const t=await ye.post("/inventory/expand");return await Qe().fetchProfile(),t.data}catch(t){throw((e=t.response)==null?void 0:e.data)||"Li m rng"}},async repairItem(e){var t;try{const n=await ye.post(`/inventory/repair/${e}`),o=this.items.find(a=>a.userItemId===e);return o&&o.maxDurability&&(o.currentDurability=o.maxDurability),await Qe().fetchProfile(),n.data}catch(n){throw((t=n.response)==null?void 0:t.data)||"Li sa "}}}}),g0={class:"modal-content gift-modal"},y0={class:"modal-body"},b0={class:"input-group"},_0=["disabled"],w0=["disabled"],$0={key:0},C0={key:1},T0={__name:"GiftCodeModal",setup(e,{expose:t}){const n=M(!1),o=M(""),i=M(!1),a=M(""),r=M(!1),l=Fs(),c=ts(),f=Qe(),u=()=>{n.value=!0,o.value="",a.value="",r.value=!1},d=()=>{n.value=!1},h=async()=>{if(o.value.trim()){i.value=!0,a.value="",r.value=!1;try{const y=await ye.post("/giftcode/redeem",{code:o.value});a.value=y.data.message,l.showToast(y.data.message,"success"),await f.fetchUserProfile(),await c.fetchInventory(),setTimeout(()=>{n.value&&d()},2e3)}catch(y){r.value=!0,y.response&&y.response.data?a.value=y.response.data.error||y.response.data:a.value="Li kt ni server."}finally{i.value=!1}}};return t({open:u}),(y,p)=>(v(),us(Ge,{name:"modal-fade"},{default:ke(()=>[n.value?(v(),m("div",{key:0,class:"modal-overlay",onClick:Ze(d,["self"])},[s("div",g0,[s("div",{class:"modal-header"},[p[1]||(p[1]=s("h2",null,[s("i",{class:"fas fa-gift"}),J(" Nhp Giftcode")],-1)),s("button",{class:"close-btn",onClick:d},"")]),s("div",y0,[p[3]||(p[3]=s("p",{class:"guide-text"},"Nhp m qu tng  nhn vt phm:",-1)),s("div",b0,[$e(s("input",{"onUpdate:modelValue":p[0]||(p[0]=b=>o.value=b),placeholder:"Nhp m ti y...",onKeyup:wn(h,["enter"]),disabled:i.value},null,40,_0),[[Te,o.value]]),s("button",{onClick:h,disabled:i.value||!o.value},[i.value?(v(),m("span",$0,[...p[2]||(p[2]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1)])])):(v(),m("span",C0,"Nhn"))],8,w0)]),a.value?(v(),m("div",{key:0,class:X(["result-msg",{error:r.value}])},_(a.value),3)):W("",!0)])])])):W("",!0)]),_:1}))}},E0=Fe(T0,[["__scopeId","data-v-ca23382a"]]),k0={class:"game-footer"},S0={class:"footer-container"},I0={class:"footer-brand"},x0={class:"brand-logo"},N0=["src"],A0={class:"footer-nav"},R0={class:"nav-col"},L0={class:"nav-col"},O0={class:"copyright-row"},P0={__name:"GameFooter",setup(e){const t=Hi(),n=M(null),o=()=>{n.value&&n.value.open()};return(i,a)=>{const r=Ss("router-link");return v(),m("footer",k0,[a[11]||(a[11]=s("div",{class:"footer-border-top"},null,-1)),s("div",S0,[s("div",I0,[s("div",x0,[s("img",{src:H(t),alt:"Logo"},null,8,N0)]),a[0]||(a[0]=s("div",{class:"brand-info"},[s("h2",{class:"team-name"},"Aurix Team"),s("p",{class:"slogan"},"Kin to th gii tin hip")],-1))]),s("div",A0,[s("div",R0,[a[5]||(a[5]=s("h3",{class:"col-title"},"Tr Chi",-1)),s("ul",null,[s("li",null,[fe(r,{to:"/about"},{default:ke(()=>[...a[1]||(a[1]=[J("Gii thiu",-1)])]),_:1})]),s("li",null,[fe(r,{to:"/rules"},{default:ke(()=>[...a[2]||(a[2]=[J("Lut chi",-1)])]),_:1})]),s("li",null,[fe(r,{to:"/updates"},{default:ke(()=>[...a[3]||(a[3]=[J("Nht k cp nht",-1)])]),_:1})]),s("li",null,[s("a",{href:"#",onClick:Ze(o,["prevent"]),class:"gift-link"},[...a[4]||(a[4]=[s("i",{class:"fas fa-gift"},null,-1),J(" Giftcode ",-1)])])])])]),a[10]||(a[10]=Ot('<div class="nav-col" data-v-c0ed81eb><h3 class="col-title" data-v-c0ed81eb>Cng ng</h3><ul data-v-c0ed81eb><li data-v-c0ed81eb><a href="https://discord.gg/mdbgEPxg" target="_blank" data-v-c0ed81eb><i class="fab fa-discord" data-v-c0ed81eb></i> Discord </a></li><li data-v-c0ed81eb><a href="https://www.facebook.com/share/1APa65u86N/?mibextid=wwXIfr" target="_blank" data-v-c0ed81eb><i class="fab fa-facebook" data-v-c0ed81eb></i> Fanpage </a></li></ul></div>',1)),s("div",L0,[a[9]||(a[9]=s("h3",{class:"col-title"},"H Tr",-1)),s("ul",null,[s("li",null,[fe(r,{to:"/help"},{default:ke(()=>[...a[6]||(a[6]=[J("Trung tm tr gip",-1)])]),_:1})]),s("li",null,[fe(r,{to:"/report"},{default:ke(()=>[...a[7]||(a[7]=[J("Bo li",-1)])]),_:1})]),s("li",null,[fe(r,{to:"/privacy"},{default:ke(()=>[...a[8]||(a[8]=[J("Chnh sch bo mt",-1)])]),_:1})])])])])]),s("div",O0,[s("p",null,"  "+_(new Date().getFullYear())+" AURIX Team. All rights reserved. ",1)]),fe(E0,{ref_key:"giftModalRef",ref:n},null,512)])}}},M0=Fe(P0,[["__scopeId","data-v-c0ed81eb"]]),H0={class:"ink-bg-layer"},U0={class:"logo-area"},D0={class:"logo-seal"},B0=["src"],q0={key:0,class:"logo-text"},F0={class:"nav-links custom-scroll"},G0={key:0,class:"nav-group-label"},V0={key:0,class:"nav-label"},j0={key:0,class:"nav-label"},K0={key:1,class:"nav-group-label"},W0={key:0,class:"nav-label"},z0={key:0,class:"nav-label"},X0={key:0,class:"nav-label"},Y0={key:0,class:"nav-label"},J0={key:0,class:"nav-label"},Q0={key:2,class:"nav-group-label"},Z0={key:0,class:"nav-label"},ew={key:0,class:"nav-label"},tw={key:0,class:"nav-group-label admin"},sw={key:0,class:"nav-label"},nw={class:"sidebar-footer"},ow={key:0,class:"btn-text"},iw={class:"content-wrapper"},aw={class:"main-view custom-scroll"},rw={class:"page-body"},lw={__name:"MainLayout",setup(e){const t=Qe(),n=Zt(),o=M(!1),i=M(!1),a=Hi(),r=pt("b_doanhtrai.png"),l=()=>{o.value=!o.value},c=()=>{i.value=!i.value},f=()=>{i.value=!1},u=()=>{confirm("i hip mun quy n giang h?")&&(t.logout(),n.push({name:"Login"}))};return(d,h)=>{var p;const y=Ss("router-link");return v(),m("div",{class:"app-layout wuxia-theme",style:Pe({"--sidebar-width":o.value?"80px":"280px"})},[s("div",H0,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${H(r)})`})},null,4),h[0]||(h[0]=s("div",{class:"fog-overlay"},null,-1))]),i.value?(v(),m("div",{key:0,class:"sidebar-backdrop mobile-only",onClick:c})):W("",!0),s("aside",{class:X(["sidebar",{collapsed:o.value,"mobile-open":i.value}])},[h[28]||(h[28]=s("div",{class:"sidebar-texture"},null,-1)),s("div",U0,[s("div",D0,[s("img",{src:H(a),alt:"Logo",class:"seal-image"},null,8,B0),h[1]||(h[1]=s("div",{class:"seal-glow"},null,-1))]),fe(Ge,{name:"fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("div",q0,[...h[2]||(h[2]=[s("span",{class:"brand-text"},[J("ECHO"),s("span",{class:"highlight"},"MMO")],-1),s("span",{class:"brand-subtitle"},"V Lm Tranh B",-1)])]))]),_:1})]),s("nav",F0,[o.value?W("",!0):(v(),m("div",G0,[...h[3]||(h[3]=[s("span",{class:"line"},null,-1),s("span",null,"THIN A",-1),s("span",{class:"line"},null,-1)])])),fe(y,{to:"/",class:"nav-item",onClick:f},{default:ke(()=>[h[4]||(h[4]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-dungeon"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",V0,"Snh Chnh"))]),_:1}),h[5]||(h[5]=s("div",{class:"active-bar"},null,-1))]),_:1}),fe(y,{to:"/leaderboard",class:"nav-item",onClick:f},{default:ke(()=>[h[6]||(h[6]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-crown"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",j0,"Thin Th"))]),_:1}),h[7]||(h[7]=s("div",{class:"active-bar"},null,-1))]),_:1}),o.value?W("",!0):(v(),m("div",K0,[...h[8]||(h[8]=[s("span",{class:"line"},null,-1),s("span",null,"GIANG H",-1),s("span",{class:"line"},null,-1)])])),fe(y,{to:"/explore",class:"nav-item",onClick:f},{default:ke(()=>[h[9]||(h[9]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-map-marked-alt"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",W0,"Hnh Tu"))]),_:1}),h[10]||(h[10]=s("div",{class:"active-bar"},null,-1))]),_:1}),fe(y,{to:"/pvp",class:"nav-item",onClick:f},{default:ke(()=>[h[11]||(h[11]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-fist-raised"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",z0,"Li i"))]),_:1}),h[12]||(h[12]=s("div",{class:"active-bar"},null,-1))]),_:1}),fe(y,{to:"/village",class:"nav-item",onClick:f},{default:ke(()=>[h[13]||(h[13]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-campground"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",X0,"Doanh Tri"))]),_:1}),h[14]||(h[14]=s("div",{class:"active-bar"},null,-1))]),_:1}),fe(y,{to:"/marketplace",class:"nav-item",onClick:f},{default:ke(()=>[h[15]||(h[15]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-coins"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",Y0,"Thng Hi"))]),_:1}),h[16]||(h[16]=s("div",{class:"active-bar"},null,-1))]),_:1}),fe(y,{to:"/dump",class:"nav-item",onClick:f},{default:ke(()=>[h[17]||(h[17]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-scroll"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",J0,"Tng Kinh Cc"))]),_:1}),h[18]||(h[18]=s("div",{class:"active-bar"},null,-1))]),_:1}),o.value?W("",!0):(v(),m("div",Q0,[...h[19]||(h[19]=[s("span",{class:"line"},null,-1),s("span",null,"HNH TRANG",-1),s("span",{class:"line"},null,-1)])])),fe(y,{to:"/inventory",class:"nav-item",onClick:f},{default:ke(()=>[h[20]||(h[20]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-suitcase"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",Z0,"Ti "))]),_:1}),h[21]||(h[21]=s("div",{class:"active-bar"},null,-1))]),_:1}),fe(y,{to:"/character",class:"nav-item",onClick:f},{default:ke(()=>[h[22]||(h[22]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-user-shield"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",ew,"Trang B"))]),_:1}),h[23]||(h[23]=s("div",{class:"active-bar"},null,-1))]),_:1}),((p=H(t).user)==null?void 0:p.role)==="ADMIN"?(v(),m(Ce,{key:3},[o.value?W("",!0):(v(),m("div",tw,[...h[24]||(h[24]=[s("span",{class:"line red"},null,-1),s("span",null,"TRIU NH",-1),s("span",{class:"line red"},null,-1)])])),fe(y,{to:"/admin",class:"nav-item admin-link",onClick:f},{default:ke(()=>[h[25]||(h[25]=s("div",{class:"nav-icon"},[s("i",{class:"fas fa-dragon"})],-1)),fe(Ge,{name:"slide-fade"},{default:ke(()=>[o.value?W("",!0):(v(),m("span",sw,"Quan Ph"))]),_:1}),h[26]||(h[26]=s("div",{class:"active-bar red"},null,-1))]),_:1})],64)):W("",!0)]),s("div",nw,[s("button",{class:"control-btn toggle desktop-only",onClick:l},[s("i",{class:X(o.value?"fas fa-chevron-right":"fas fa-chevron-left")},null,2)]),s("button",{class:"control-btn logout",onClick:u},[h[27]||(h[27]=s("i",{class:"fas fa-power-off"},null,-1)),o.value?W("",!0):(v(),m("span",ow,"Quy n"))])])],2),s("div",iw,[fe(m0,{onToggleSidebar:c}),s("main",aw,[s("div",rw,[$p(d.$slots,"default",{},void 0)]),fe(M0)])])],4)}}},cw=Fe(lw,[["__scopeId","data-v-bdf163e3"]]),uw={id:"app-root"},dw={key:0,class:"banned-overlay"},fw={class:"banned-box"},hw={class:"ban-reason-box"},pw={class:"reason-text"},vw={key:0,class:"ban-time"},mw={__name:"App",setup(e){const t=Qe(),n=kd(),o=Zt(),i=pe(()=>["Login","Register","ForgotPassword"].includes(n==null?void 0:n.name)),a=()=>{t.logout(),o.push("/login")};return at(async()=>{i.value||await t.initialize()}),(r,l)=>{const c=Ss("router-view");return v(),m("div",uw,[fe(Ii),fe(Hr),fe(Ge,{name:"fade-overlay"},{default:ke(()=>[H(t).isBanned?(v(),m("div",dw,[s("div",fw,[l[2]||(l[2]=s("div",{class:"seal-animation"},[s("div",{class:"circle-seal"},"PHONG N")],-1)),l[3]||(l[3]=s("h2",{class:"ban-title"},"THIN LI GING TH",-1)),l[4]||(l[4]=s("p",{class:"ban-subtitle"}," o hnh ca ngi  b ph b. Vnh vin khng th siu sinh. ",-1)),s("div",hw,[l[0]||(l[0]=s("label",null,[s("i",{class:"fas fa-scroll"}),J(" L DO TRNG PHT:")],-1)),s("p",pw,'"'+_(H(t).banReason)+'"',1),H(t).banTime?(v(),m("p",vw," Thi gian thi hnh: "+_(H(t).banTime),1)):W("",!0)]),s("div",{class:"ban-actions"},[s("button",{onClick:a,class:"btn-leave"},[...l[1]||(l[1]=[s("i",{class:"fas fa-door-open"},null,-1),J(" RI KHI GIANG H ",-1)])])])])])):W("",!0)]),_:1}),i.value?(v(),us(c,{key:0})):(v(),us(cw,{key:1},{default:ke(()=>[fe(c)]),_:1}))])}}},gw={class:"page-container wuxia-dashboard"},yw={class:"bg-layer"},bw={class:"dashboard-wrapper"},_w={class:"command-header wood-panel"},ww={class:"header-left"},$w={class:"char-block"},Cw={class:"char-text"},Tw={class:"greet-txt"},Ew={class:"char-name"},kw={class:"real-name"},Sw={class:"header-right"},Iw={key:0,class:"wealth-bar"},xw={class:"wealth-item"},Nw={class:"amt"},Aw={class:"weather-seal"},Rw={class:"w-icon"},Lw={class:"w-info"},Ow={class:"stt"},Pw={class:"temp-real"},Mw={class:"command-grid"},Hw={class:"news-bar"},Uw={class:"news-track"},Dw={key:0,class:"news-content"},Bw=["innerHTML"],qw={key:0,class:"sep"},Fw={key:1,class:"news-content"},Gw={__name:"Home",setup(e){const t=Qe(),n=pt("b_doanhtrai.png"),o=pt("w_wood.png"),i=Je({zodiac:"Gi T",realTime:"00:00"}),a=Je({temp:28,desc:"ang quan st...",icon:"fas fa-spinner fa-spin"}),r=M(!1),l=M([]);let c=null,f=null;const u=p=>p>=23||p<1?"Gi T (Canh Ba)":p>=1&&p<3?"Gi Su (Canh T)":p>=3&&p<5?"Gi Dn (Canh Nm)":p>=5&&p<7?"Gi Mo (Bnh Minh)":p>=7&&p<9?"Gi Thn":p>=9&&p<11?"Gi T":p>=11&&p<13?"Gi Ng (Chnh Ng)":p>=13&&p<15?"Gi Mi":p>=15&&p<17?"Gi Thn":p>=17&&p<19?"Gi Du (Hong Hn)":p>=19&&p<21?"Gi Tut (Canh Mt)":p>=21&&p<23?"Gi Hi (Canh Hai)":"Gi L",d=()=>{const p=new Date,b=p.getHours(),C=p.getMinutes();i.realTime=`${b.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`,i.zodiac=u(b),r.value=b>=18||b<6},h=async()=>{try{const C=(await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=10.8231&longitude=106.6297&current=weather_code,temperature_2m,is_day&timezone=Asia%2FBangkok")).json()).current;a.temp=Math.round(C.temperature_2m);const x=C.weather_code,I=C.is_day===1;x===0?(a.desc=I?"Tri Quang My Tnh":"Trng Thanh Gi Mt",a.icon=I?"fas fa-sun":"fas fa-moon"):x>=1&&x<=3?(a.desc="My M Bao Ph",a.icon="fas fa-cloud"):x>=51&&x<=67?(a.desc="Ma Phn Lt Pht",a.icon="fas fa-cloud-rain"):x>=80&&x<=99?(a.desc="Ma Gi Bo Bng",a.icon="fas fa-bolt"):(a.desc="Thin Kh Tht Thng",a.icon="fas fa-smog")}catch{a.desc="Thin C Bt Kh L",a.icon="fas fa-eye-slash"}},y=async()=>{try{const p=await ye.get("/announcements/latest");p&&Array.isArray(p)&&(l.value=p)}catch(p){console.error("Khng ti c co th:",p)}};return at(()=>{var p;t.token&&!((p=t.user)!=null&&p.wallet)&&t.fetchProfile(),d(),h(),y(),c=setInterval(d,6e4),setInterval(h,30*6e4),f=setInterval(y,3e4)}),Pt(()=>{c&&clearInterval(c),f&&clearInterval(f)}),(p,b)=>{var x,I,G,j,P;const C=Ss("router-link");return v(),m("div",gw,[s("div",yw,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${H(n)})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":r.value}])},null,2),b[0]||(b[0]=s("div",{class:"vignette"},null,-1))]),s("div",bw,[s("div",_w,[s("div",ww,[b[3]||(b[3]=s("div",{class:"server-tag"},[s("span",{class:"status-orb"}),s("span",{class:"server-txt"},"MY CH: HC LONG")],-1)),s("div",$w,[s("div",Cw,[s("span",Tw,[b[1]||(b[1]=s("i",{class:"fas fa-clock"},null,-1)),J(" "+_(i.zodiac)+" ("+_(i.realTime)+") ",1)]),s("h1",Ew,[b[2]||(b[2]=s("span",{class:"title-prefix"},"I HIP",-1)),s("span",kw,_(((x=H(t).user)==null?void 0:x.fullName)||((I=H(t).user)==null?void 0:I.username)||"V Danh"),1)])])])]),s("div",Sw,[(G=H(t).user)!=null&&G.wallet?(v(),m("div",Iw,[s("div",xw,[b[4]||(b[4]=s("i",{class:"fas fa-coins gold-icon"},null,-1)),s("span",Nw,_((j=H(t).user.wallet.gold)==null?void 0:j.toLocaleString()),1)])])):W("",!0),s("div",Aw,[s("div",Rw,[s("i",{class:X(a.icon)},null,2)]),s("div",Lw,[b[5]||(b[5]=s("span",{class:"map"},"SI THNH",-1)),s("span",Ow,_(a.desc),1),s("span",Pw,_(a.temp)+"C",1)])])])]),s("div",Mw,[fe(C,{to:"/explore",class:"wood-card hero-tile"},{default:ke(()=>[s("div",{class:"card-bg-pattern",style:Pe({backgroundImage:`url(${H(o)})`})},null,4),b[6]||(b[6]=s("div",{class:"card-content"},[s("div",{class:"hero-center"},[s("div",{class:"icon-stamp"},[s("i",{class:"fas fa-dragon"})]),s("h2",{class:"hero-title"},"NHP TH"),s("div",{class:"ornament-line"},[s("span",{class:"diamond"},""),s("span",{class:"line"}),s("span",{class:"diamond"},"")]),s("p",{class:"hero-sub"},"HNH TU GIANG H")]),s("div",{class:"action-btn"},[s("span",null,"KHI HNH NGAY"),s("i",{class:"fas fa-caret-right"})])],-1)),b[7]||(b[7]=s("div",{class:"sheen"},null,-1))]),_:1}),fe(C,{to:"/inventory",class:"wood-card sub-tile"},{default:ke(()=>[...b[8]||(b[8]=[s("div",{class:"tile-icon"},[s("i",{class:"fas fa-suitcase"})],-1),s("div",{class:"tile-info"},[s("h3",null,"HNH TRANG"),s("span",null,"Vt Phm & Trang B")],-1),s("div",{class:"corner-decor top-right"},null,-1),s("div",{class:"corner-decor bottom-left"},null,-1)])]),_:1}),fe(C,{to:"/marketplace",class:"wood-card sub-tile"},{default:ke(()=>[...b[9]||(b[9]=[s("div",{class:"tile-icon"},[s("i",{class:"fas fa-balance-scale"})],-1),s("div",{class:"tile-info"},[s("h3",null,"THNG HI"),s("span",null,"Giao Thng Mua Bn")],-1),s("div",{class:"corner-decor top-right"},null,-1),s("div",{class:"corner-decor bottom-left"},null,-1)])]),_:1}),fe(C,{to:"/leaderboard",class:"wood-card sub-tile"},{default:ke(()=>[...b[10]||(b[10]=[s("div",{class:"tile-icon"},[s("i",{class:"fas fa-trophy"})],-1),s("div",{class:"tile-info"},[s("h3",null,"BNG VNG"),s("span",null,"Danh Chn Thin H")],-1),s("div",{class:"corner-decor top-right"},null,-1),s("div",{class:"corner-decor bottom-left"},null,-1)])]),_:1}),((P=H(t).user)==null?void 0:P.role)==="ADMIN"?(v(),us(C,{key:0,to:"/admin",class:"wood-card sub-tile admin-tile"},{default:ke(()=>[...b[11]||(b[11]=[s("div",{class:"tile-icon"},[s("i",{class:"fas fa-gavel"})],-1),s("div",{class:"tile-info"},[s("h3",null,"QUAN PH"),s("span",null,"iu Hnh H Thng")],-1),s("div",{class:"corner-decor top-right"},null,-1),s("div",{class:"corner-decor bottom-left"},null,-1)])]),_:1})):W("",!0)]),s("div",Hw,[b[13]||(b[13]=s("div",{class:"news-label"},[s("i",{class:"fas fa-bell"}),s("span",null,"CO TH")],-1)),s("div",Uw,[l.value.length>0?(v(),m("div",Dw,[(v(!0),m(Ce,null,Re(l.value,(w,S)=>(v(),m("span",{key:w.id,class:"news-item-wrapper"},[s("span",{innerHTML:w.content},null,8,Bw),S<l.value.length-1?(v(),m("span",qw,"")):W("",!0)]))),128))])):(v(),m("div",Fw,[...b[12]||(b[12]=[s("span",null,"Cho mng o hu n vi EchoMMO!",-1),s("span",{class:"sep"},"",-1),s("span",null,"Hy tu luyn chm ch  sm ngy phi thng.",-1),s("span",{class:"sep"},"",-1),s("span",{class:"highlight"},"Chc cc h hnh tu vui v!",-1)])]))])])])])}}},Vw=Fe(Gw,[["__scopeId","data-v-a31be155"]]),jw={class:"auth-container"},Kw={class:"auth-header"},Ww=["src"],zw={class:"form-group"},Xw={class:"form-group"},Yw=["disabled"],Jw={key:0},Qw={key:1},Zw={class:"auth-footer"},e$={style:{"margin-top":"10px"}},t$={key:0,class:"ban-modal-overlay"},s$={class:"ban-modal"},n$={class:"ban-details"},o$={__name:"Login",setup(e){const t=Qe(),n=Fs(),o=Zt(),i=Hi(),a=pt("b_mountain.jpg"),r=M(!1),l=Je({reason:"",time:""}),c=Je({username:"",password:""}),f=async()=>{var u,d,h;try{await t.login(c)&&(n.showToast(`Cho mng tr li, ${(u=t.user)==null?void 0:u.username}!`,"success"),o.push("/"))}catch(y){if(y.response&&y.response.status===401&&y.response.data.error==="BANNED")l.reason=y.response.data.reason||"Vi phm quy tc",l.time=y.response.data.bannedAt||"Vnh vin",r.value=!0;else{const p=((h=(d=y.response)==null?void 0:d.data)==null?void 0:h.message)||"Sai ti khon hoc mt khu!";n.showToast(p,"error")}}};return(u,d)=>{const h=Ss("router-link");return v(),m("div",{class:"auth-page",style:Pe({backgroundImage:`url(${H(a)})`})},[s("div",jw,[s("div",Kw,[s("img",{src:H(i),alt:"Logo",class:"logo"},null,8,Ww),d[3]||(d[3]=s("h2",null,"ng Nhp",-1)),d[4]||(d[4]=s("p",null,"Mng i hip quay tr li",-1))]),s("form",{onSubmit:Ze(f,["prevent"]),class:"auth-form"},[s("div",zw,[d[5]||(d[5]=s("label",null,[s("i",{class:"fas fa-user"}),J(" Ti khon")],-1)),$e(s("input",{"onUpdate:modelValue":d[0]||(d[0]=y=>c.username=y),type:"text",placeholder:"Nhp tn ng nhp",required:""},null,512),[[Te,c.username]])]),s("div",Xw,[d[6]||(d[6]=s("label",null,[s("i",{class:"fas fa-lock"}),J(" Mt khu")],-1)),$e(s("input",{"onUpdate:modelValue":d[1]||(d[1]=y=>c.password=y),type:"password",placeholder:"Nhp mt khu",required:""},null,512),[[Te,c.password]])]),s("button",{type:"submit",class:"btn-submit",disabled:H(t).isLoading},[H(t).isLoading?(v(),m("span",Jw,[...d[7]||(d[7]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),J(" ang ng nhp...",-1)])])):(v(),m("span",Qw,"Vo Giang H"))],8,Yw)],32),s("div",Zw,[s("p",null,[d[9]||(d[9]=J(" Cha c ti khon? ",-1)),fe(h,{to:"/register"},{default:ke(()=>[...d[8]||(d[8]=[J("Ghi danh ngay",-1)])]),_:1})]),s("p",e$,[fe(h,{to:"/forgot-password",style:{color:"#90a4ae"}},{default:ke(()=>[...d[10]||(d[10]=[J("Qun mt khu?",-1)])]),_:1})])])]),r.value?(v(),m("div",t$,[s("div",s$,[d[13]||(d[13]=s("div",{class:"ban-icon"},"",-1)),d[14]||(d[14]=s("h3",null,"TI KHON B KHA",-1)),d[15]||(d[15]=s("p",{class:"ban-msg"},"i hip  b cm tc khi giang h!",-1)),s("div",n$,[s("p",null,[d[11]||(d[11]=s("strong",null,"L do:",-1)),J(" "+_(l.reason),1)]),s("p",null,[d[12]||(d[12]=s("strong",null,"Thi gian:",-1)),J(" "+_(l.time),1)])]),s("button",{onClick:d[2]||(d[2]=y=>r.value=!1),class:"btn-close-ban"},"  hiu ")])])):W("",!0)],4)}}},i$=Fe(o$,[["__scopeId","data-v-74ee74ff"]]),a$={class:"auth-container"},r$={class:"auth-header"},l$=["src"],c$={class:"form-group"},u$={class:"form-group"},d$={class:"form-group"},f$={class:"form-group"},h$={class:"form-group"},p$=["disabled"],v$={key:0},m$={key:1},g$={class:"auth-footer"},y$={__name:"Register",setup(e){const t=Qe(),n=Fs(),o=Zt(),i=Hi(),a=pt("b_mountain.jpg"),r=Je({username:"",password:"",email:"",fullName:""}),l=M(""),c=async()=>{var f,u,d;if(r.password!==l.value){n.showToast("Mt khu xc nhn khng khp!","error");return}if(r.password.length<6){n.showToast("Mt khu phi c t nht 6 k t!","error");return}try{await t.register(r)&&(n.showToast(`Cho mng i hip ${r.username} gia nhp giang h!`,"success"),o.push("/"))}catch(h){let y=(u=(f=h.response)==null?void 0:f.data)==null?void 0:u.message;!y&&typeof((d=h.response)==null?void 0:d.data)=="string"&&(y=h.response.data),y||(y="ng k tht bi! Vui lng kim tra li thng tin."),n.showToast(y,"error")}};return(f,u)=>{const d=Ss("router-link");return v(),m("div",{class:"auth-page",style:Pe({backgroundImage:`url(${H(a)})`})},[s("div",a$,[s("div",r$,[s("img",{src:H(i),alt:"Logo",class:"logo"},null,8,l$),u[5]||(u[5]=s("h2",null,"Ghi Danh",-1)),u[6]||(u[6]=s("p",null,"Gia nhp giang h, xng b v lm",-1))]),s("form",{onSubmit:Ze(c,["prevent"]),class:"auth-form"},[s("div",c$,[u[7]||(u[7]=s("label",null,[s("i",{class:"fas fa-id-card"}),J(" H v Tn")],-1)),$e(s("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>r.fullName=h),type:"text",placeholder:"Nhp tn hin th",required:""},null,512),[[Te,r.fullName]])]),s("div",u$,[u[8]||(u[8]=s("label",null,[s("i",{class:"fas fa-user"}),J(" Ti khon")],-1)),$e(s("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>r.username=h),type:"text",placeholder:"Tn ng nhp",required:""},null,512),[[Te,r.username]])]),s("div",d$,[u[9]||(u[9]=s("label",null,[s("i",{class:"fas fa-envelope"}),J(" Email")],-1)),$e(s("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>r.email=h),type:"email",placeholder:"a ch email",required:""},null,512),[[Te,r.email]])]),s("div",f$,[u[10]||(u[10]=s("label",null,[s("i",{class:"fas fa-lock"}),J(" Mt khu")],-1)),$e(s("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>r.password=h),type:"password",placeholder:"Nhp mt khu",required:""},null,512),[[Te,r.password]])]),s("div",h$,[u[11]||(u[11]=s("label",null,[s("i",{class:"fas fa-lock"}),J(" Xc nhn mt khu")],-1)),$e(s("input",{"onUpdate:modelValue":u[4]||(u[4]=h=>l.value=h),type:"password",placeholder:"Nhp li mt khu",required:""},null,512),[[Te,l.value]])]),s("button",{type:"submit",class:"btn-submit",disabled:H(t).isLoading},[H(t).isLoading?(v(),m("span",v$,[...u[12]||(u[12]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),J(" ang x l...",-1)])])):(v(),m("span",m$,"KHI TO NHN VT"))],8,p$)],32),s("div",g$,[s("p",null,[u[14]||(u[14]=J("  c ti khon? ",-1)),fe(d,{to:"/login"},{default:ke(()=>[...u[13]||(u[13]=[J("ng nhp ngay",-1)])]),_:1})])])])],4)}}},b$=Fe(y$,[["__scopeId","data-v-96a5591c"]]),_$={class:"auth-container"},w$={class:"step-container"},$$={class:"form-group"},C$=["disabled"],T$={key:0},E$={key:1},k$={class:"form-group"},S$={class:"form-group"},I$=["disabled"],x$={key:0},N$={key:1},A$={class:"auth-footer"},R$={__name:"ForgotPassword",setup(e){const t=Zt(),n=pt("b_mountain.jpg"),o=M(1),i=M(""),a=M(""),r=M(""),l=M(!1),c=async()=>{var u,d;l.value=!0;try{await ye.post("/auth/forgot-password",{email:i.value}),setTimeout(()=>{o.value=2,l.value=!1},800)}catch(h){alert(((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.message)||"Khng tm thy a ch th tn ny trong giang h."),l.value=!1}},f=async()=>{var u,d;l.value=!0;try{await ye.post("/auth/reset-password",{email:i.value,otp:a.value,newPassword:r.value}),alert("Khi phc thnh cng. Mi i hip ng nhp li."),t.push("/login")}catch(h){alert(((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.message)||"Tht bi: M xc nhn khng ng hoc  ht hn.")}finally{l.value=!1}};return(u,d)=>{const h=Ss("router-link");return v(),m("div",{class:"auth-page",style:Pe({backgroundImage:`url(${H(n)})`})},[s("div",_$,[d[10]||(d[10]=Ot('<div class="auth-header" data-v-d23af041><div class="sect-seal" data-v-d23af041><span class="seal-char" data-v-d23af041></span></div><h2 class="title-ink" data-v-d23af041>KHI PHC</h2><p class="subtitle" data-v-d23af041>Tm li mt tch tht lc</p></div>',1)),s("div",w$,[fe(Ge,{name:"slide-fade",mode:"out-in"},{default:ke(()=>[o.value===1?(v(),m("form",{key:"step1",onSubmit:Ze(c,["prevent"]),class:"auth-form"},[s("div",$$,[d[3]||(d[3]=s("label",null,[s("i",{class:"fas fa-envelope"}),J(" Th tn (Email)")],-1)),$e(s("input",{"onUpdate:modelValue":d[0]||(d[0]=y=>i.value=y),type:"email",placeholder:"Nhp a ch email  ng k",required:""},null,512),[[Te,i.value]])]),s("button",{type:"submit",class:"btn-submit",disabled:l.value},[l.value?(v(),m("span",E$,[...d[4]||(d[4]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),J(" ang tm...",-1)])])):(v(),m("span",T$,"GI B CU"))],8,C$)],32)):(v(),m("form",{key:"step2",onSubmit:Ze(f,["prevent"]),class:"auth-form"},[d[8]||(d[8]=s("div",{class:"alert-scroll"},[s("i",{class:"fas fa-scroll"}),J("  gi mt th n hm th ca bn! ")],-1)),s("div",k$,[d[5]||(d[5]=s("label",null,[s("i",{class:"fas fa-shield-alt"}),J(" M Xc Nhn")],-1)),$e(s("input",{"onUpdate:modelValue":d[1]||(d[1]=y=>a.value=y),type:"text",placeholder:"Nhp m OTP",required:"",class:"text-center",maxlength:"6"},null,512),[[Te,a.value]])]),s("div",S$,[d[6]||(d[6]=s("label",null,[s("i",{class:"fas fa-key"}),J(" Mt khu mi")],-1)),$e(s("input",{"onUpdate:modelValue":d[2]||(d[2]=y=>r.value=y),type:"password",placeholder:"Thit lp mt khu mi",required:""},null,512),[[Te,r.value]])]),s("button",{type:"submit",class:"btn-submit success-mode",disabled:l.value},[l.value?(v(),m("span",N$,[...d[7]||(d[7]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),J(" ang khc n...",-1)])])):(v(),m("span",x$,"THIT LP LI"))],8,I$)],32))]),_:1})]),s("div",A$,[fe(h,{to:"/login",class:"footer-link"},{default:ke(()=>[...d[9]||(d[9]=[s("i",{class:"fas fa-undo"},null,-1),J(" Quay li ",-1)])]),_:1})])])],4)}}},L$=Fe(R$,[["__scopeId","data-v-d23af041"]]),O$={class:"page-container character-page wuxia-dark-theme"},P$={class:"bg-layer"},M$={class:"char-wrapper"},H$={class:"char-grid"},U$={class:"panel stats-panel"},D$={class:"stats-body custom-scroll"},B$={class:"stat-row level-row"},q$={class:"value highlight"},F$={class:"pot-value"},G$={class:"stat-ctrl"},V$={class:"base-val"},j$={key:0,class:"added-val"},K$=["onClick"],W$=["onClick"],z$={key:0,class:"save-stats-area"},X$={class:"panel hero-panel"},Y$={class:"equip-column left-col"},J$=["onMousedown","title"],Q$={class:"slot-frame"},Z$=["src"],eC={class:"slot-label-small"},tC={class:"char-center-col"},sC={class:"char-figure"},nC=["src"],oC={class:"tool-belt"},iC={class:"tool-row"},aC=["onMousedown","title"],rC=["src"],lC={key:2,class:"tool-durability-bar"},cC={class:"equip-column right-col"},uC=["onMousedown","title"],dC={class:"slot-frame"},fC=["src"],hC={class:"slot-label-small"},pC={class:"panel bag-panel"},vC={class:"combat-stats-box"},mC={class:"c-stat"},gC={class:"c-val"},yC={class:"c-stat"},bC={class:"c-val"},_C={class:"c-stat"},wC={class:"c-val"},$C={class:"c-stat"},CC={class:"c-val"},TC={class:"c-stat"},EC={class:"c-val"},kC={class:"bag-info"},SC={class:"mini-grid custom-scroll"},IC=["onClick","onMouseenter","title"],xC=["src"],NC={key:1,class:"qty"},AC={class:"dark-modal"},RC={class:"modal-content"},LC={class:"item-preview-box"},OC=["src"],PC={key:1,class:"preview-info"},MC={class:"p-name"},HC="https://htkhang111.github.io/background/b_doanhtrai.png",UC={__name:"Character",setup(e){const t=Ft(),n=ts(),o=Qe(),i=M(!1),a={str:{label:"Sc Mnh",icon:"fa-dumbbell",colorClass:"text-red"},vit:{label:"Th Lc",icon:"fa-heartbeat",colorClass:"text-green"},agi:{label:"Thn Php",icon:"fa-wind",colorClass:"text-blue"},dex:{label:"Kho Lo",icon:"fa-crosshairs",colorClass:"text-yellow"},int:{label:"Tr Tu",icon:"fa-brain",colorClass:"text-purple"},luck:{label:"Vn Kh",icon:"fa-star",colorClass:"text-gold"}},r=()=>{const T=new Date().getHours();i.value=T>=18||T<6},l=(T,...$)=>{if(!T)return 0;for(const k of $)if(T[k]!==void 0&&T[k]!==null)return Number(T[k]);return 0},c=Je({str:0,vit:0,agi:0,dex:0,int:0,luck:0}),f=T=>{const $=t.character||{};return T==="int"?l($,"intelligence","int_stat","int"):l($,T)},u=pe(()=>{const T=l(t.character,"statPoints","stat_points"),$=Object.values(c).reduce((k,A)=>k+A,0);return Math.max(0,T-$)}),d=pe(()=>Object.values(c).some(T=>T>0)),h=T=>{u.value>0&&c[T]++},y=T=>{c[T]>0&&c[T]--},p=()=>{Object.keys(c).forEach(T=>c[T]=0)},b=async()=>{const T={...c};T.int&&(T.intelligence=T.int,delete T.int),await t.addStats(T)&&p()},C={NECKLACE:{label:"Dy Chuyn",icon:"fa-gem"},WEAPON:{label:"V Kh",icon:"fa-gavel"},RING:{label:"Nhn",icon:"fa-ring"},HELMET:{label:"M",icon:"fa-hat-cowboy-side"},ARMOR:{label:"Y Phc",icon:"fa-tshirt"},BOOTS:{label:"Giy",icon:"fa-socks"},PICKAXE:{label:"Cp",icon:"fa-hammer"},AXE:{label:"Ru",icon:"fa-axe"},SHOVEL:{label:"Xng",icon:"fa-trowel"},FISHING_ROD:{label:"Cn Cu",icon:"fa-fish"}},x=T=>{if(!T)return null;const k=(T.slotType||T.slot_type||"").toUpperCase();return C[k]?k:null},I=pe(()=>{const T={};return(n.items||[]).forEach(k=>{if(k&&k.item&&k.isEquipped){const A=x(k.item);A&&(T[A]=k)}}),T}),G=pe(()=>(n.items||[]).filter($=>{if(!$||!$.item||$.isEquipped)return!1;const k=($.item.type||"").toUpperCase();return k==="MATERIAL"||k==="RESOURCE"?!1:x($.item)!==null})),j=pe(()=>{var $;const T=An(($=o.user)==null?void 0:$.avatarUrl);return T?T.sprites.idle:""}),P=M(null),w=T=>{if(!T||!T.item)return"";let $=`${T.item.name} (+${T.enhanceLevel||0})
`;const k=l(T,"currentDurability","current_durability"),A=l(T,"maxDurability","max_durability")||100;$+=` bn: ${k}/${A}
`;const Y=(T.mainStatType||"").toUpperCase(),K=l(T,"mainStatValue","main_stat_value");let O=[];K>0&&(Y.includes("ATK")?O.push(`Cng: +${K}`):Y.includes("DEF")?O.push(`Th: +${K}`):Y.includes("HP")?O.push(`Mu: +${K}`):Y.includes("SPEED")?O.push(`Tc: +${K}`):Y.includes("CRIT")?O.push(`Bo: +${K}%`):O.push(`${Y}: +${K}`));const F=l(T.item,"atkBonus","atk_bonus"),Se=l(T.item,"defBonus","def_bonus"),Le=l(T.item,"hpBonus","hp_bonus"),ee=l(T.item,"speedBonus","speed_bonus");return!Y.includes("ATK")&&F>0&&O.push(`Cng (Gc): +${F}`),!Y.includes("DEF")&&Se>0&&O.push(`Th (Gc): +${Se}`),!Y.includes("HP")&&Le>0&&O.push(`Mu (Gc): +${Le}`),!Y.includes("SPEED")&&ee>0&&O.push(`Tc (Gc): +${ee}`),$+O.join(`
`)},S=pe(()=>{const T=t.character||{};let $={str:l(T,"str")+c.str,vit:l(T,"vit")+c.vit,agi:l(T,"agi")+c.agi,dex:l(T,"dex")+c.dex,int:l(T,"intelligence","int","int_stat")+c.int,luck:l(T,"luck")+c.luck},k={atk:5+$.str*2,def:2+Math.floor($.vit/3),hp:100+$.vit*15,speed:10+$.agi,crit:1+$.luck/10};return Object.values(I.value).forEach(A=>{if(!A||!A.item||l(A,"currentDurability","current_durability")<=0&&(A.maxDurability||A.max_durability))return;const K=(A.mainStatType||"").toUpperCase(),O=l(A,"mainStatValue","main_stat_value");O>0&&(K.includes("ATK")?k.atk+=O:K.includes("DEF")?k.def+=O:K.includes("HP")?k.hp+=O:K.includes("SPEED")?k.speed+=O:K.includes("CRIT")?k.crit+=O:K==="ATK_PERCENT"?k.atk+=(5+$.str*2)*(O/100):K==="HP_PERCENT"&&(k.hp+=(100+$.vit*15)*(O/100)));const F=l(A.item,"atkBonus","atk_bonus"),Se=l(A.item,"defBonus","def_bonus"),Le=l(A.item,"hpBonus","hp_bonus"),ee=l(A.item,"speedBonus","speed_bonus");if(K.includes("ATK")||(k.atk+=F),K.includes("DEF")||(k.def+=Se),K.includes("HP")||(k.hp+=Le),K.includes("SPEED")||(k.speed+=ee),A.subStats){let he=[];try{he=typeof A.subStats=="string"?JSON.parse(A.subStats):A.subStats}catch{}Array.isArray(he)&&he.forEach(de=>{const be=(de.code||de.type||"").toUpperCase(),Ne=Number(de.value||0);be.includes("ATK")?k.atk+=Ne:be.includes("DEF")?k.def+=Ne:be.includes("HP")?k.hp+=Ne:be.includes("SPEED")?k.speed+=Ne:be.includes("CRIT")&&(k.crit+=Ne)})}}),{atk:Math.floor(k.atk),def:Math.floor(k.def),speed:Math.floor(k.speed),crit:parseFloat(k.crit.toFixed(2)),hp:Math.floor(k.hp),attributes:$}}),se=T=>T?T>=15?"lvl-red":T>=10?"lvl-purple":T>=5?"lvl-gold":"lvl-white":"",D=T=>{const $=l(T,"maxDurability","max_durability")||100,k=l(T,"currentDurability","current_durability");return T.currentDurability===void 0&&T.current_durability===void 0?100:Math.max(0,k/$*100)},Q=T=>{const $=D(T);return $<=0?"bg-red-600":$<30?"bg-orange-500":"bg-green-500"},te=async T=>{if(!T||!T.item)return;if(x(T.item))try{await n.equipItem(T.userItemId),await Promise.all([n.fetchInventory(),t.fetchCharacter()])}catch(k){console.error("Li Equip:",k)}else alert(`Vt phm li loi: ${T.item.slotType}`)},V=M(!1),ue=M(null),xe=T=>{const $=I.value[T];$&&(ue.value=$,V.value=!0)},Ae=async()=>{if(ue.value)try{await n.unequipItem(ue.value.userItemId),await Promise.all([n.fetchInventory(),t.fetchCharacter()])}catch(T){console.error("Li Unequip:",T)}q()},q=()=>{V.value=!1,ue.value=null};return at(async()=>{r(),await Promise.all([t.fetchCharacter(),n.fetchInventory()])}),(T,$)=>{var k;return v(),m("div",O$,[s("div",P$,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${HC})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":i.value}])},null,2),$[1]||($[1]=s("div",{class:"vignette"},null,-1))]),s("div",M$,[s("div",H$,[s("div",U$,[$[8]||($[8]=s("div",{class:"panel-header"},[s("div",{class:"decor-line"}),s("h3",null,"CN CT"),s("div",{class:"decor-line"})],-1)),s("div",D$,[s("div",B$,[$[2]||($[2]=s("span",{class:"label"},"Cnh Gii",-1)),s("span",q$,"Cp "+_(((k=H(t).character)==null?void 0:k.level)||1),1)]),s("div",{class:X(["potential-box",{"has-points":u.value>0}])},[$[3]||($[3]=s("div",{class:"pot-label"},"im Tim Nng",-1)),s("div",F$,_(u.value),1)],2),$[7]||($[7]=s("div",{class:"divider"},null,-1)),(v(),m(Ce,null,Re(a,(A,Y)=>s("div",{class:"base-stat-row",key:Y},[s("span",{class:X(["stat-name",A.colorClass])},[s("i",{class:X(["fas",A.icon])},null,2),J(" "+_(A.label),1)],2),s("div",G$,[s("span",V$,_(f(Y)),1),c[Y]>0?(v(),m("span",j$,"+"+_(c[Y]),1)):W("",!0),u.value>0?(v(),m("button",{key:1,onClick:K=>h(Y),class:"btn-plus"},[...$[4]||($[4]=[s("i",{class:"fas fa-plus"},null,-1)])],8,K$)):W("",!0),c[Y]>0?(v(),m("button",{key:2,onClick:K=>y(Y),class:"btn-minus"},[...$[5]||($[5]=[s("i",{class:"fas fa-minus"},null,-1)])],8,W$)):W("",!0)])])),64)),d.value?(v(),m("div",z$,[s("button",{onClick:b,class:"btn-wood confirm full-width"},[...$[6]||($[6]=[s("i",{class:"fas fa-check"},null,-1),J(" LU THAY I ",-1)])]),s("button",{onClick:p,class:"btn-wood cancel full-width",style:{"margin-top":"5px"}}," HY ")])):W("",!0)])]),s("div",X$,[$[10]||($[10]=s("div",{class:"aura-bg"},null,-1)),s("div",Y$,[(v(),m(Ce,null,Re(["NECKLACE","WEAPON","RING"],A=>s("div",{key:A,class:X(["equip-slot",{filled:I.value[A],"target-glow":P.value===A,"broken-item":I.value[A]&&D(I.value[A])<=0}]),onMousedown:Ze(Y=>xe(A),["left"]),title:I.value[A]?w(I.value[A]):C[A].label},[s("div",Q$,[I.value[A]?(v(),m("img",{key:0,src:H(He)(I.value[A].item.imageUrl)},null,8,Z$)):(v(),m("i",{key:1,class:X(["fas placeholder",C[A].icon])},null,2)),I.value[A]&&(I.value[A].enhanceLevel||I.value[A].level)?(v(),m("div",{key:2,class:X(["slot-level-tag",se(I.value[A].enhanceLevel||I.value[A].level)])}," +"+_(I.value[A].enhanceLevel||I.value[A].level),3)):W("",!0)]),s("div",eC,_(C[A].label),1)],42,J$)),64))]),s("div",tC,[s("div",sC,[s("img",{src:j.value,class:"skin-preview"},null,8,nC)]),s("div",oC,[$[9]||($[9]=s("div",{class:"tool-belt-title"},"B CNG C",-1)),s("div",iC,[(v(),m(Ce,null,Re(["PICKAXE","AXE","SHOVEL","FISHING_ROD"],A=>s("div",{key:A,class:X(["mini-tool-slot",{filled:I.value[A],"target-glow":P.value===A,broken:I.value[A]&&D(I.value[A])<=0}]),onMousedown:Ze(Y=>xe(A),["left"]),title:I.value[A]?w(I.value[A]):C[A].label},[I.value[A]?(v(),m("img",{key:0,src:H(He)(I.value[A].item.imageUrl)},null,8,rC)):(v(),m("i",{key:1,class:X(["fas",C[A].icon])},null,2)),I.value[A]?(v(),m("div",lC,[s("div",{class:X(["tool-dur-fill",Q(I.value[A])]),style:Pe({width:D(I.value[A])+"%"})},null,6)])):W("",!0)],42,aC)),64))])])]),s("div",cC,[(v(),m(Ce,null,Re(["HELMET","ARMOR","BOOTS"],A=>s("div",{key:A,class:X(["equip-slot",{filled:I.value[A],"target-glow":P.value===A,"broken-item":I.value[A]&&D(I.value[A])<=0}]),onMousedown:Ze(Y=>xe(A),["left"]),title:I.value[A]?w(I.value[A]):C[A].label},[s("div",dC,[I.value[A]?(v(),m("img",{key:0,src:H(He)(I.value[A].item.imageUrl)},null,8,fC)):(v(),m("i",{key:1,class:X(["fas placeholder",C[A].icon])},null,2)),I.value[A]&&(I.value[A].enhanceLevel||I.value[A].level)?(v(),m("div",{key:2,class:X(["slot-level-tag",se(I.value[A].enhanceLevel||I.value[A].level)])}," +"+_(I.value[A].enhanceLevel||I.value[A].level),3)):W("",!0)]),s("div",hC,_(C[A].label),1)],42,uC)),64))])]),s("div",pC,[$[16]||($[16]=s("div",{class:"panel-header"},[s("div",{class:"decor-line"}),s("h3",null,"HNH NANG"),s("div",{class:"decor-line"})],-1)),s("div",vC,[s("div",mC,[$[11]||($[11]=s("span",{class:"c-label atk"},[s("i",{class:"fas fa-fist-raised"}),J(" Cng")],-1)),s("span",gC,_(S.value.atk),1)]),s("div",yC,[$[12]||($[12]=s("span",{class:"c-label def"},[s("i",{class:"fas fa-shield-alt"}),J(" Th")],-1)),s("span",bC,_(S.value.def),1)]),s("div",_C,[$[13]||($[13]=s("span",{class:"c-label speed"},[s("i",{class:"fas fa-wind"}),J(" Tc")],-1)),s("span",wC,_(S.value.speed),1)]),s("div",$C,[$[14]||($[14]=s("span",{class:"c-label hp"},[s("i",{class:"fas fa-heart"}),J(" Mu")],-1)),s("span",CC,_(S.value.hp),1)]),s("div",TC,[$[15]||($[15]=s("span",{class:"c-label crit"},[s("i",{class:"fas fa-bolt"}),J(" Bo")],-1)),s("span",EC,_(S.value.crit)+"%",1)])]),s("div",kC,"Vt phm: "+_(G.value.length)+" / 50",1),s("div",SC,[(v(!0),m(Ce,null,Re(G.value,A=>(v(),m("div",{key:A.userItemId,class:X(["mini-slot",["rarity-"+(A.item.rarity||"C"),{"is-equipped":A.isEquipped}]]),onClick:Y=>te(A),onMouseenter:Y=>P.value=x(A.item),onMouseleave:$[0]||($[0]=Y=>P.value=null),title:w(A)},[s("img",{src:H(He)(A.item.imageUrl)},null,8,xC),A.enhanceLevel||A.level?(v(),m("div",{key:0,class:X(["mini-level",se(A.enhanceLevel||A.level)])}," +"+_(A.enhanceLevel||A.level),3)):W("",!0),A.quantity>1?(v(),m("span",NC,_(A.quantity),1)):W("",!0)],42,IC))),128)),(v(!0),m(Ce,null,Re(Math.max(0,20-G.value.length),A=>(v(),m("div",{key:"e"+A,class:"mini-slot empty"}))),128))])])])]),fe(Ge,{name:"fade"},{default:ke(()=>[V.value?(v(),m("div",{key:0,class:"modal-overlay",onClick:Ze(q,["self"])},[s("div",AC,[s("div",RC,[$[18]||($[18]=s("h3",{class:"modal-title"},"G B VT PHM",-1)),s("div",LC,[ue.value?(v(),m("img",{key:0,src:H(He)(ue.value.item.imageUrl),class:"preview-img"},null,8,OC)):W("",!0),ue.value?(v(),m("div",PC,[s("span",MC,_(ue.value.item.name),1),$[17]||($[17]=s("span",{class:"p-type"},"S tr v hnh trang",-1))])):W("",!0)]),s("div",{class:"modal-actions"},[s("button",{class:"btn-wood cancel",onClick:q}," HY B "),s("button",{class:"btn-wood confirm",onClick:Ae}," XC NHN ")])])])])):W("",!0)]),_:1})])}}},DC=Fe(UC,[["__scopeId","data-v-b7529e5f"]]),BC={class:"create-char-container"},qC={__name:"CreateCharacter",setup(e){const t=M(""),n=Ft(),o=Zt(),i=async()=>{await n.createCharacter(t.value)&&o.push("/game")};return(a,r)=>(v(),m("div",BC,[r[2]||(r[2]=s("h2",null,"Khi To Nhn Vt",-1)),r[3]||(r[3]=s("p",null,"Cho mng nh thm him mi! Hy t tn cho danh tnh ca bn.",-1)),s("form",{onSubmit:Ze(i,["prevent"])},[$e(s("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>t.value=l),placeholder:"Tn nhn vt...",required:""},null,512),[[Te,t.value]]),r[1]||(r[1]=s("button",{type:"submit"},"Bt u Hnh Trnh",-1))],32)]))}},FC=Fe(qC,[["__scopeId","data-v-b0815987"]]),GC={class:"page-container wuxia-dashboard"},VC={class:"bg-layer"},jC={class:"dashboard-wrapper"},KC={class:"command-header wood-panel"},WC={class:"header-left"},zC={class:"char-block"},XC={class:"char-text"},YC={class:"greet-txt"},JC={class:"header-right"},QC={key:0,class:"wealth-bar"},ZC={class:"wealth-item"},eT={class:"amt"},tT={class:"wealth-item",style:{"margin-left":"10px",color:"#00e676"}},sT={class:"amt"},nT={class:"weather-seal"},oT={class:"temp-real"},iT={class:"town-content"},aT={class:"hub-grid"},rT={class:"card-content"},lT={class:"stats-mini"},cT={class:"stat-row"},uT={class:"bar-track"},dT={class:"stat-row"},fT={class:"bar-track"},hT=["disabled"],pT={key:1,class:"night-scene"},vT={class:"resting-text"},mT={class:"count-txt"},gT={class:"card-content"},yT={key:0,class:"lock-msg"},bT={key:1,class:"wuxia-btn outline"},_T={class:"deploy-container"},wT=["disabled"],$T={class:"wood-panel modal-box spa-menu"},CT={class:"spa-options-grid"},TT={class:"meta-row"},ET={key:0,class:"gold-txt",style:{color:"#00e676"}},kT={key:1,class:"gold-txt"},ST={class:"meta-row"},IT={class:"gold-txt",style:{color:"#00e676"}},xT="https://htkhang111.github.io/background/b_doanhtrai.png",Hn="spa_end_time",NT={__name:"Village",setup(e){const t=Je({zodiac:"Gi T",realTime:"00:00"}),n=Je({temp:28,icon:"fas fa-sun"}),o=M(!1);let i=null;const a=q=>{const T=["T","Su","Dn","Mo","Thn","T","Ng","Mi","Thn","Du","Tut","Hi"],$=Math.floor((q+1)%24/2);return`Gi ${T[$]}`},r=()=>{const T=new Date().getHours();t.zodiac=a(T),o.value=T>=18||T<6},l=Zt(),c=Ft(),f=Qe(),u=ts(),d=M(!1),h=M(!1),y=M(!1),p=M(0);let b=null;const C=pe(()=>c.character?Math.min(c.character.currentHp/c.character.maxHp*100,100):0),x=pe(()=>c.character?Math.min(c.character.currentEnergy/c.character.maxEnergy*100,100):0),I=pe(()=>C.value>=100&&x.value>=100),G=pe(()=>{var q;return((q=c.character)==null?void 0:q.level)||1}),j=pe(()=>{var q;return((q=c.character)==null?void 0:q.dailySpaUsage)||0}),P=pe(()=>Math.max(0,2-j.value)),w=pe(()=>(G.value*100).toLocaleString()),S=pe(()=>(.5+G.value*.05).toFixed(2)),se=pe(()=>!u.items||u.items.length===0?!1:u.items.some(q=>(q.enhancementLevel||0)>=30)),D=()=>{se.value&&l.push("/evolve-mythic")},Q=()=>h.value=!0,te=()=>{y.value=!1,localStorage.removeItem(Hn)},V=async q=>{var T,$;h.value=!1;try{const A=(await ye.post("/spa/relax",{type:q})).data.secondsRemaining||(q==="VIP"?10:120),Y=Date.now()+A*1e3;localStorage.setItem(Hn,Y),p.value=A,d.value=!0,await f.fetchProfile(),ue()}catch(k){const A=(($=(T=k.response)==null?void 0:T.data)==null?void 0:$.message)||"Li h thng hoc khng  tin!";alert(A)}},ue=()=>{b&&clearInterval(b),b=setInterval(()=>{const q=localStorage.getItem(Hn);if(!q){clearInterval(b);return}const T=Math.ceil((parseInt(q)-Date.now())/1e3);T>0?p.value=T:(clearInterval(b),p.value=0,xe())},1e3)},xe=async()=>{d.value=!1,localStorage.removeItem(Hn),y.value=!0;try{await c.fetchCharacter()}catch(q){console.error("Li cp nht nhn vt sau ngh ngi:",q)}},Ae=()=>{const q=localStorage.getItem(Hn);if(q){const T=Math.ceil((parseInt(q)-Date.now())/1e3);T>0?(d.value=!0,p.value=T,ue()):xe()}};return at(async()=>{r(),i=setInterval(r,6e4),await c.fetchCharacter(),f.token&&await f.fetchProfile(),u.fetchInventory&&await u.fetchInventory(),Ae()}),Pt(()=>{b&&clearInterval(b),i&&clearInterval(i)}),(q,T)=>{var k,A,Y;const $=Ss("router-link");return v(),m("div",GC,[s("div",VC,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${xT})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":o.value}])},null,2),T[5]||(T[5]=s("div",{class:"vignette"},null,-1))]),s("div",jC,[s("div",KC,[s("div",WC,[T[8]||(T[8]=s("div",{class:"server-tag"},[s("span",{class:"status-orb"}),s("span",{class:"server-txt"},"KHU VC: AN TON")],-1)),s("div",zC,[s("div",XC,[s("span",YC,[T[6]||(T[6]=s("i",{class:"fas fa-clock"},null,-1)),J(" "+_(t.zodiac),1)]),T[7]||(T[7]=s("h1",{class:"char-name"},"LC DNG THNH",-1))])])]),s("div",JC,[(k=H(f).user)!=null&&k.wallet?(v(),m("div",QC,[s("div",ZC,[T[9]||(T[9]=s("i",{class:"fas fa-coins gold-icon"},null,-1)),s("span",eT,_((A=H(f).user.wallet.gold)==null?void 0:A.toLocaleString()),1)]),s("div",tT,[T[10]||(T[10]=s("i",{class:"fas fa-gem"},null,-1)),s("span",sT,_((Y=H(f).user.wallet.echoCoin)==null?void 0:Y.toLocaleString()),1)])])):W("",!0),s("div",nT,[s("i",{class:X(n.icon)},null,2),s("span",oT,_(n.temp)+"C",1)])])]),s("div",iT,[T[31]||(T[31]=s("div",{class:"ornament-divider"},[s("span",{class:"diamond"},""),s("span",{class:"sub-text"},"THIN H THI BNH"),s("span",{class:"diamond"},"")],-1)),s("div",aT,[s("div",{class:X(["wood-card inn-card",{"resting-mode":d.value}])},[T[19]||(T[19]=s("div",{class:"card-bg-pattern"},null,-1)),s("div",rT,[d.value?(v(),m("div",pT,[T[18]||(T[18]=s("div",{class:"sleeping-anim"},[s("i",{class:"fas fa-user-ninja"}),s("div",{class:"zzz-particles"},[s("span",null,"z"),s("span",null,"z"),s("span",null,"Z")])],-1)),s("div",vT,[T[16]||(T[16]=J(" ang iu tc... ",-1)),T[17]||(T[17]=s("br",null,null,-1)),s("span",mT,_(p.value)+"s",1)])])):(v(),m(Ce,{key:0},[T[13]||(T[13]=s("div",{class:"tile-icon"},[s("i",{class:"fas fa-bed"})],-1)),T[14]||(T[14]=s("h3",{class:"tile-title"},"KHCH IM",-1)),T[15]||(T[15]=s("p",{class:"tile-desc"},"Hi phc sinh lc",-1)),s("div",lT,[s("div",cT,[T[11]||(T[11]=s("span",{class:"lbl"},"HP",-1)),s("div",uT,[s("div",{class:"bar-fill hp",style:Pe({width:C.value+"%"})},null,4)])]),s("div",dT,[T[12]||(T[12]=s("span",{class:"lbl"},"MP",-1)),s("div",fT,[s("div",{class:"bar-fill mp",style:Pe({width:x.value+"%"})},null,4)])])]),s("button",{class:"wuxia-btn outline",onClick:Q,disabled:I.value},_(I.value?"SUNG MN":"NGH NGI"),9,hT)],64))]),T[20]||(T[20]=s("div",{class:"corner-decor top-right"},null,-1)),T[21]||(T[21]=s("div",{class:"corner-decor bottom-left"},null,-1))],2),fe($,{to:"/forge",class:"wood-card forge-card"},{default:ke(()=>[...T[22]||(T[22]=[s("div",{class:"card-bg-pattern"},null,-1),s("div",{class:"card-content"},[s("div",{class:"tile-icon"},[s("i",{class:"fas fa-hammer"})]),s("h3",{class:"tile-title"},"THN BINH"),s("p",{class:"tile-desc"},"Rn c trang b"),s("div",{class:"wuxia-btn outline"},"VO L RN")],-1),s("div",{class:"corner-decor top-right"},null,-1),s("div",{class:"corner-decor bottom-left"},null,-1)])]),_:1}),s("div",{class:X(["wood-card mythic-card",{locked:!se.value}]),onClick:D},[T[27]||(T[27]=s("div",{class:"card-bg-pattern"},null,-1)),s("div",gT,[T[24]||(T[24]=s("div",{class:"tile-icon"},[s("i",{class:"fas fa-dragon"})],-1)),T[25]||(T[25]=s("h3",{class:"tile-title"},"THN IN",-1)),T[26]||(T[26]=s("p",{class:"tile-desc"},"Chuyn ha thn kh",-1)),se.value?(v(),m("div",bT,"VO IN")):(v(),m("div",yT,[...T[23]||(T[23]=[s("i",{class:"fas fa-lock"},null,-1),s("span",{style:{"margin-left":"5px"}},"Cn  +30",-1)])]))]),T[28]||(T[28]=s("div",{class:"corner-decor top-right"},null,-1)),T[29]||(T[29]=s("div",{class:"corner-decor bottom-left"},null,-1))],2)]),s("div",_T,[s("button",{onClick:T[0]||(T[0]=K=>q.$router.push("/explore")),class:"wood-card hero-tile",disabled:d.value},[...T[30]||(T[30]=[Ot('<div class="card-content row-layout" data-v-91297310><div class="icon-stamp small" data-v-91297310><i class="fas fa-torii-gate" data-v-91297310></i></div><div class="text-group" data-v-91297310><h2 class="hero-title small" data-v-91297310>XUT THNH</h2><p class="hero-sub" data-v-91297310>Hnh Hip Trng Ngha</p></div><i class="fas fa-chevron-right arrow-indicator" data-v-91297310></i></div>',1)])],8,wT)])])]),fe(Ge,{name:"fade-modal"},{default:ke(()=>[h.value?(v(),m("div",{key:0,class:"modal-overlay",onClick:T[4]||(T[4]=Ze(K=>h.value=!1,["self"]))},[s("div",$T,[T[41]||(T[41]=s("h3",{class:"modal-header-txt"},"~ CHN PHNG NGH ~",-1)),s("div",CT,[s("div",{class:"wood-card spa-item standard",onClick:T[1]||(T[1]=K=>V("BASIC"))},[T[33]||(T[33]=s("div",{class:"tile-icon small"},[s("i",{class:"fas fa-mug-hot"})],-1)),T[34]||(T[34]=s("h4",null,"Phng Bnh Dn",-1)),T[35]||(T[35]=s("p",{class:"package-desc"},"Hi 50% HP & MP",-1)),s("div",TT,[T[32]||(T[32]=s("span",null,[s("i",{class:"far fa-clock"}),J(" 120s")],-1)),P.value>0?(v(),m("span",ET," Min Ph ("+_(P.value)+"/2) ",1)):(v(),m("span",kT,_(w.value)+" Vng ",1))])]),s("div",{class:"wood-card spa-item vip",onClick:T[2]||(T[2]=K=>V("VIP"))},[T[37]||(T[37]=s("div",{class:"vip-ribbon"},"THNG HNG",-1)),T[38]||(T[38]=s("div",{class:"tile-icon small"},[s("i",{class:"fas fa-wine-bottle"})],-1)),T[39]||(T[39]=s("h4",null,"Phng Thng Hng",-1)),T[40]||(T[40]=s("p",{class:"package-desc"},"Hi 100% Full",-1)),s("div",ST,[T[36]||(T[36]=s("span",null,[s("i",{class:"far fa-clock"}),J(" 10s")],-1)),s("span",IT,_(S.value)+" Coin",1)])])]),s("button",{class:"wuxia-btn close-btn",onClick:T[3]||(T[3]=K=>h.value=!1)}," NG ")])])):W("",!0)]),_:1}),fe(Ge,{name:"fade-modal"},{default:ke(()=>[y.value?(v(),m("div",{key:0,class:"modal-overlay",onClick:Ze(te,["self"])},[s("div",{class:"wood-panel modal-box result-modal"},[T[42]||(T[42]=s("div",{class:"success-icon"},[s("i",{class:"fas fa-check-circle"})],-1)),T[43]||(T[43]=s("h3",{class:"modal-header-txt"},"HI PHC HON TT",-1)),T[44]||(T[44]=s("p",{class:"modal-msg"},' "Khch quan thn thi hng ho, ni cng sung mn. Chc ngi thng l bnh an!" ',-1)),s("button",{class:"wuxia-btn full-width",onClick:te}," A T ")])])):W("",!0)]),_:1})])}}},AT=Fe(NT,[["__scopeId","data-v-91297310"]]),Ur=Qt("battle",{state:()=>({enemy:null,enemyVisual:null,enemyHp:0,enemyMaxHp:100,playerHp:0,playerMaxHp:100,combatLogs:[],status:"IDLE",rewardGold:0,rewardExp:0,droppedItem:null,isReady:!1}),actions:{setEncounter(e){this.enemyVisual=e},async startBattle(){var e,t;this.status="LOADING",this.isReady=!1,this.combatLogs=[],this.resetRewards();try{const n=await ye.post("/battle/start");this.handleResult(n.data),this.isReady=!0}catch(n){this.status="ERROR";const o=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Khng th ti trn u.";this.combatLogs.push(o),console.error(n)}},async autoTurn(e,t=null){var n,o,i;if(!this.isReady)return null;try{const a={enemyId:((n=this.enemy)==null?void 0:n.enemyId)||0,isBuffed:e};t&&(a.playerStats=t);const r=await ye.post("/battle/attack",a);return this.handleResult(r.data),r.data}catch(a){console.error("Turn Error:",a),this.status="ERROR",this.isReady=!1;const r=((i=(o=a.response)==null?void 0:o.data)==null?void 0:i.message)||a.message||"Mt kt ni.";return this.combatLogs.push(" LI: "+r),null}},async sendAction(e){try{const t=await ye.post("/battle/action",{action:e});this.handleResult(t.data)}catch(t){console.error(t)}},handleResult(e){if(!e)return;e.enemyId||e.enemyName?this.enemy={enemyId:e.enemyId||(this.enemy?this.enemy.enemyId:0),name:e.enemyName||"Qui L",level:e.enemyLv||"??"}:e.enemy&&(this.enemy=e.enemy),this.enemyHp=e.enemyHp??this.enemyHp,this.enemyMaxHp=e.enemyMaxHp||this.enemyMaxHp,this.playerHp=e.playerHp??this.playerHp,this.playerMaxHp=e.playerMaxHp||this.playerMaxHp,this.status=e.status||this.status,e.combatLog&&(Array.isArray(e.combatLog)?this.combatLogs=[...this.combatLogs,...e.combatLog].slice(-20):typeof e.combatLog=="string"&&this.combatLogs.push(e.combatLog)),e.status==="VICTORY"?(this.rewardGold=e.goldEarned||0,this.rewardExp=e.expEarned||0,e.droppedItemName&&(this.droppedItem={name:e.droppedItemName,image:e.droppedItemImage,rarity:e.droppedItemRarity||"COMMON"}),this.isReady=!1):e.status==="DEFEAT"&&(this.isReady=!1);const t=Ft();t.character&&(t.character.currentHp=this.playerHp)},resetRewards(){this.rewardGold=0,this.rewardExp=0,this.droppedItem=null},resetBattle(){this.status="IDLE",this.enemy=null,this.enemyVisual=null,this.combatLogs=[],this.isReady=!1,this.resetRewards()}}}),Dr=Qt("leaderboard",{state:()=>({topLevels:[],topWealth:[],topMonsters:[],topPvp:[],loadingLevels:!1,loadingWealth:!1,loadingMonsters:!1,loadingPvp:!1,errorLevels:null,errorWealth:null,errorMonsters:null,errorPvp:null}),actions:{async fetchLevelBoard(){this.loadingLevels=!0,this.errorLevels=null;try{const e=await ye.get("/leaderboard/level");this.topLevels=this.extractData(e.data)}catch(e){console.error("Li ti BXH Level:",e),this.errorLevels=e.message}finally{this.loadingLevels=!1}},async fetchWealthBoard(){this.loadingWealth=!0,this.errorWealth=null;try{const e=await ye.get("/leaderboard/wealth");this.topWealth=this.extractData(e.data)}catch(e){console.error("Li ti BXH Ph H:",e),this.errorWealth=e.message}finally{this.loadingWealth=!1}},async fetchMonsterBoard(){this.loadingMonsters=!0,this.errorMonsters=null;try{const e=await ye.get("/leaderboard/monster");this.topMonsters=this.extractData(e.data)}catch(e){console.error("Li ti BXH Trm Yu:",e),this.errorMonsters=e.message}finally{this.loadingMonsters=!1}},async fetchPvPBoard(){this.loadingPvp=!0,this.errorPvp=null;try{const e=await ye.get("/pvp/leaderboard");this.topPvp=this.extractData(e.data)}catch(e){console.error("Li ti BXH PvP:",e),this.errorPvp=e.message,this.topPvp=[]}finally{this.loadingPvp=!1}},extractData(e){return e?Array.isArray(e)?e:e.content&&Array.isArray(e.content)?e.content:e.data&&Array.isArray(e.data)?e.data:[]:[]}}}),RT={class:"chat-panel"},LT={class:"chat-header"},OT={class:"connection-status"},PT={key:0,class:"status-text online"},MT={key:1,class:"status-text offline"},HT={key:0,class:"system-msg"},UT={key:1,class:"system-msg"},DT={class:"timestamp"},BT={key:0,class:"tag-admin"},qT={key:1,class:"tag-vip"},FT=["onClick"],GT={class:"content"},VT={class:"chat-input"},jT=["disabled"],KT=["disabled"],WT={__name:"ChatPanel",setup(e){const t=ko(),n=Qe(),o=M(""),i=M(null),a=pe(()=>t.messages),r=pe(()=>t.isConnected);let l=null,c=null;mt(a,()=>{f()},{deep:!0});const f=()=>{Xt(()=>{i.value&&(i.value.scrollTop=i.value.scrollHeight)})},u=()=>{if(l&&l.connected)return;const b=new lh("http://localhost:8080/ws");l=uh.over(b),l.debug=()=>{},l.connect({Authorization:`Bearer ${n.token}`},()=>{t.setConnected(!0),l.subscribe("/topic/public",C=>{const x=JSON.parse(C.body);t.addMessage(x)}),l.send("/app/chat.addUser",{},JSON.stringify({senderName:n.user.username,type:"JOIN"}))},C=>{t.setConnected(!1),c||(c=setTimeout(u,5e3))})},d=()=>{if(!o.value.trim()||!l||!r.value)return;const b={senderName:n.user.username,content:o.value,type:"CHAT"};try{l.send("/app/chat.sendMessage",{},JSON.stringify(b)),o.value=""}catch(C){console.error("Gi tin nhn li",C)}},h=b=>b?b.includes("T")?new Date(b).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):b:"",y=b=>b==="ADMIN"?"text-red":b==="VIP"?"text-gold":"text-blue",p=b=>{console.log("Clicked user:",b.senderName)};return at(async()=>{await t.fetchMessages(),f(),u()}),Pt(()=>{l&&l.disconnect(),c&&clearTimeout(c),t.setConnected(!1)}),(b,C)=>(v(),m("div",RT,[s("div",LT,[C[1]||(C[1]=s("span",{class:"header-title"},[s("i",{class:"fas fa-globe-asia"}),J(" Knh Th Gii")],-1)),s("div",OT,[r.value?(v(),m("span",PT,"Online")):(v(),m("span",MT,"Offline")),s("div",{class:X(["status-dot",{online:r.value}])},null,2)])]),s("div",{class:"chat-messages custom-scroll",ref_key:"chatContainer",ref:i},[H(t).isLoading?(v(),m("div",HT," ang ti thin th... ")):a.value.length===0?(v(),m("div",UT," Cha c ai m o. ")):W("",!0),(v(!0),m(Ce,null,Re(a.value,(x,I)=>(v(),m("div",{key:I,class:"chat-row"},[s("span",DT,"["+_(h(x.timestamp))+"]",1),x.role==="ADMIN"?(v(),m("span",BT,"[GM]")):x.role==="VIP"?(v(),m("span",qT,"[VIP]")):W("",!0),s("span",{class:X(["sender",y(x.role)]),onClick:G=>p(x)},_(x.senderName)+": ",11,FT),s("span",GT,_(x.content),1)]))),128))],512),s("div",VT,[$e(s("input",{"onUpdate:modelValue":C[0]||(C[0]=x=>o.value=x),onKeyup:wn(d,["enter"]),placeholder:"Nhp tin nhn...",disabled:!r.value},null,40,jT),[[Te,o.value]]),s("button",{onClick:d,disabled:!r.value||!o.value.trim()},[...C[2]||(C[2]=[s("i",{class:"fas fa-paper-plane"},null,-1)])],8,KT)])]))}},dh=Fe(WT,[["__scopeId","data-v-d4b6aabf"]]),zT={class:"page-container battle-page"},XT={class:"battle-layout"},YT={class:"side-panel left-panel"},JT={class:"leaderboard-list custom-scroll"},QT={key:0,class:"loading-mini"},ZT={class:"rank-content"},e2={class:"rank-sub"},t2={class:"kill-count"},s2={class:"rank-avatar-mini"},n2={key:0,src:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},o2={key:1},i2={key:2,class:"empty-mini"},a2={class:"center-panel"},r2={class:"arena-wrapper"},l2={key:0,class:"combat-arena"},c2={class:"fighter-visual"},u2={class:"fighter-circle brown-ring"},d2=["src"],f2={key:0,class:"damage-text"},h2={class:"fighter-stats"},p2={class:"name-tag red-tag"},v2={class:"stat-bar-box"},m2={class:"fighter-visual"},g2={class:"fighter-circle green-ring"},y2=["src"],b2={key:0,class:"damage-text player-dmg"},_2={class:"fighter-stats"},w2={class:"name-tag blue-tag"},$2={class:"stat-bar-box"},C2={class:"stat-bar-box energy-box"},T2={class:"combat-controls"},E2={key:0,class:"qte-overlay"},k2={key:1,class:"ongoing-actions"},S2=["disabled"],I2={key:0},x2={key:1},N2={key:2,class:"result-overlay"},A2={class:"result-content"},R2={key:0,class:"rewards-row"},L2={class:"reward-item"},O2={class:"val"},P2={class:"reward-item"},M2={class:"val"},H2={class:"loot-info"},U2={class:"loot-name"},D2={class:"btn-group-large"},B2={key:1,class:"loading-arena"},q2={key:0,class:"error-box"},F2={key:1,class:"searching-anim"},G2={class:"chat-section-wrapper"},V2={class:"side-panel right-panel"},j2={class:"char-detail-card"},K2={class:"detail-row"},W2={class:"val"},z2={class:"detail-row"},X2={class:"val"},Y2={class:"detail-row"},J2={class:"val"},Q2={class:"detail-row"},Z2={class:"val"},eE={class:"detail-row"},tE={class:"val"},sE={class:"combat-log-panel"},nE={__name:"Battle",setup(e){const t=Ur(),n=Ft(),o=Qe(),i=Dr(),a=ts();Zt(),kd();const r=M(null),l=M(null),c=M(!1),f=M(!1),u=M(!1),d=M(!1),h=M(0),y=M(0),p=M(!1),b=M(0);let C=null,x=null;const I=($,k)=>k>0?$/k*100:0,G=$=>Mr($,"idle"),j=()=>{var k;const $=An((k=o.user)==null?void 0:k.avatarUrl);return u.value?$.sprites.attack:$.sprites.idle},P=$=>$?$.includes("Bn gy")||$.includes("BO KCH")?"log-player":$.includes("b nh")||$.includes("mt")?"log-enemy":$.includes("Thng")||$.includes("EXP")?"log-win":"log-normal":"log-normal",w=$=>$?$.replace(/<[^>]*>/g,""):"",S=($,...k)=>{if(!$)return 0;for(const A of k)if($[A]!==void 0&&$[A]!==null)return Number($[A]);return 0},se=pe(()=>{const $={};return(a.items||[]).forEach(A=>{if(A&&A.item&&A.isEquipped){const K=(A.item.slotType||A.item.slot_type||"").toUpperCase();K&&($[K]=A)}}),$}),D=pe(()=>{const $=n.character||{};let k={str:S($,"str"),vit:S($,"vit"),agi:S($,"agi"),dex:S($,"dex"),int:S($,"intelligence","int","int_stat"),luck:S($,"luck")},A={atk:5+k.str*2,def:2+Math.floor(k.vit/3),hp:100+k.vit*15,speed:10+k.agi,crit:1+k.luck/10};return Object.values(se.value).forEach(Y=>{if(!Y||!Y.item||S(Y,"currentDurability","current_durability")<=0&&(Y.maxDurability||Y.max_durability))return;const O=(Y.mainStatType||"").toUpperCase(),F=S(Y,"mainStatValue","main_stat_value");F>0&&(O.includes("ATK")?A.atk+=F:O.includes("DEF")?A.def+=F:O.includes("HP")?A.hp+=F:O.includes("SPEED")?A.speed+=F:O.includes("CRIT")?A.crit+=F:O==="ATK_PERCENT"?A.atk+=(5+k.str*2)*(F/100):O==="HP_PERCENT"&&(A.hp+=(100+k.vit*15)*(F/100)));const Se=S(Y.item,"atkBonus","atk_bonus"),Le=S(Y.item,"defBonus","def_bonus"),ee=S(Y.item,"hpBonus","hp_bonus"),he=S(Y.item,"speedBonus","speed_bonus");if(O.includes("ATK")||(A.atk+=Se),O.includes("DEF")||(A.def+=Le),O.includes("HP")||(A.hp+=ee),O.includes("SPEED")||(A.speed+=he),Y.subStats){let de=[];try{de=typeof Y.subStats=="string"?JSON.parse(Y.subStats):Y.subStats}catch{}Array.isArray(de)&&de.forEach(be=>{const Ne=(be.code||be.type||"").toUpperCase(),E=Number(be.value||0);Ne.includes("ATK")?A.atk+=E:Ne.includes("DEF")?A.def+=E:Ne.includes("HP")?A.hp+=E:Ne.includes("SPEED")?A.speed+=E:Ne.includes("CRIT")&&(A.crit+=E)})}}),{atk:Math.floor(A.atk),def:Math.floor(A.def),speed:Math.floor(A.speed),crit:parseFloat(A.crit.toFixed(2)),hp:Math.floor(A.hp)}}),Q=async()=>{t.resetBattle(),await t.startBattle(),t.isReady&&te()},te=()=>{x&&clearInterval(x),x=setInterval(ue,1500)},V=()=>{var $;(($=n.character)==null?void 0:$.energy)>=5&&(n.character.energy-=5,d.value=!0)},ue=async()=>{if(!t.isReady||t.status!=="ONGOING"||p.value)return;u.value=!0,setTimeout(()=>u.value=!1,500);const $=t.enemyHp,k=t.playerHp,A={atk:D.value.atk,def:D.value.def,hp:D.value.hp,speed:D.value.speed,crit:D.value.crit},Y=await t.autoTurn(d.value,A);if(!Y){clearInterval(x);return}if(Y.status==="QTE_ACTION"||Y.qteTriggered){xe();return}d.value&&(d.value=!1);const K=$-Y.enemyHp;K>0&&(h.value=K,c.value=!0,setTimeout(()=>c.value=!1,300));const O=k-Y.playerHp;O>0&&setTimeout(()=>{y.value=O,f.value=!0,setTimeout(()=>f.value=!1,300)},600)},xe=()=>{clearInterval(x),p.value=!0,b.value=.75,C=setInterval(()=>{b.value-=.05,b.value<=0&&q()},50)},Ae=async()=>{clearInterval(C),p.value=!1,await t.sendAction("BLOCK"),te()},q=async()=>{clearInterval(C),p.value=!1,f.value=!0,setTimeout(()=>f.value=!1,500),await t.sendAction("IGNORE_QTE"),te()},T=()=>{const $=l.value;if(!$)return;const k=$.getContext("2d");$.width=window.innerWidth,$.height=window.innerHeight;const A=[],Y=["#FFD700","#FF0000","#00FF00","#0000FF","#FF00FF","#00FFFF","#FFFFFF"],K=(F,Se)=>{for(let Le=0;Le<50;Le++)A.push({x:F,y:Se,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10,alpha:1,color:Y[Math.floor(Math.random()*Y.length)],size:Math.random()*3+1})},O=()=>{k.globalCompositeOperation="destination-out",k.fillStyle="rgba(0, 0, 0, 0.1)",k.fillRect(0,0,$.width,$.height),k.globalCompositeOperation="lighter",A.forEach((F,Se)=>{F.x+=F.vx,F.y+=F.vy,F.vy+=.05,F.alpha-=.01,k.globalAlpha=F.alpha,k.fillStyle=F.color,k.beginPath(),k.arc(F.x,F.y,F.size,0,Math.PI*2),k.fill(),F.alpha<=0&&A.splice(Se,1)}),A.length>0?requestAnimationFrame(O):k.clearRect(0,0,$.width,$.height)};K($.width/2,$.height/2),setTimeout(()=>K($.width/3,$.height/3),200),setTimeout(()=>K($.width*2/3,$.height/3),400),O()};return mt(()=>t.combatLogs,()=>{Xt(()=>{r.value&&(r.value.scrollTop=r.value.scrollHeight)})},{deep:!0}),mt(()=>t.status,$=>{if($==="VICTORY"){clearInterval(x),C&&clearInterval(C),n.fetchCharacter();const k=t.droppedItem;if(k){const A=["RARE","EPIC","LEGENDARY","MYTHIC"];(A.includes(k.rarity)||A.includes(k.baseRarity))&&setTimeout(T,500)}}else $!=="ONGOING"&&(clearInterval(x),C&&clearInterval(C))}),at(async()=>{await Promise.all([n.fetchCharacter(),a.fetchInventory()]),i.fetchMonsterBoard&&i.fetchMonsterBoard(),t.enemy&&t.status==="ONGOING"?te():Q()}),Pt(()=>{clearInterval(x),C&&clearInterval(C)}),($,k)=>{var A,Y,K,O;return v(),m("div",zT,[k[23]||(k[23]=s("div",{class:"battle-bg-layer"},null,-1)),s("canvas",{ref_key:"fireworksCanvas",ref:l,class:"fireworks-canvas"},null,512),s("div",XT,[s("aside",YT,[k[5]||(k[5]=s("div",{class:"panel-header"},[s("i",{class:"fas fa-skull text-red"}),J(" BNG ST THN ")],-1)),s("div",JT,[H(i).loadingMonsters?(v(),m("div",QT,[...k[3]||(k[3]=[s("div",{class:"spinner"},null,-1)])])):(v(!0),m(Ce,{key:1},Re(H(i).topMonsters,(F,Se)=>(v(),m("div",{class:"rank-item",key:Se},[s("div",{class:X(["rank-num","top-"+(Se+1)])},_(Se+1),3),s("div",ZT,[s("div",{class:X(["rank-name",{"text-gold":Se===0}])},_(F.username),3),s("div",e2,[k[4]||(k[4]=s("i",{class:"fas fa-skull-crossbones text-red"},null,-1)),s("span",t2,_(F.value),1)])]),s("div",s2,[F.avatar?(v(),m("span",o2,_(F.avatar),1)):(v(),m("img",n2))])]))),128)),!H(i).loadingMonsters&&H(i).topMonsters.length===0?(v(),m("div",i2," Cha c d liu ")):W("",!0)])]),s("main",a2,[s("div",r2,[H(t).enemy?(v(),m("div",l2,[k[13]||(k[13]=s("div",{class:"vs-badge"},"VS",-1)),s("div",{class:X(["fighter-card enemy",{"hit-anim":c.value}])},[s("div",c2,[s("div",u2,[s("img",{src:G(H(t).enemy.name),class:"fighter-img"},null,8,d2)]),c.value?(v(),m("div",f2,"-"+_(h.value),1)):W("",!0)]),s("div",h2,[s("div",p2,_(H(t).enemy.name),1),s("div",v2,[s("div",{class:"bar-fill hp-fill",style:Pe({width:I(H(t).enemyHp,H(t).enemyMaxHp)+"%"})},null,4)])])],2),s("div",{class:X(["fighter-card player",{"hit-anim":f.value,attacking:u.value}])},[s("div",m2,[s("div",g2,[s("img",{src:j(),class:"fighter-img"},null,8,y2)]),f.value?(v(),m("div",b2,"-"+_(y.value),1)):W("",!0)]),s("div",_2,[s("div",w2,_((A=H(o).user)==null?void 0:A.username),1),s("div",$2,[s("div",{class:"bar-fill hp-fill",style:Pe({width:I(H(t).playerHp,D.value.hp)+"%"})},null,4)]),s("div",C2,[s("div",{class:"bar-fill energy-fill",style:Pe({width:I((Y=H(n).character)==null?void 0:Y.energy,(K=H(n).character)==null?void 0:K.maxEnergy)+"%"})},null,4)])])],2),s("div",T2,[p.value?(v(),m("div",E2,[s("button",{class:"qte-button pixel-btn danger",onClick:Ae},"   N! ("+_(b.value.toFixed(1))+"s) ",1)])):H(t).status==="ONGOING"?(v(),m("div",k2,[k[6]||(k[6]=s("div",{class:"auto-fight-btn"},[s("div",{class:"spinner"}),J(" AUTO FIGHT ")],-1)),s("button",{class:"btn-skill",onClick:V,disabled:d.value||(((O=H(n).character)==null?void 0:O.energy)||0)<5},[d.value?(v(),m("span",x2,"SN SNG!")):(v(),m("span",I2," T LC (5)"))],8,S2)])):(v(),m("div",N2,[s("div",A2,[s("div",{class:X(["result-title",H(t).status])},_(H(t).status==="VICTORY"?"CHIN THNG":"THT BI"),3),H(t).status==="VICTORY"?(v(),m("div",R2,[s("div",L2,[k[7]||(k[7]=s("span",{class:"icon"},"",-1)),s("span",O2,"+"+_(H(t).rewardGold||0)+" Vng",1)]),s("div",P2,[k[8]||(k[8]=s("span",{class:"icon"},"",-1)),s("span",M2,"+"+_(H(t).rewardExp||0)+" EXP",1)])])):W("",!0),H(t).droppedItem?(v(),m("div",{key:1,class:X(["loot-display",H(t).droppedItem.rarity])},[k[10]||(k[10]=s("div",{class:"loot-icon"},"",-1)),s("div",H2,[k[9]||(k[9]=s("div",{class:"loot-label"},"NHT C",-1)),s("div",U2,_(H(t).droppedItem.name),1)])],2)):W("",!0),s("div",D2,[s("button",{class:"btn-big forest",onClick:k[0]||(k[0]=F=>$.$router.push("/explore"))},[...k[11]||(k[11]=[s("i",{class:"fas fa-tree"},null,-1),J(" V Rng ",-1)])]),s("button",{class:"btn-big village",onClick:k[1]||(k[1]=F=>$.$router.push("/village"))},[...k[12]||(k[12]=[s("i",{class:"fas fa-home"},null,-1),J(" V Lng ",-1)])])])])]))])])):(v(),m("div",B2,[H(t).status==="ERROR"?(v(),m("div",q2,[k[14]||(k[14]=s("h3",{class:"text-red"},"LI",-1)),s("p",null,_(H(t).combatLogs[H(t).combatLogs.length-1]),1),s("button",{onClick:k[2]||(k[2]=F=>$.$router.push("/village")),class:"btn-big village"},"  V Lng ")])):(v(),m("div",F2,[...k[15]||(k[15]=[s("div",{class:"swords-cross"},"",-1),s("h3",null,"ang tm i th...",-1)])]))]))]),s("div",G2,[fe(dh,{height:"100%"})])]),s("aside",V2,[s("div",j2,[k[21]||(k[21]=s("div",{class:"panel-header"},"CH S ( CNG )",-1)),s("div",K2,[k[16]||(k[16]=s("span",null," Tn Cng",-1)),s("span",W2,_(D.value.atk),1)]),s("div",z2,[k[17]||(k[17]=s("span",null," Phng Th",-1)),s("span",X2,_(D.value.def),1)]),s("div",Y2,[k[18]||(k[18]=s("span",null," Mu Ti a",-1)),s("span",J2,_(D.value.hp),1)]),s("div",Q2,[k[19]||(k[19]=s("span",null," Thn Php",-1)),s("span",Z2,_(D.value.speed),1)]),s("div",eE,[k[20]||(k[20]=s("span",null," Ch Mng",-1)),s("span",tE,_(D.value.crit)+"%",1)])]),s("div",sE,[k[22]||(k[22]=s("div",{class:"panel-header"},"NHT K",-1)),s("div",{class:"logs-container custom-scroll",ref_key:"logContainer",ref:r},[(v(!0),m(Ce,null,Re(H(t).combatLogs,(F,Se)=>(v(),m("div",{key:Se,class:X(["log-entry",P(F)])},_(w(F)),3))),128))],512)])])])])}}},oE=Fe(nE,[["__scopeId","data-v-e2733c99"]]),iE={class:"combat-page"},aE={class:"combat-container"},rE={class:"battlefield"},lE={class:"avatar-box"},cE=["src"],uE={class:"name"},dE={class:"hp-bar-container"},fE={class:"hp-text"},hE={class:"avatar-box"},pE=["src"],vE={class:"name"},mE={class:"hp-bar-container"},gE={class:"hp-text"},yE={class:"controls"},bE=["disabled"],_E=["disabled"],wE=["disabled"],$E={__name:"Combat",setup(e){const t=Ur(),n=Ft();Zt();const o=M(!1),i=M(!1),a=pe(()=>{const f=t.combatLogs;return f.length>0?f[f.length-1]:"Sn sng chin u!"}),r=pe(()=>t.enemyMaxHp>0?t.enemyHp/t.enemyMaxHp*100:0),l=pe(()=>t.playerMaxHp>0?t.playerHp/t.playerMaxHp*100:0),c=async f=>{await t.sendAction(f),o.value=!0,setTimeout(()=>o.value=!1,300)};return mt(()=>t.playerHp,(f,u)=>{f<u&&(i.value=!0,setTimeout(()=>i.value=!1,300))}),at(async()=>{n.character||await n.fetchCharacter(),await t.reconnectBattle()}),(f,u)=>{var d,h,y,p;return v(),m("div",iE,[s("div",aE,[s("h2",{class:X(["combat-title",{"text-red":H(t).status==="DEFEAT","text-green":H(t).status==="VICTORY"}])},_(a.value),3),s("div",rE,[s("div",{class:X(["fighter enemy",{"hit-anim":o.value}])},[s("div",lE,[s("img",{src:H(Mr)((d=H(t).enemy)==null?void 0:d.name),class:"fighter-img"},null,8,cE)]),s("div",uE,_(((h=H(t).enemy)==null?void 0:h.name)||"K ch"),1),s("div",dE,[s("div",{class:"hp-bar",style:Pe({width:r.value+"%"})},null,4)]),s("div",fE,_(H(t).enemyHp)+"/"+_(H(t).enemyMaxHp),1)],2),u[4]||(u[4]=s("div",{class:"vs-text"},"VS",-1)),s("div",{class:X(["fighter player",{"hit-anim":i.value}])},[s("div",hE,[s("img",{src:H(An)((y=H(n).character)==null?void 0:y.avatarUrl).sprites.idle,class:"fighter-img"},null,8,pE)]),s("div",vE,_((p=H(n).character)==null?void 0:p.name),1),s("div",mE,[s("div",{class:"hp-bar player-bar",style:Pe({width:l.value+"%"})},null,4)]),s("div",gE,_(H(t).playerHp)+"/"+_(H(t).playerMaxHp),1)],2)]),s("div",yE,[H(t).status==="ONGOING"?(v(),m(Ce,{key:0},[s("button",{class:"btn btn-attack",onClick:u[0]||(u[0]=b=>c("ATTACK")),disabled:H(t).isLoading},"  Tn Cng ",8,bE),s("button",{class:"btn btn-strong",onClick:u[1]||(u[1]=b=>c("SKILL")),disabled:H(t).isLoading},"  K Nng ",8,_E),s("button",{class:"btn btn-defend",onClick:u[2]||(u[2]=b=>c("DEFEND")),disabled:H(t).isLoading},"  Phng Th ",8,wE)],64)):(v(),m("button",{key:1,class:"btn btn-village",onClick:u[3]||(u[3]=b=>f.$router.push("/village"))},_(H(t).status==="VICTORY"?" V lng nhn thng":" V lng dng thng"),1))])])])}}},CE=Fe($E,[["__scopeId","data-v-e4f2f3e8"]]),TE=Qt("quest",{state:()=>({quests:[],isLoading:!1}),actions:{async fetchQuests(){this.isLoading=!0;try{const e=await ye.get("/quests/daily");this.quests=e.data}catch(e){console.error(e)}finally{this.isLoading=!1}},async claim(e){var t;try{const n=await ye.post(`/quests/claim/${e}`);alert(n.data),this.fetchQuests(),Qe().fetchProfile()}catch(n){alert(((t=n.response)==null?void 0:t.data)||"Li")}}}}),EE={key:0,class:"security-overlay"},kE={key:0,class:"loading-zone"},SE={key:1,class:"success-zone"},IE={key:2,class:"puzzle-zone"},xE={class:"instruction-box"},NE={class:"target-name"},AE={class:"hex-grid"},RE=["onClick"],LE={class:"hex-content"},OE=["src"],PE={class:"term-footer"},ME={key:0,class:"status-msg error"},HE={key:1,class:"status-msg info"},UE={__name:"CaptchaModal",setup(e,{expose:t}){const n=M(!1),o=M(!1),i=M(!1),a=M(""),r=M([]),l=M(""),c=async()=>{n.value=!0,i.value=!1,l.value="",await f()},f=async()=>{o.value=!0;try{const d=await ye.get("/captcha/generate");a.value=d.data.question,r.value=d.data.options}catch{l.value="CONNECTION LOST. RETRYING..."}finally{o.value=!1}},u=async d=>{try{l.value="",await ye.post("/captcha/solve",{itemId:d}),i.value=!0,setTimeout(()=>{n.value=!1},1500)}catch{l.value="ACCESS DENIED. INCORRECT TARGET.",setTimeout(()=>{l.value="",f()},1e3)}};return t({open:c}),(d,h)=>(v(),us(Ge,{name:"fade"},{default:ke(()=>[n.value?(v(),m("div",EE,[h[8]||(h[8]=s("div",{class:"scan-grid"},null,-1)),s("div",{class:X(["security-terminal",{"shake-anim":l.value,"success-mode":i.value}])},[h[6]||(h[6]=s("div",{class:"scan-bar"},null,-1)),h[7]||(h[7]=s("div",{class:"term-header"},[s("div",{class:"icon-box warning-blink"},[s("i",{class:"fas fa-shield-virus"})]),s("div",{class:"text-info"},[s("h3",{class:"glitch-text","data-text":"SECURITY ALERT"}," SECURITY ALERT "),s("p",{class:"sub-text"},"BOT ACTIVITY DETECTED // VERIFY IDENTITY")])],-1)),o.value?(v(),m("div",kE,[...h[1]||(h[1]=[s("div",{class:"loader-ring"},null,-1),s("span",null,"DOWNLOADING PROTOCOLS...",-1)])])):i.value?(v(),m("div",SE,[...h[2]||(h[2]=[s("i",{class:"fas fa-unlock-alt big-icon"},null,-1),s("h2",null,"ACCESS GRANTED",-1),s("p",null,"IDENTITY CONFIRMED. PROCEEDING...",-1)])])):(v(),m("div",IE,[s("div",xE,[h[3]||(h[3]=s("span",{class:"cmd-prompt"},"> TARGET:",-1)),s("span",NE,_(a.value),1)]),s("div",AE,[(v(!0),m(Ce,null,Re(r.value,y=>(v(),m("div",{key:y.itemId,class:"hex-option",onClick:p=>u(y.itemId)},[s("div",LE,[s("img",{src:y.imageUrl,onError:h[0]||(h[0]=p=>p.target.src="https://via.placeholder.com/64?text=ERR")},null,40,OE)]),h[4]||(h[4]=s("div",{class:"hex-border"},null,-1))],8,RE))),128))])])),s("div",PE,[l.value?(v(),m("div",ME,[h[5]||(h[5]=s("i",{class:"fas fa-times-circle"},null,-1)),J(" "+_(l.value),1)])):(v(),m("div",HE,"AWAITING INPUT..."))])],2)])):W("",!0)]),_:1}))}},DE=Fe(UE,[["__scopeId","data-v-9913f9a3"]]),BE={class:"page-container explore-page"},qE={class:"bg-layer"},FE={class:"explore-dashboard"},GE={class:"left-main-col"},VE={class:"stage-zone-wrapper wood-panel-embossed"},jE={class:"game-board"},KE={class:"status-header"},WE={class:"level-badge"},zE={class:"bars-container"},XE={class:"stat-group"},YE={class:"stat-row"},JE={class:"progress-bg"},QE={class:"stat-text"},ZE={class:"stat-row"},ek={class:"progress-bg"},tk={class:"stat-text"},sk={class:"exp-row"},nk={class:"exp-bg"},ok={class:"stage-viewport"},ik={class:"avatar-circle"},ak=["src"],rk={key:0,class:"stage-reward-overlay"},lk={class:"float-reward xp"},ck={class:"float-reward gold"},uk={class:"action-panel"},dk=["disabled"],fk={class:"btn-content"},hk=["disabled"],pk={class:"btn-content"},vk={key:0},mk={key:1},gk=["disabled"],yk={class:"log-zone-wrapper wood-panel-embossed"},bk={class:"log-content-box"},_k=["innerHTML"],wk={key:0,class:"log-action-btn"},$k={class:"log-placeholder running",key:"run"},Ck={class:"log-placeholder idle",key:"idle"},Tk={class:"right-side-col wood-panel-embossed"},Ek={class:"chat-zone-wrapper"},kk={class:"wood-panel modal-box map-modal"},Sk={class:"map-grid"},Ik=["onClick"],xk={class:"map-info"},Nk={class:"map-name"},Ak={class:"map-lv"},Rk={key:0,class:"lock-overlay"},Lk={key:1,class:"active-indicator"},Ok="https://htkhang111.github.io/background/b_doanhtrai.png",Pk={__name:"Explore",setup(e){const t=Ft(),n=Qe(),o=Ur(),i=TE(),a=Zt(),r=M(null),l=M(!1),c=()=>{l.value=new Date().getHours()>=18||new Date().getHours()<6},f=M(!1),u=M(0),d=M(null),h=M(!1),y=M("MAP_01"),p=pe(()=>{var D;return((D=t.character)==null?void 0:D.level)||1}),b=[{id:"MAP_01",name:"ng Bng",minLv:1,maxLv:19},{id:"MAP_02",name:"Rng Rm",minLv:20,maxLv:30},{id:"MAP_03",name:"Sa Mc",minLv:30,maxLv:40},{id:"MAP_04",name:"Ni Cao",minLv:40,maxLv:50},{id:"MAP_05",name:"Bng o",minLv:50,maxLv:60},{id:"MAP_06",name:"m Ly",minLv:60,maxLv:70}],C=pe(()=>{var D;return((D=b.find(Q=>Q.id===y.value))==null?void 0:D.name)||"ng Bng"});mt(()=>t.character,D=>{D&&D.currentMapId&&b.find(te=>te.id===D.currentMapId)&&(y.value=D.currentMapId)},{immediate:!0});const x=D=>{if(p.value<D.minLv){j(` Cn Lv.${D.minLv}  vo ${D.name}`,"TEXT");return}y.value=D.id,h.value=!1,j(` chuyn n: <b>${D.name}</b>`,"TEXT")},I=pe(()=>pt("b_doanhtrai.png")),G=pe(()=>{var Q;const D=An((Q=n.user)==null?void 0:Q.avatarUrl);return f.value?D.sprites.run:D.sprites.idle}),j=(D,Q="TEXT",te=null,V=null,ue=null)=>{d.value={msg:D,type:Q,image:te,action:V,rewards:ue}};let P=null;const w=()=>{P&&clearInterval(P),P=setInterval(()=>{t.explorationState.playerPos+=.5*t.explorationState.moveDir,t.explorationState.playerPos>=70?t.explorationState.moveDir=-1:t.explorationState.playerPos<=30&&(t.explorationState.moveDir=1)},16)},S=()=>{var Q;if(f.value)return;if(((Q=t.character)==null?void 0:Q.currentEnergy)<=0){j('<span style="color:#ef5350; font-weight:bold;">i hip  kit sc! ang v doanh tri...</span>',"TEXT",null),setTimeout(()=>{a.push("/village")},1500);return}d.value=null,f.value=!0,u.value=2,w();const D=setInterval(async()=>{u.value--,u.value<=0&&(clearInterval(D),await se())},1e3)},se=async()=>{clearInterval(P),f.value=!1;try{const D=await t.explore({mapId:y.value});await t.fetchCharacter();const Q={exp:t.character.level+10,gold:D.goldGained},te=D.message,V=D.type==="ENEMY"?`<span style="color:#ef5350; font-weight:bold;"> ${te}</span>`:`<span style="color:#eee;">${te}</span>`;if(D.type==="GATHERING")j(V,"GATHER",null,{label:" KHAI THC",handler:()=>a.push("/gathering")},Q);else if(D.type==="ENEMY"){const ue=Mr(D.rewardName);o.setEncounter({name:D.rewardName,img:ue}),j(V,"ENEMY",null,{label:" CHIN U",handler:()=>a.push("/battle")},Q)}else D.type==="ITEM"?j(`<span style="color:#ffd700;">${te}</span>`,"ITEM",null,null,Q):j(V,"TEXT",null,null,Q)}catch(D){D.message==="CAPTCHA"?r.value.open():D.message&&(D.message.includes("th lc")||D.message==="NOT_ENOUGH_ENERGY")?(j('<span style="color:#ef5350; font-weight:bold;">Ht th lc! ang hi hng...</span>',"TEXT"),setTimeout(()=>{a.push("/village")},1500)):j(`<span style="color:red">Li: ${D.message}</span>`,"TEXT")}};return at(()=>{t.fetchCharacter(),i.fetchQuests&&i.fetchQuests(),c()}),Pt(()=>clearInterval(P)),(D,Q)=>{var te,V,ue,xe,Ae;return v(),m("div",BE,[s("div",qE,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${Ok})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":l.value}])},null,2),Q[5]||(Q[5]=s("div",{class:"vignette"},null,-1))]),s("div",FE,[s("div",GE,[s("div",VE,[s("div",jE,[s("div",KE,[s("div",WE,[s("span",null,"Lv."+_(((te=H(t).character)==null?void 0:te.level)||1),1)]),s("div",zE,[s("div",XE,[s("div",YE,[Q[6]||(Q[6]=s("span",{class:"stat-icon"},[s("i",{class:"fas fa-heart text-red"})],-1)),s("div",JE,[s("div",{class:"progress-fill hp",style:Pe({width:H(t).hpPercent+"%"})},null,4),s("span",QE,_((V=H(t).character)==null?void 0:V.currentHp)+"/"+_((ue=H(t).character)==null?void 0:ue.maxHp),1)])]),s("div",ZE,[Q[7]||(Q[7]=s("span",{class:"stat-icon"},[s("i",{class:"fas fa-bolt text-blue"})],-1)),s("div",ek,[s("div",{class:"progress-fill energy",style:Pe({width:H(t).energyPercent+"%"})},null,4),s("span",tk,_((xe=H(t).character)==null?void 0:xe.currentEnergy)+"/"+_((Ae=H(t).character)==null?void 0:Ae.maxEnergy),1)])])]),s("div",sk,[s("div",nk,[s("div",{class:"exp-fill",style:Pe({width:H(t).xpPercent+"%"})},null,4)])])])]),s("div",ok,[s("div",{class:"stage-background",style:Pe({backgroundImage:`url(${I.value})`})},[s("div",{class:"actor player",style:Pe({left:H(t).explorationState.playerPos+"%",transform:`scaleX(${H(t).explorationState.moveDir})`})},[s("div",ik,[s("img",{src:G.value,class:"avatar-img"},null,8,ak)])],4),fe(Ge,{name:"pop-up"},{default:ke(()=>[d.value&&d.value.rewards?(v(),m("div",rk,[s("div",lk,[s("span",null,"+"+_(d.value.rewards.exp)+" EXP",1)]),s("div",ck,[Q[8]||(Q[8]=s("img",{src:"https://htkhang111.github.io/resources/coin/r_coin.png",class:"tiny-coin"},null,-1)),s("span",null,"+"+_(d.value.rewards.gold),1)])])):W("",!0)]),_:1})],4)]),s("div",uk,[s("button",{class:"btn-action map-btn",onClick:Q[0]||(Q[0]=q=>h.value=!0),disabled:f.value},[s("div",fk,[s("span",null,[Q[9]||(Q[9]=s("i",{class:"fas fa-map"},null,-1)),J(" "+_(C.value),1)])])],8,dk),s("button",{class:"btn-action main-btn",onClick:S,disabled:f.value},[s("div",pk,[Q[10]||(Q[10]=s("i",{class:"fas fa-walking"},null,-1)),f.value?(v(),m("span",mk," ... ("+_(u.value)+"s)",1)):(v(),m("span",vk," HNH TU"))])],8,hk),s("button",{class:"btn-action sub-btn",onClick:Q[1]||(Q[1]=q=>D.$router.push("/village")),disabled:f.value},[...Q[11]||(Q[11]=[s("i",{class:"fas fa-dungeon"},null,-1)])],8,gk)])])]),s("div",yk,[fe(Ge,{name:"fade-slide",mode:"out-in"},{default:ke(()=>[d.value?(v(),m("div",{class:X(["single-log-panel",d.value.type]),key:"log"},[s("div",bk,[s("div",{class:"log-text",innerHTML:d.value.msg},null,8,_k),d.value.action?(v(),m("div",wk,[s("button",{onClick:Q[2]||(Q[2]=(...q)=>d.value.action.handler&&d.value.action.handler(...q)),class:"btn-interact wuxia-btn-small"},_(d.value.action.label),1)])):W("",!0)])],2)):f.value?(v(),m("div",$k,[...Q[12]||(Q[12]=[s("div",{style:{display:"flex","flex-direction":"column","align-items":"center",gap:"5px"}},[s("i",{class:"fas fa-shoe-prints fa-spin",style:{"font-size":"24px"}}),s("span",null,"ang thm thnh...")],-1)])])):(v(),m("div",Ck,[...Q[13]||(Q[13]=[s("span",{class:"blink"},"...Ch lnh hnh tu...",-1)])]))]),_:1})])]),s("div",Tk,[s("div",Ek,[fe(dh)])])]),h.value?(v(),m("div",{key:0,class:"modal-overlay",onClick:Q[4]||(Q[4]=Ze(q=>h.value=!1,["self"]))},[s("div",kk,[Q[16]||(Q[16]=s("h3",{class:"modal-header-txt"},"~ BN  KHU VC ~",-1)),s("div",Sk,[(v(),m(Ce,null,Re(b,q=>s("div",{key:q.id,class:X(["wood-card map-item",{active:y.value===q.id,locked:p.value<q.minLv}]),onClick:T=>x(q)},[s("div",xk,[s("div",Nk,_(q.name),1),s("div",Ak,"Cp : "+_(q.minLv)+"-"+_(q.maxLv),1)]),p.value<q.minLv?(v(),m("div",Rk,[...Q[14]||(Q[14]=[s("i",{class:"fas fa-lock"},null,-1)])])):W("",!0),y.value===q.id?(v(),m("div",Lk,[...Q[15]||(Q[15]=[s("i",{class:"fas fa-check"},null,-1)])])):W("",!0)],10,Ik)),64))]),s("button",{class:"wuxia-btn close-btn",onClick:Q[3]||(Q[3]=q=>h.value=!1)},"NG")])])):W("",!0),fe(DE,{ref_key:"captchaModal",ref:r},null,512)])}}},Mk=Fe(Pk,[["__scopeId","data-v-9e1dc7ec"]]),Hk={class:"page-container gathering-page dark-theme"},Uk={class:"ink-bg-layer"},Dk={class:"nav-header"},Bk={key:0,class:"gathering-panel"},qk={class:"event-header"},Fk={class:"node-frame"},Gk=["src"],Vk={class:"info-scroll-area"},jk={key:0,class:"status-row"},Kk=["src"],Wk={class:"stat-detail tool-layout"},zk={class:"durability-compact"},Xk={class:"bar-track-mini"},Yk={class:"dura-text"},Jk={key:1,class:"status-row"},Qk={class:"stat-detail"},Zk={class:"label text-error"},eS={class:"status-row"},tS={class:"stat-detail"},sS={class:"status-row"},nS={class:"stat-detail"},oS={class:"val gold-text"},iS={class:"progress-container"},aS={class:"progress-label"},rS={class:"progress-track"},lS={class:"action-zone"},cS={key:0,class:"lock-hint"},uS={key:1,class:"lock-hint"},dS={key:2,class:"lock-hint tool-broken-msg"},fS={class:"btn-grid"},hS=["disabled"],pS=["disabled"],vS={key:1,class:"gathering-panel",style:{"text-align":"center",color:"#aaa"}},mS={__name:"Gathering",setup(e){const t=Ft(),n=ts(),o=Zt(),i=M(null);let a=null,r=null;const l=M(null),c=M(0),f=M(10),u=M(!1),d=M(""),h=M(""),y=M(100),p=pt("b_mountain.jpg"),b=pe(()=>{var te;return((te=t.character)==null?void 0:te.level)||1}),C=[{id:"wood",codePrefix:"w_",rewardItemId:1,name:"Cy G Si",image:He("w_wood.png"),rarityClass:"common",rarityText:"Ph Thng",reqLevel:1,reqTool:"Ru",lootName:"G Si"},{id:"dried_wood",codePrefix:"w_",rewardItemId:2,name:"Cy G Kh",image:He("w_wood-red.png"),rarityClass:"common",rarityText:"Ph Thng",reqLevel:1,reqTool:"Ru",lootName:"G Kh"},{id:"cold_wood",codePrefix:"w_",rewardItemId:3,name:"Cy G Lnh",image:He("w_wood-white.png"),rarityClass:"uncommon",rarityText:"t Gp",reqLevel:10,reqTool:"Ru",lootName:"G Lnh"},{id:"strange_wood",codePrefix:"w_",rewardItemId:4,name:"Cy G L",image:He("w_wood-black.png"),rarityClass:"rare",rarityText:"Him",reqLevel:20,reqTool:"Ru",lootName:"G L"},{id:"coal",codePrefix:"o_",rewardItemId:5,name:"M Than",image:He("o_coal.png"),rarityClass:"common",rarityText:"Ph Thng",reqLevel:1,reqTool:"Cp",lootName:"Than en"},{id:"copper",codePrefix:"o_",rewardItemId:6,name:"Mch ng",image:He("o_copper.png"),rarityClass:"common",rarityText:"Ph Thng",reqLevel:5,reqTool:"Cp",lootName:"Qung ng"},{id:"iron",codePrefix:"o_",rewardItemId:7,name:"M St",image:He("o_iron.png"),rarityClass:"rare",rarityText:"Him",reqLevel:20,reqTool:"Cp",lootName:"Qung St"},{id:"platinum",codePrefix:"o_",rewardItemId:8,name:"Tinh Th Bch Kim",image:He("o_platinum.png"),rarityClass:"epic",rarityText:"Cc Phm",reqLevel:40,reqTool:"Cp",lootName:"Bch Kim"},{id:"fish",codePrefix:"f_",rewardItemId:9,name:"H C",image:He("f_fish.png"),rarityClass:"common",rarityText:"Ph Thng",reqLevel:1,reqTool:"Cn Cu",lootName:"C"},{id:"shark",codePrefix:"f_",rewardItemId:10,name:"Vng Nc Nguy Him",image:He("f_shark.png"),rarityClass:"uncommon",rarityText:"Nguy Him",reqLevel:30,reqTool:"Cn Cu",lootName:"C Mp"},{id:"clay",codePrefix:"s_",rewardItemId:999,name:"t St",image:He("s_clay.png"),rarityClass:"common",rarityText:"Ph Thng",reqLevel:1,reqTool:"Xng",lootName:"t St"}],x=te=>te==="w_"?"AXE":te==="o_"?"PICKAXE":te==="f_"?"FISHING_ROD":te==="s_"?"SHOVEL":"PICKAXE",I=pe(()=>{if(!l.value)return null;const te=x(l.value.codePrefix);return n.items.find(V=>V.isEquipped&&V.item.slotType===te)}),G=pe(()=>{var te,V;return u.value||c.value<=0||(((te=t.character)==null?void 0:te.currentEnergy)||0)<1||b.value<(((V=l.value)==null?void 0:V.reqLevel)||1)||!I.value||I.value.currentDurability<=0}),j=te=>te.maxDurability?Math.max(0,te.currentDurability/te.maxDurability*100):100,P=te=>{const V=j(te);return V<=0?"bg-red-600":V<30?"bg-orange-500":"bg-green-500"},w=()=>{if(!t.character)return;const te=t.character.gatheringItemId,V=t.character.gatheringRemainingAmount;if(!te||te===0){o.push("/explore");return}let ue=C.find(xe=>xe.rewardItemId===te);ue||(ue={id:"unknown",codePrefix:"o_",rewardItemId:te,name:"Ti Nguyn L",image:He("o_strange.png"),rarityClass:"common",rarityText:"B n",reqLevel:1,reqTool:"Cp",lootName:"Vt phm"}),l.value=ue,c.value=V!==void 0?V:10,f.value=Math.max(10,c.value),S()},S=()=>{let te=180;y.value=100,r&&clearInterval(r),r=setInterval(()=>{te--,y.value=te/180*100,te<=0&&(d.value="M  sp!",setTimeout(()=>o.push("/explore"),1e3))},1e3)},se=async(te=1)=>{var V,ue;if(!G.value){u.value=!0,d.value="ang khai thc...",h.value="";try{await new Promise(T=>setTimeout(T,600));const xe={itemId:l.value.rewardItemId,amount:te},q=(await ye.post("/exploration/gather",xe)).data;c.value=q.remaining,d.value=q.message,h.value="text-success",q.toolDurability!==void 0&&I.value&&(I.value.currentDurability=q.toolDurability),await t.fetchCharacter(),c.value<=0&&(d.value="M ti nguyn  cn!",setTimeout(()=>o.push("/explore"),1500))}catch(xe){console.error(" [GATHER ERROR]:",xe);const Ae=((ue=(V=xe.response)==null?void 0:V.data)==null?void 0:ue.message)||"Li kt ni server";d.value=Ae,h.value="text-error",i.value&&i.value.show(Ae,"error")}finally{u.value=!1}}},D=()=>{const te=Math.min(c.value,10);te>0&&se(te)},Q=te=>{te.target.src=He("o_coal.png")};return at(async()=>{await Promise.all([t.fetchCharacter(),n.fetchInventory()]),w(),a=setInterval(()=>t.fetchCharacter(),1e4)}),Pt(()=>{a&&clearInterval(a),r&&clearInterval(r)}),(te,V)=>{var ue,xe;return v(),m("div",Hk,[s("div",Uk,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${H(p)})`})},null,4),V[2]||(V[2]=s("div",{class:"fog-anim"},null,-1))]),s("div",Dk,[s("button",{class:"btn-wood-back",onClick:V[0]||(V[0]=Ae=>te.$router.push("/explore"))},[...V[3]||(V[3]=[s("i",{class:"fas fa-chevron-left"},null,-1),J(" RI KHI ",-1)])])]),l.value?(v(),m("div",Bk,[s("div",qk,[s("div",Fk,[s("div",{class:X(["node-circle",{"shake-anim":u.value}])},[s("img",{src:l.value.image,class:"node-img",onError:Q},null,40,Gk)],2),s("div",{class:X(["rarity-seal","bg-"+l.value.rarityClass])},_(l.value.rarityText),3)]),s("h2",{class:X(["node-name","text-"+l.value.rarityClass])},_(l.value.name),3)]),s("div",Vk,[I.value?(v(),m("div",jk,[s("div",{class:X(["icon-wrap tool-img-wrap",{broken:I.value.currentDurability<=0}])},[s("img",{src:H(He)(I.value.item.imageUrl)},null,8,Kk)],2),s("div",Wk,[s("span",{class:X(["t-name","text-"+(I.value.item.rarity||"COMMON")])},_(I.value.item.name),3),s("div",zk,[s("div",Xk,[s("div",{class:X(["bar-fill",P(I.value)]),style:Pe({width:j(I.value)+"%"})},null,6)]),s("span",Yk,_(I.value.currentDurability)+"/"+_(I.value.maxDurability),1)])])])):(v(),m("div",Jk,[V[4]||(V[4]=s("div",{class:"icon-wrap"},[s("i",{class:"fas fa-exclamation-triangle text-error"})],-1)),s("div",Qk,[s("span",Zk,"Cn cng c: "+_(l.value.reqTool),1)])])),s("div",eS,[V[6]||(V[6]=s("div",{class:"icon-wrap"},[s("i",{class:"fas fa-graduation-cap"})],-1)),s("div",tS,[V[5]||(V[5]=s("span",{class:"label"},"K nng",-1)),s("span",{class:X(["val",{"text-red":b.value<l.value.reqLevel}])}," Cp "+_(b.value)+" / "+_(l.value.reqLevel),3)])]),s("div",sS,[V[8]||(V[8]=s("div",{class:"icon-wrap"},[s("i",{class:"fas fa-cubes"})],-1)),s("div",nS,[V[7]||(V[7]=s("span",{class:"label"},"Tr lng",-1)),s("span",oS,_(c.value)+" / "+_(f.value),1)])])]),s("div",iS,[s("div",aS,[V[9]||(V[9]=s("span",null,"Thi gian cn li",-1)),s("span",null,_(Math.round(y.value))+"%",1)]),s("div",rS,[s("div",{class:"progress-fill",style:Pe({width:y.value+"%"})},null,4)])]),s("div",lS,[s("div",{class:X(["energy-tag",{"energy-low":(((ue=H(t).character)==null?void 0:ue.currentEnergy)||0)<1}])},[V[10]||(V[10]=s("i",{class:"fas fa-bolt"},null,-1)),V[11]||(V[11]=J(" Ni Nng: ",-1)),s("strong",null,_(((xe=H(t).character)==null?void 0:xe.currentEnergy)||0),1)],2),c.value<=0?(v(),m("div",cS,"M  cn, hy ri i.")):W("",!0),b.value<l.value.reqLevel?(v(),m("div",uS,"Cp  cha .")):W("",!0),I.value&&I.value.currentDurability<=0?(v(),m("div",dS," CNG C  HNG! CN SA CHA. ")):W("",!0),s("div",fS,[s("button",{class:"btn-wood action-btn",onClick:V[1]||(V[1]=Ae=>se(1)),disabled:G.value},[...V[12]||(V[12]=[s("span",{class:"btn-main"},"KHAI THC",-1),s("span",{class:"btn-sub"},[J("Tn 1 "),s("i",{class:"fas fa-bolt"})],-1)])],8,hS),s("button",{class:"btn-seal action-btn",onClick:D,disabled:G.value},[...V[13]||(V[13]=[s("span",{class:"btn-main"},"T NG",-1),s("span",{class:"btn-sub"},"Gom nhanh (Max 10)",-1)])],8,pS)]),d.value?(v(),m("div",{key:3,class:X(["feedback-text",h.value])},_(d.value),3)):W("",!0)])])):(v(),m("div",vS,[...V[14]||(V[14]=[s("p",null,"ang tm kim ti nguyn...",-1)])])),fe(Ii,{ref_key:"toast",ref:i},null,512)])}}},gS=Fe(mS,[["__scopeId","data-v-75cd3485"]]),Br=Qt("market",{state:()=>({shopItems:[],playerListings:[],myListings:[],isLoading:!1}),actions:{async fetchShopItems(){const e=await ye.get("/shop/items");this.shopItems=e.data},async fetchPlayerListings(){const e=await ye.get("/market/player/active");this.playerListings=e.data},async fetchMyListings(){const e=await ye.get("/market/player/my");this.myListings=e.data},async buyItem(e,t){await ye.post("/shop/buy",{itemId:e,quantity:t}),await this.refresh()},async sellItem(e,t){const n=await ye.post("/shop/sell",{userItemId:e,quantity:t});return await this.refresh(),n.data},async buyPlayerListing(e,t){await ye.post("/market/player/buy",{listingId:e,quantity:t}),await this.refresh()},async createListing(e,t,n){const o=await ye.post("/market/player/list",{userItemId:e,price:t,quantity:n});return await this.refresh(),o.data},async cancelListing(e){await ye.post(`/market/player/cancel/${e}`),await this.refresh()},async refresh(){await Promise.all([this.fetchShopItems(),this.fetchPlayerListings(),this.fetchMyListings(),ts().fetchInventory(),Qe().fetchProfile()])}}}),yS={class:"page-container inventory-page wuxia-theme"},bS={class:"inventory-layout"},_S={class:"inv-list-panel wood-panel"},wS={class:"panel-header"},$S={class:"header-right"},CS={class:"slots-text"},TS=["title"],ES={class:"filter-tabs"},kS=["onClick"],SS={key:0,class:"wheel-wrapper"},IS=["onClick"],xS={class:"wheel-inner"},NS={class:"icon-box"},AS=["src"],RS={key:0,class:"qty-badge"},LS={class:"info-box"},OS={class:"name-row"},PS={class:"item-name"},MS={key:0,class:"mythic-txt"},HS={key:1,class:"enhance-txt"},US={key:0,class:"sub-row"},DS={class:"tier-txt"},BS={key:0,class:"status-equipped"},qS={key:0,class:"empty-msg"},FS={key:1,class:"grid-view-container custom-scroll"},GS={class:"inv-grid"},VS=["onClick"],jS={class:"slot-inner"},KS=["src"],WS={key:0,class:"level-badge"},zS={key:1,class:"level-badge"},XS={key:2,class:"qty-tag"},YS={key:3,class:"equipped-badge"},JS={class:"inv-detail-panel wood-panel detail-mode"},QS={key:0,class:"detail-content custom-scroll"},ZS={class:"detail-header"},eI={class:"item-meta"},tI={class:"type-badge"},sI={class:"tier-badge"},nI=["src"],oI={class:"stats-box"},iI={key:0,class:"stat-row main-stat"},aI={class:"stat-label"},rI={class:"stat-val"},lI={key:1,class:"sub-stats-container"},cI={class:"sub-label"},uI={class:"sub-val"},dI={key:2,class:"durability-box"},fI={class:"durability-progress-bg"},hI={class:"durability-percent-text"},pI={class:"desc-text"},vI={class:"action-buttons"},mI={class:"cost-mini"},gI={key:1,class:"empty-detail"},yI={key:0,class:"modal-overlay"},bI={class:"modal-content wood-panel"},_I={class:"modal-header"},wI={class:"modal-body"},$I={class:"item-preview-mini"},CI=["src"],TI={class:"mini-info"},EI={class:"mini-qty"},kI={class:"input-group"},SI=["max"],II={class:"price-summary"},xI={class:"highlight-gold"},NI={class:"modal-actions"},AI={key:0,class:"modal-overlay"},RI={class:"modal-content wood-panel market-modal"},LI={class:"modal-header market-header"},OI={class:"modal-body"},PI={class:"item-preview-mini"},MI=["src"],HI={class:"mini-info"},UI={class:"mini-qty"},DI={class:"input-group"},BI=["max"],qI={class:"input-group"},FI={class:"price-input-wrapper"},GI={class:"price-summary market-summary"},VI={class:"highlight-gold"},jI={class:"modal-actions"},Gt=50,KI=5,WI={__name:"Inventory",setup(e){const t=M(0),n=M(null);let o=!1,i=0,a=0,r=0,l=null,c=null;const f=ts(),u=Qe(),d=Br(),h=Fs(),y=M("ALL"),p=M(null),b=M("list"),C=M(!1),x=M(null),I=M({quantity:1}),G=M(!1),j=M(null),P=M({price:0,quantity:1}),w=[{id:"ALL",label:"Tt C"},{id:"EQUIP",label:"Trang B"},{id:"TOOL",label:"Cng C"},{id:"CONSUMABLE",label:"Tiu Hao"},{id:"MATERIAL",label:"Nguyn Liu"}],S=pe(()=>{let B=f.items||[];return y.value==="EQUIP"?B.filter(R=>["WEAPON","ARMOR","RING","NECKLACE","BOOTS","HELMET"].includes(R.item.type)):y.value==="TOOL"?B.filter(R=>R.item.type==="TOOL"):y.value!=="ALL"?B.filter(R=>R.item.type===y.value):B}),se=()=>{b.value=b.value==="list"?"grid":"list",b.value==="list"&&(t.value=0)};mt(t,B=>{var Ee;if(b.value!=="list")return;const R=S.value;if(!R.length)return;const me=Math.round(B/Gt);if(me>=0&&me<R.length){const le=R[me];((Ee=p.value)==null?void 0:Ee.userItemId)!==(le==null?void 0:le.userItemId)&&(p.value=le)}}),mt(S,B=>{B.length>0&&!p.value&&(p.value=B[0])},{immediate:!0});const D=pe(()=>{if(b.value!=="list")return[];const B=S.value,R=B.length;if(R===0)return[];const Ee=250/2,le=[],Me=Math.floor(t.value/Gt),Ue=Math.ceil(KI/2);for(let Ve=Me-Ue;Ve<=Me+Ue;Ve++){if(Ve<0||Ve>=R)continue;const tt=B[Ve],it=Ve*Gt-t.value,We=Math.abs(it/Gt);let dt=1,xt=1,ut=0,re=1,ce=10,z=0;if(We<=2.5)if(We<.5)dt=1.05,xt=1,re=1.2,ce=100,z=0;else{const L=1-We/3;dt=.9+L*.1,xt=.3+L*.7,re=.5+L*.5,ut=-it*.15,ce=Math.floor((3-We)*10),z=(We-.5)*1.5}else xt=0,dt=.8,z=5;const g=We<.5,Ie={transform:`translateY(${Ee+it-Gt/2}px) perspective(500px) rotateX(${ut}deg) scale(${dt})`,opacity:xt,zIndex:ce,filter:`brightness(${re}) blur(${z}px)`,visibility:xt<=.05?"hidden":"visible"};le.push({virtualKey:`${tt.userItemId}_${Ve}`,index:Ve,data:tt,style:Ie,isActive:g})}return le}),Q=B=>{c=B*Gt,cancelAnimationFrame(l),te()},te=()=>{if(c===null)return;const B=c-t.value;Math.abs(B)>.5?(t.value+=B*.1,l=requestAnimationFrame(te)):(t.value=c,c=null)},V=B=>{if(Math.abs(r)>.1){t.value-=r*16;const R=Math.max(0,(S.value.length-1)*Gt);t.value<-50&&(r=-.5),t.value>R+50&&(r=.5),r*=.92,l=requestAnimationFrame(V)}else r=0,ue()},ue=()=>{let B=Math.round(t.value/Gt)*Gt;const R=Math.max(0,(S.value.length-1)*Gt);B=Math.max(0,Math.min(B,R));const me=B-t.value;Math.abs(me)>.5?(t.value+=me*.15,l=requestAnimationFrame(ue)):(t.value=B,cancelAnimationFrame(l))},xe=B=>{cancelAnimationFrame(l),c=null,r=0,t.value+=B.deltaY*.4;const R=Math.max(0,(S.value.length-1)*Gt);t.value<-20&&(t.value=-20),t.value>R+20&&(t.value=R+20),ue()},Ae=B=>{o=!0,i=B.clientY,a=i,r=0,c=null,cancelAnimationFrame(l),window.addEventListener("mousemove",q),window.addEventListener("mouseup",T)},q=B=>{if(!o)return;const R=a-B.clientY;t.value+=R,a=B.clientY},T=B=>{o=!1,window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",T),r=(i-B.clientY)*.05,V(performance.now())},$=B=>{o=!0,i=B.touches[0].clientY,a=i,r=0,c=null,cancelAnimationFrame(l)},k=B=>{if(!o)return;const R=a-B.touches[0].clientY;t.value+=R,a=B.touches[0].clientY},A=B=>{o=!1,r=(i-a)*.05,V(performance.now())},Y=B=>{y.value=B,t.value=0,r=0},K=B=>{p.value=B},O=pe(()=>{if(!p.value||!p.value.subStats)return[];try{return JSON.parse(p.value.subStats)}catch{return[]}}),F=B=>B?B.endsWith("_PERCENT")||["CRIT_RATE","CRIT_DMG"].includes(B):!1,Se=B=>({ATK:"Cng Lc",ATK_FLAT:"Cng Lc",ATK_PERCENT:"Cng Lc",DEF:"H Th",DEF_FLAT:"H Th",DEF_PERCENT:"H Th",HP:"Sinh Lc",HP_FLAT:"Sinh Lc",HP_PERCENT:"Sinh Lc",SPEED:"Thn Php",CRIT:"Bo Kch",CRIT_RATE:"Bo Kch",CRIT_DMG:"St Thng Bo",LUCK:"May Mn",DURABILITY:" Bn"})[B]||B,Le=(B,R)=>{if(B&&typeof B=="string")return Se(B);if(R){if(R==="WEAPON")return"Cng Lc";if(["ARMOR","HELMET","BOOTS","RING","NECKLACE"].includes(R))return"H Th";if(R==="TOOL")return"Hiu Sut"}return"Sc Mnh"},ee=B=>["WEAPON","ARMOR","HELMET","BOOTS","RING","NECKLACE","TOOL"].includes(B.item.type),he=async()=>{if(p.value)try{p.value.isEquipped?(await f.unequipItem(p.value.userItemId),h.showToast(" tho trang b!","success")):(await f.equipItem(p.value.userItemId),h.showToast(" trang b thnh cng!","success"));const B=f.items.find(R=>R.userItemId===p.value.userItemId);B&&(p.value=B)}catch(B){h.showToast(B,"error")}},de=async()=>{if(p.value)try{const B=await f.useItem(p.value.userItemId);h.showToast(B,"success")}catch(B){h.showToast(B,"error")}},be=B=>{if(B.isEquipped){h.showToast("Phi g trang b mi c bn!","error");return}x.value=B,I.value={quantity:1},C.value=!0},Ne=async()=>{if(x.value){if(I.value.quantity>x.value.quantity){h.showToast("Khng  s lng!","error");return}try{const B=await d.sellItem(x.value.userItemId,I.value.quantity);h.showToast(B.message||" bn thnh cng!","success"),C.value=!1,p.value=null}catch(B){h.showToast(typeof B=="string"?B:"Li khi bn vt phm","error")}}},E=B=>{if(B.isEquipped){h.showToast("Phi g trang b mi c treo bn!","error");return}j.value=B,P.value={price:100,quantity:1},G.value=!0},N=async()=>{var B,R;if(j.value){if(P.value.quantity>j.value.quantity){h.showToast("Khng  s lng  bn!","error");return}if(P.value.price<=0){h.showToast("Gi bn phi ln hn 0!","error");return}try{const me=await d.createListing(j.value.userItemId,P.value.price,P.value.quantity);h.showToast(me.message||" nim yt ln ch thnh cng!","success"),G.value=!1,p.value=null}catch(me){h.showToast(((R=(B=me.response)==null?void 0:B.data)==null?void 0:R.message)||"Li khi ng bn","error")}}},U=async()=>{var me;const B=((me=u.user)==null?void 0:me.inventorySlots)||49;if(B>=210){h.showToast(" t gii hn ti a!","error");return}const R=Math.floor((B-49)/7)+1;if(confirm(`M rng thm 7  cha?
Chi ph: ${R} Echo Coin`)){if(u.wallet.echoCoin<R){h.showToast(`Thiu Echo Coin! Cn ${R}.`,"error");return}try{const Ee=await f.expandInventory();h.showToast(Ee||"M rng thnh cng!","success")}catch(Ee){h.showToast(typeof Ee=="string"?Ee:"Li","error")}}},oe=B=>B.maxDurability?Math.max(0,Math.min(100,B.currentDurability/B.maxDurability*100)):100,ie=B=>oe(B)<30?"dur-low":"dur-high",ne=B=>B.item.type==="TOOL"&&B.maxDurability&&B.currentDurability<B.maxDurability,_e=B=>{if(!B.maxDurability||!B.currentDurability)return{gold:0,coin:0};const R=B.maxDurability-B.currentDurability;if(R<=0)return{gold:0,coin:0};let me=10,Ee=0;switch(B.isMythic?"MYTHIC":B.item.rarity||"COMMON"){case"COMMON":case"UNCOMMON":me=10;break;case"RARE":me=50;break;case"EPIC":me=200,Ee=.1;break;case"LEGENDARY":case"MYTHIC":me=1e3,Ee=1;break;default:me=10}return{gold:R*me,coin:parseFloat((R*Ee).toFixed(1))}},ge=async()=>{if(!p.value)return;const B=_e(p.value);let R=`Sa cha vt phm ny?
Chi ph: ${ae(B.gold)} Vng`;if(B.coin>0&&(R+=` + ${B.coin} Echo Coin`),!!confirm(R))try{await f.repairItem(p.value.userItemId),h.showToast(" sa thnh cng!","success");const me=f.items.find(Ee=>Ee.userItemId===p.value.userItemId);me&&(p.value=me)}catch(me){h.showToast(me,"error")}},ve=B=>B.isMythic?"mythic":B.item.rarity?B.item.rarity.toLowerCase():"common",ae=B=>new Intl.NumberFormat().format(B||0);return at(async()=>{await f.fetchInventory()}),Pt(()=>{cancelAnimationFrame(l),window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",T)}),(B,R)=>{var me,Ee;return v(),m("div",yS,[R[45]||(R[45]=s("div",{class:"bg-overlay"},null,-1)),s("div",bS,[s("div",_S,[s("div",wS,[R[10]||(R[10]=s("div",{class:"header-left"},[s("h3",null,[s("i",{class:"fas fa-sack-dollar"}),J(" HNH NANG")])],-1)),s("div",$S,[s("span",CS,_(H(f).items.length)+" / "+_(((me=H(u).user)==null?void 0:me.inventorySlots)||49),1),s("button",{class:"btn-icon-action",onClick:se,title:b.value==="list"?"Xem dng li":"Xem dng cun"},[s("i",{class:X(b.value==="list"?"fas fa-th":"fas fa-stream")},null,2)],8,TS),s("button",{class:"btn-add-slots",onClick:U,title:"M rng (+7 )"},[...R[9]||(R[9]=[s("i",{class:"fas fa-plus"},null,-1)])])])]),s("div",ES,[(v(),m(Ce,null,Re(w,le=>s("button",{key:le.id,class:X({active:y.value===le.id}),onClick:Me=>Y(le.id)},_(le.label),11,kS)),64))]),b.value==="list"?(v(),m("div",SS,[s("div",{class:"infinite-wheel-container",ref_key:"wheelContainer",ref:n,onWheel:Ze(xe,["prevent"]),onTouchstart:$,onTouchmove:k,onTouchend:A,onMousedown:Ae},[R[13]||(R[13]=s("div",{class:"center-highlight-bar"},null,-1)),(v(!0),m(Ce,null,Re(D.value,le=>(v(),m("div",{key:le.virtualKey,class:X(["wheel-item",{active:le.isActive,["rarity-"+(le.data.item.rarity||"COMMON")]:!0}]),style:Pe(le.style),onClick:Me=>Q(le.index)},[s("div",xS,[s("div",NS,[s("img",{src:H(He)(le.data.item.imageUrl),class:"item-icon"},null,8,AS),le.data.quantity>1?(v(),m("span",RS,_(le.data.quantity),1)):W("",!0)]),s("div",LS,[s("div",OS,[s("span",PS,_(le.data.item.name),1),le.data.isMythic?(v(),m("span",MS,"M"+_(le.data.mythicStars||0),1)):le.data.enhanceLevel?(v(),m("span",HS,"+"+_(le.data.enhanceLevel),1)):W("",!0)]),le.isActive?(v(),m("div",US,[s("span",DS,"Tier "+_(le.data.item.tier),1),le.data.isEquipped?(v(),m("span",BS,[...R[11]||(R[11]=[s("i",{class:"fas fa-shield-alt"},null,-1)])])):W("",!0)])):W("",!0)])])],14,IS))),128)),S.value.length===0?(v(),m("div",qS,[...R[12]||(R[12]=[s("i",{class:"fas fa-box-open"},null,-1),J(" Ti Trng ",-1)])])):W("",!0)],544)])):(v(),m("div",FS,[s("div",GS,[(v(!0),m(Ce,null,Re(S.value,le=>{var Me;return v(),m("div",{key:le.userItemId,class:X(["item-slot",{selected:((Me=p.value)==null?void 0:Me.userItemId)===le.userItemId,"border-mythic":le.isMythic,[ve(le)]:!0}]),onClick:Ue=>K(le)},[s("div",jS,[s("img",{src:H(He)(le.item.imageUrl),loading:"lazy"},null,8,KS),le.isMythic?(v(),m("div",WS,"M"+_(le.mythicStars||0),1)):le.enhanceLevel>0?(v(),m("div",zS,"+"+_(le.enhanceLevel),1)):W("",!0),le.quantity>1?(v(),m("span",XS,_(le.quantity),1)):W("",!0),le.isEquipped?(v(),m("div",YS,[...R[14]||(R[14]=[s("i",{class:"fas fa-shield-alt"},null,-1)])])):W("",!0)])],10,VS)}),128)),(v(!0),m(Ce,null,Re(Math.max(0,(((Ee=H(u).user)==null?void 0:Ee.inventorySlots)||49)-S.value.length),le=>(v(),m("div",{key:"empty-"+le,class:"item-slot empty"}))),128))])]))]),s("div",JS,[p.value?(v(),m("div",QS,[s("div",ZS,[s("h2",{class:X("text-rarity-"+(p.value.item.rarity||"COMMON"))},_(p.value.item.name),3),s("div",eI,[s("span",tI,_(p.value.item.type),1),s("span",sI,"Phm "+_(p.value.item.tier||1),1)])]),s("div",{class:X(["detail-image-box","glow-"+(p.value.item.rarity||"COMMON")])},[R[15]||(R[15]=s("div",{class:"image-halo"},null,-1)),s("img",{src:H(He)(p.value.item.imageUrl),class:"big-preview"},null,8,nI)],2),s("div",oI,[p.value.mainStatValue>0?(v(),m("div",iI,[s("span",aI,[R[16]||(R[16]=s("i",{class:"fas fa-khanda"},null,-1)),J(" "+_(Le(p.value.mainStatType,p.value.item.type)),1)]),s("span",rI," +"+_(ae(p.value.mainStatValue))+_(F(p.value.mainStatType)?"%":""),1)])):W("",!0),O.value.length>0?(v(),m("div",lI,[(v(!0),m(Ce,null,Re(O.value,(le,Me)=>(v(),m("div",{key:Me,class:"stat-row sub-stat"},[R[17]||(R[17]=s("span",{class:"dot"},"",-1)),s("span",cI,_(Se(le.code)),1),s("span",uI," +"+_(le.value)+_(le.isPercent||F(le.code)?"%":""),1)]))),128))])):W("",!0),p.value.item.type==="TOOL"&&p.value.maxDurability?(v(),m("div",dI,[R[18]||(R[18]=s("div",{class:"durability-header"},[s("span",null,[s("i",{class:"fas fa-hammer"}),J("  Bn")])],-1)),s("div",fI,[s("div",{class:X(["durability-progress-fill",ie(p.value)]),style:Pe({width:oe(p.value)+"%"})},null,6),s("div",hI,_(Math.floor(p.value.currentDurability/p.value.maxDurability*100))+"% ",1)])])):W("",!0),s("div",pI,[R[19]||(R[19]=s("i",{class:"fas fa-quote-left"},null,-1)),J(" "+_(p.value.item.description)+" ",1),R[20]||(R[20]=s("i",{class:"fas fa-quote-right"},null,-1))])]),s("div",vI,[ee(p.value)?(v(),m("button",{key:0,class:"btn-action btn-equip",onClick:he},[s("span",null,_(p.value.isEquipped?"G Trang B":"Trang B"),1)])):W("",!0),p.value.item.type==="CONSUMABLE"?(v(),m("button",{key:1,class:"btn-action btn-use",onClick:de},[...R[21]||(R[21]=[s("span",null,"S Dng",-1)])])):W("",!0),ne(p.value)?(v(),m("button",{key:2,class:"btn-action btn-repair",onClick:ge},[s("span",null,[R[22]||(R[22]=s("i",{class:"fas fa-tools"},null,-1)),R[23]||(R[23]=J(" Sa ",-1)),s("span",mI," ("+_(ae(_e(p.value).gold))+" Vng) ",1)])])):W("",!0),p.value.isEquipped?W("",!0):(v(),m("button",{key:3,class:"btn-action btn-market",onClick:R[0]||(R[0]=le=>E(p.value))},[...R[24]||(R[24]=[s("span",null,[s("i",{class:"fas fa-store"}),J(" Treo Bn (Ch)")],-1)])])),p.value.isEquipped?W("",!0):(v(),m("button",{key:4,class:"btn-action btn-sell",onClick:R[1]||(R[1]=le=>be(p.value))},[...R[25]||(R[25]=[s("span",null,[s("i",{class:"fas fa-coins"}),J(" Bn Shop (NPC)")],-1)])]))])])):(v(),m("div",gI,[...R[26]||(R[26]=[s("div",{class:"empty-icon-glow"},[s("i",{class:"fas fa-box-open"})],-1),s("p",null,"Chn vt phm  xem chi tit",-1)])]))])]),fe(Ge,{name:"fade"},{default:ke(()=>{var le,Me,Ue,Ve,tt,it,We;return[C.value?(v(),m("div",yI,[s("div",bI,[s("div",_I,[R[28]||(R[28]=s("h3",null,"BN CHO SHOP",-1)),s("button",{class:"close-btn",onClick:R[2]||(R[2]=dt=>C.value=!1)},[...R[27]||(R[27]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",wI,[s("div",$I,[s("img",{src:H(He)((le=x.value)==null?void 0:le.item.imageUrl)},null,8,CI),s("div",TI,[s("span",{class:X(["mini-name","text-"+(((Ue=(Me=x.value)==null?void 0:Me.item.rarity)==null?void 0:Ue.toLowerCase())||"common")])},_((Ve=x.value)==null?void 0:Ve.item.name),3),s("span",EI,"Hin c: "+_((tt=x.value)==null?void 0:tt.quantity),1)])]),s("div",kI,[R[29]||(R[29]=s("label",null,"S lng bn:",-1)),$e(s("input",{type:"number","onUpdate:modelValue":R[3]||(R[3]=dt=>I.value.quantity=dt),min:"1",max:((it=x.value)==null?void 0:it.quantity)||1},null,8,SI),[[Te,I.value.quantity,void 0,{number:!0}]])]),s("div",II,[s("p",null,[R[30]||(R[30]=J("Gi thu mua: ",-1)),s("span",xI,_(ae(((We=x.value)!=null&&We.item.basePrice?Math.ceil(x.value.item.basePrice*.5):0)*I.value.quantity)),1),R[31]||(R[31]=J()),R[32]||(R[32]=s("i",{class:"fas fa-coins"},null,-1))]),R[33]||(R[33]=s("small",{class:"hint-text"},"(NPC thu mua 50% gi gc)",-1))])]),s("div",NI,[s("button",{class:"btn-modal btn-cancel",onClick:R[4]||(R[4]=dt=>C.value=!1)},"Hy"),s("button",{class:"btn-modal btn-confirm-sell",onClick:Ne},[...R[34]||(R[34]=[s("i",{class:"fas fa-check"},null,-1),J(" Bn Ngay ",-1)])])])])])):W("",!0)]}),_:1}),fe(Ge,{name:"fade"},{default:ke(()=>{var le,Me,Ue,Ve,tt,it;return[G.value?(v(),m("div",AI,[s("div",RI,[s("div",LI,[R[36]||(R[36]=s("h3",null,[s("i",{class:"fas fa-balance-scale"}),J(" NIM YT GI")],-1)),s("button",{class:"close-btn",onClick:R[5]||(R[5]=We=>G.value=!1)},[...R[35]||(R[35]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",OI,[s("div",PI,[s("img",{src:H(He)((le=j.value)==null?void 0:le.item.imageUrl)},null,8,MI),s("div",HI,[s("span",{class:X(["mini-name","text-"+(((Ue=(Me=j.value)==null?void 0:Me.item.rarity)==null?void 0:Ue.toLowerCase())||"common")])},_((Ve=j.value)==null?void 0:Ve.item.name),3),s("span",UI,"Hin c: "+_((tt=j.value)==null?void 0:tt.quantity),1)])]),s("div",DI,[R[37]||(R[37]=s("label",null,"S lng treo:",-1)),$e(s("input",{type:"number","onUpdate:modelValue":R[6]||(R[6]=We=>P.value.quantity=We),min:"1",max:((it=j.value)==null?void 0:it.quantity)||1},null,8,BI),[[Te,P.value.quantity,void 0,{number:!0}]])]),s("div",qI,[R[39]||(R[39]=s("label",null,"n gi mong mun (mi ci):",-1)),s("div",FI,[$e(s("input",{type:"number","onUpdate:modelValue":R[7]||(R[7]=We=>P.value.price=We),min:"1",placeholder:"Nhp gi..."},null,512),[[Te,P.value.price,void 0,{number:!0}]]),R[38]||(R[38]=s("i",{class:"fas fa-coins gold-icon-input"},null,-1))])]),s("div",GI,[s("p",null,[R[40]||(R[40]=J("Tng thu d kin: ",-1)),s("span",VI,_(ae(P.value.price*P.value.quantity)),1),R[41]||(R[41]=J()),R[42]||(R[42]=s("i",{class:"fas fa-coins"},null,-1))]),R[43]||(R[43]=s("small",{class:"hint-text text-market"},"Ph sn giao dch: 0% (S kin)",-1))])]),s("div",jI,[s("button",{class:"btn-modal btn-cancel",onClick:R[8]||(R[8]=We=>G.value=!1)},"Thi"),s("button",{class:"btn-modal btn-confirm-market",onClick:N},[...R[44]||(R[44]=[s("i",{class:"fas fa-gavel"},null,-1),J(" Treo Bn ",-1)])])])])])):W("",!0)]}),_:1}),fe(Ii)])}}},zI=Fe(WI,[["__scopeId","data-v-3b8eff63"]]),XI={class:"page-container wuxia-market dark-theme"},YI={class:"bg-layer"},JI={class:"market-overlay"},QI={class:"market-header"},ZI={class:"filter-bar"},ex={class:"search-box"},tx={class:"filter-box"},sx={class:"filter-box"},nx={class:"market-tabs"},ox={class:"market-content custom-scroll"},ix={class:"grid-layout",key:"buy"},ax={key:0,class:"empty-state"},rx={class:"card-top"},lx=["src"],cx={class:"card-body"},ux={class:"item-type"},dx={class:"price-row"},fx={class:"val gold-text"},hx={class:"card-footer"},px=["onUpdate:modelValue"],vx=["onClick"],mx={class:"grid-layout",key:"p2p"},gx={key:0,class:"empty-state"},yx={class:"seller-badge"},bx={class:"card-top p2p-img-top"},_x=["src"],wx={class:"card-body p2p-body"},$x={key:0,class:"enhance-txt"},Cx={class:"stock-info"},Tx={class:"highlight"},Ex={class:"price-row"},kx={class:"val gold-text large"},Sx={class:"card-footer"},Ix=["onUpdate:modelValue","max"],xx=["onClick"],Nx={class:"grid-layout",key:"my_listings"},Ax={key:0,class:"empty-state"},Rx={class:"card-top"},Lx=["src"],Ox={class:"qty-badge-corner"},Px={class:"card-body"},Mx={key:0},Hx={class:"price-row"},Ux={class:"val gold-text"},Dx={class:"card-footer full-width"},Bx=["onClick"],qx={class:"grid-layout",key:"sell_sys"},Fx={key:0,class:"empty-state"},Gx={class:"card-top small-top"},Vx=["src"],jx={class:"qty-badge"},Kx={class:"card-body"},Wx={class:"price-row"},zx={class:"val red-text"},Xx={class:"card-footer"},Yx=["onUpdate:modelValue","max"],Jx=["onClick"],Qx={key:1,class:"equipped-warn"},Zx={class:"custom-toast-container"},eN={class:"toast-icon"},tN={key:0,class:"fas fa-check"},sN={key:1,class:"fas fa-exclamation-triangle"},nN={key:2,class:"fas fa-info"},oN={class:"toast-content"},iN={class:"toast-message"},aN={class:"bill-modal"},rN={class:"bill-header"},lN={class:"bill-body"},cN={class:"item-preview-row"},uN={class:"preview-img"},dN=["src"],fN={class:"preview-info"},hN={class:"p-name"},pN={class:"p-type"},vN={class:"bill-calc"},mN={class:"calc-row"},gN={class:"calc-row"},yN={class:"calc-row total"},bN={class:"total-gold"},_N={class:"bill-modal msg-box"},wN={class:"bill-body msg-body"},$N="https://htkhang111.github.io/background/b_doanhtrai.png",CN={__name:"Marketplace",setup(e){const t=Br(),n=ts(),o=Qe(),i=M([]);let a=0;const r=(K,O="info")=>{const F=a++;i.value.push({id:F,message:K,type:O}),setTimeout(()=>{const Se=i.value.findIndex(Le=>Le.id===F);Se!==-1&&i.value.splice(Se,1)},3e3)},l=Je({visible:!1,message:"",callback:null}),c=K=>{l.message="o hu mun thu hi vt phm ny v ti?",l.visible=!0,l.callback=async()=>{try{await t.cancelListing(K),r(" thu hi vt phm v hnh trang.","success")}catch{r("Li thu hi vt phm.","error")}}},f=()=>{l.visible=!1,l.callback=null},u=()=>{l.callback&&l.callback(),f()},d=M(!1),h=()=>{const K=new Date().getHours();d.value=K>=18||K<6},y=M("buy"),p=Je({}),b=Je({}),C=Je({}),x=M(""),I=M("ALL"),G=M("ALL"),j=Je({visible:!1,type:"",data:{id:null,name:"",imgCode:"",price:0,qty:0,total:0}}),P=K=>({COMMON:"Common",UNCOMMON:"Uncommon",RARE:"Rare",EPIC:"Epic",LEGENDARY:"Legendary",MYTHIC:"Mythic"})[K]||"Common",w=K=>Number(K).toLocaleString("en-US"),S=K=>K>=15?"lvl-red":K>=10?"lvl-purple":K>=5?"lvl-gold":"lvl-white",se=K=>{K.target.src="https://via.placeholder.com/64?text=IMG"},D=(K,O=!1)=>!K||!Array.isArray(K)?[]:K.filter(F=>{const Se=O?F.item:F.item||F;if(!Se||!O&&Se.type==="MATERIAL"&&y.value==="buy")return!1;const ee=(Se.name||"").toLowerCase().includes(x.value.toLowerCase()),he=Se.rarity||"COMMON",de=I.value==="ALL"||he===I.value,be=Se.type||"",Ne=G.value==="ALL"||be===G.value;return ee&&de&&Ne}),Q=pe(()=>D(t.shopItems)),te=pe(()=>D(t.playerListings)),V=pe(()=>D(n.items,!0)),ue=K=>{y.value=K,x.value="",K==="sell_sys"&&n.fetchInventory(),K==="my_listings"&&t.fetchMyListings()},xe=K=>K==="P2P"?"Giao dch Ch Tri":K==="SELL"?"Bn vt phm":"Mua t H thng",Ae=K=>{var Le;const O=b[K.itemId]||1,F=Number(K.basePrice)*Number(O);if(Number(((Le=o.user)==null?void 0:Le.gold)||0)<F){r("Ngn lng khng , khng th mua!","error");return}$("SYS",{id:K.itemId,name:K.name,imgCode:K.imageUrl,price:K.basePrice,qty:O,total:F})},q=K=>{var Le;const O=C[K.listingId]||1,F=Number(K.price)*Number(O);if(Number(((Le=o.user)==null?void 0:Le.gold)||0)<F){r("Ti tin rng tuch, khng th giao dch!","error");return}$("P2P",{id:K.listingId,name:K.item.name,imgCode:K.item.imageUrl,price:K.price,qty:O,total:F})},T=K=>{const O=p[K.userItemId]||K.quantity,F=Math.floor(K.item.basePrice*.8);$("SELL",{id:K.userItemId,name:K.item.name,imgCode:K.item.imageUrl,price:F,qty:O,total:F*O})},$=(K,O)=>{j.type=K,j.data=O,j.visible=!0},k=()=>{j.visible=!1},A=async()=>{var F,Se;const{type:K,data:O}=j;k();try{if(K==="SYS")await t.buyItem(O.id,O.qty),b[O.id]=1,r(`Mua thnh cng ${O.qty} ${O.name}!`,"success");else if(K==="P2P")await t.buyPlayerListing(O.id,O.qty),C[O.id]=1,r("Giao dch thnh cng!","success");else if(K==="SELL"){await t.sellItem(O.id,O.qty);const Le=n.items.findIndex(ee=>ee.userItemId===O.id);Le!==-1&&(n.items[Le].quantity<=O.qty?n.items.splice(Le,1):n.items[Le].quantity-=O.qty),r(` bn, nhn ${w(O.total)} ngn lng!`,"success")}await o.fetchProfile()}catch(Le){K==="P2P"&&await t.fetchPlayerListings();const ee=((Se=(F=Le.response)==null?void 0:F.data)==null?void 0:Se.message)||"C li xy ra.";r(ee,"error")}},Y=async()=>{ue("my_listings"),await t.fetchMyListings()};return at(async()=>{h(),o.fetchProfile&&await o.fetchProfile(),Promise.all([t.fetchShopItems(),t.fetchPlayerListings()])}),(K,O)=>(v(),m("div",XI,[s("div",YI,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${$N})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":d.value}])},null,2),O[6]||(O[6]=s("div",{class:"vignette"},null,-1))]),s("div",JI,[s("div",QI,[O[19]||(O[19]=s("div",{class:"header-decor left"},null,-1)),O[20]||(O[20]=s("h2",{class:"market-title"},"THNG HI",-1)),O[21]||(O[21]=s("div",{class:"header-decor right"},null,-1)),s("div",ZI,[s("div",ex,[O[7]||(O[7]=s("i",{class:"fas fa-search"},null,-1)),$e(s("input",{"onUpdate:modelValue":O[0]||(O[0]=F=>x.value=F),type:"text",placeholder:"Tm kim bo vt..."},null,512),[[Te,x.value]])]),s("div",tx,[O[9]||(O[9]=s("i",{class:"fas fa-shapes"},null,-1)),$e(s("select",{"onUpdate:modelValue":O[1]||(O[1]=F=>G.value=F)},[...O[8]||(O[8]=[Ot('<option value="ALL" data-v-a4578efc>Tt c loi</option><option value="WEAPON" data-v-a4578efc>V kh</option><option value="ARMOR" data-v-a4578efc>Gip</option><option value="ACCESSORY" data-v-a4578efc>Trang sc</option><option value="CONSUMABLE" data-v-a4578efc>Tiu hao</option><option value="MATERIAL" data-v-a4578efc>Nguyn liu</option><option value="TOOL" data-v-a4578efc>Cng c</option>',7)])],512),[[Vt,G.value]])]),s("div",sx,[O[11]||(O[11]=s("i",{class:"fas fa-filter"},null,-1)),$e(s("select",{"onUpdate:modelValue":O[2]||(O[2]=F=>I.value=F)},[...O[10]||(O[10]=[Ot('<option value="ALL" data-v-a4578efc>Tt c phm cht</option><option value="COMMON" data-v-a4578efc>Phm phm</option><option value="UNCOMMON" data-v-a4578efc>Lng phm</option><option value="RARE" data-v-a4578efc>Linh phm</option><option value="EPIC" data-v-a4578efc>Tin phm</option><option value="LEGENDARY" data-v-a4578efc>Thn phm</option><option value="MYTHIC" data-v-a4578efc>Thnh phm</option>',7)])],512),[[Vt,I.value]])])]),s("div",nx,[s("button",{class:X([{active:y.value==="buy"},"tab-btn"]),onClick:O[3]||(O[3]=F=>ue("buy"))},[...O[12]||(O[12]=[s("i",{class:"fas fa-store"},null,-1),J(" TIM TP HA ",-1)])],2),O[16]||(O[16]=s("div",{class:"tab-divider"},null,-1)),s("button",{class:X([{active:y.value==="p2p"},"tab-btn"]),onClick:O[4]||(O[4]=F=>ue("p2p"))},[...O[13]||(O[13]=[s("i",{class:"fas fa-handshake"},null,-1),J(" CH TRI ",-1)])],2),O[17]||(O[17]=s("div",{class:"tab-divider"},null,-1)),s("button",{class:X([{active:y.value==="my_listings"},"tab-btn"]),onClick:Y},[...O[14]||(O[14]=[s("i",{class:"fas fa-clipboard-list"},null,-1),J(" SP CA TA ",-1)])],2),O[18]||(O[18]=s("div",{class:"tab-divider"},null,-1)),s("button",{class:X([{active:y.value==="sell_sys"},"tab-btn"]),onClick:O[5]||(O[5]=F=>ue("sell_sys"))},[...O[15]||(O[15]=[s("i",{class:"fas fa-coins"},null,-1),J(" BN  ",-1)])],2)])]),s("div",ox,[fe(Ge,{name:"fade-slide",mode:"out-in"},{default:ke(()=>[y.value==="buy"?(v(),m("div",ix,[Q.value.length===0?(v(),m("div",ax,[...O[22]||(O[22]=[s("i",{class:"fas fa-search-minus"},null,-1),s("p",null,"Tim ang nhp hng, vui lng quay li sau.",-1)])])):W("",!0),(v(!0),m(Ce,null,Re(Q.value,F=>(v(),m("div",{key:F.itemId,class:"item-card system-card"},[s("div",rx,[s("div",{class:X(["img-frame","border-"+(F.rarity||"COMMON")])},[s("img",{src:H(He)(F.imageUrl),onError:se},null,40,lx),s("span",{class:X(["rarity-tag","bg-"+(F.rarity||"COMMON")])},_(P(F.rarity)),3)],2)]),s("div",cx,[s("div",{class:X(["item-name","text-"+(F.rarity||"COMMON")])},_(F.name),3),s("div",ux,_(F.type),1),s("div",dx,[O[24]||(O[24]=s("span",{class:"label"},"Gi:",-1)),s("span",fx,[J(_(w(F.basePrice))+" ",1),O[23]||(O[23]=s("i",{class:"fas fa-coins"},null,-1))])])]),s("div",hx,[$e(s("input",{type:"number","onUpdate:modelValue":Se=>b[F.itemId]=Se,min:"1",class:"dark-input",placeholder:"1"},null,8,px),[[Te,b[F.itemId],void 0,{number:!0}]]),s("button",{onClick:Se=>Ae(F),class:"btn-action btn-buy-sys"},"MUA",8,vx)])]))),128))])):y.value==="p2p"?(v(),m("div",mx,[te.value.length===0?(v(),m("div",gx,[...O[25]||(O[25]=[s("i",{class:"fas fa-wind"},null,-1),s("p",null,"Ch vng tanh, cha ai bn mn ny...",-1)])])):W("",!0),(v(!0),m(Ce,null,Re(te.value,F=>{var Se;return v(),m("div",{key:F.listingId,class:"item-card p2p-card"},[s("div",yx,[O[26]||(O[26]=s("i",{class:"fas fa-user-tag"},null,-1)),J(" "+_(((Se=F.seller)==null?void 0:Se.username)||"n danh"),1)]),s("div",bx,[s("div",{class:X(["img-frame","border-"+(F.item.rarity||"COMMON")])},[s("img",{src:H(He)(F.item.imageUrl),onError:se},null,40,_x),F.enhanceLevel>0?(v(),m("div",{key:0,class:X(["level-tag",S(F.enhanceLevel)])}," +"+_(F.enhanceLevel),3)):W("",!0),s("span",{class:X(["rarity-tag","bg-"+(F.item.rarity||"COMMON")])},_(P(F.item.rarity)),3)],2)]),s("div",wx,[s("div",{class:X(["item-name","text-"+(F.item.rarity||"COMMON")])},[J(_(F.item.name)+" ",1),F.enhanceLevel>0?(v(),m("span",$x,"(+"+_(F.enhanceLevel)+")",1)):W("",!0)],2),s("div",Cx,[O[27]||(O[27]=J("Tn kho: ",-1)),s("span",Tx,_(F.quantity),1)]),s("div",Ex,[s("span",kx,[J(_(w(F.price))+" ",1),O[28]||(O[28]=s("i",{class:"fas fa-coins"},null,-1))])])]),s("div",Sx,[$e(s("input",{type:"number","onUpdate:modelValue":Le=>C[F.listingId]=Le,min:"1",max:F.quantity,class:"dark-input",placeholder:"1"},null,8,Ix),[[Te,C[F.listingId],void 0,{number:!0}]]),s("button",{onClick:Le=>q(F),class:"btn-action btn-buy-p2p"},[...O[29]||(O[29]=[s("i",{class:"fas fa-shopping-basket"},null,-1),J(" MUA",-1)])],8,xx)])])}),128))])):y.value==="my_listings"?(v(),m("div",Nx,[H(t).myListings.length===0?(v(),m("div",Ax,[...O[30]||(O[30]=[s("i",{class:"fas fa-scroll"},null,-1),s("p",null,"Cha by bn vt phm no.",-1)])])):W("",!0),(v(!0),m(Ce,null,Re(H(t).myListings,F=>(v(),m("div",{key:F.listingId,class:"item-card my-card"},[s("div",Rx,[s("div",{class:X(["img-frame","border-"+(F.item.rarity||"COMMON")])},[s("img",{src:H(He)(F.item.imageUrl),onError:se},null,40,Lx),s("span",Ox,"x"+_(F.quantity),1),s("span",{class:X(["rarity-tag","bg-"+(F.item.rarity||"COMMON")])},_(P(F.item.rarity)),3)],2)]),s("div",Px,[s("div",{class:X(["item-name","text-"+(F.item.rarity||"COMMON")])},[J(_(F.item.name)+" ",1),F.enhanceLevel>0?(v(),m("span",Mx,"(+"+_(F.enhanceLevel)+")",1)):W("",!0)],2),s("div",Hx,[O[32]||(O[32]=s("span",{class:"label"},"ang bn:",-1)),s("span",Ux,[J(_(w(F.price))+" ",1),O[31]||(O[31]=s("i",{class:"fas fa-coins"},null,-1))])])]),s("div",Dx,[s("button",{onClick:Se=>c(F.listingId),class:"btn-action btn-cancel"},[...O[33]||(O[33]=[s("i",{class:"fas fa-undo"},null,-1),J(" THU HI",-1)])],8,Bx)])]))),128))])):y.value==="sell_sys"?(v(),m("div",qx,[V.value.length===0?(v(),m("div",Fx,[...O[34]||(O[34]=[s("i",{class:"fas fa-box-open"},null,-1),s("p",null,"Hnh trang trng.",-1)])])):W("",!0),(v(!0),m(Ce,null,Re(V.value,F=>(v(),m("div",{key:F.userItemId,class:"item-card sell-card"},[s("div",Gx,[s("div",{class:X(["img-frame small","border-"+(F.item.rarity||"COMMON")])},[s("img",{src:H(He)(F.item.imageUrl),onError:se},null,40,Vx),s("span",jx,"x"+_(F.quantity),1)],2)]),s("div",Kx,[s("div",{class:X(["item-name","text-"+(F.item.rarity||"COMMON")])},_(F.item.name),3),s("div",Wx,[O[36]||(O[36]=s("span",{class:"label"},"Thu mua:",-1)),s("span",zx,[J(_(w(F.item.basePrice*.8))+" ",1),O[35]||(O[35]=s("i",{class:"fas fa-coins"},null,-1))])])]),s("div",Xx,[$e(s("input",{type:"number","onUpdate:modelValue":Se=>p[F.userItemId]=Se,min:"1",max:F.quantity,class:"dark-input",placeholder:"All"},null,8,Yx),[[Te,p[F.userItemId],void 0,{number:!0}]]),F.isEquipped?(v(),m("div",Qx,"ANG DNG")):(v(),m("button",{key:0,onClick:Se=>T(F),class:"btn-action btn-sell"},"BN",8,Jx))])]))),128))])):W("",!0)]),_:1})])]),s("div",Zx,[fe(cd,{name:"toast-anim"},{default:ke(()=>[(v(!0),m(Ce,null,Re(i.value,F=>(v(),m("div",{key:F.id,class:X(["wuxia-toast",F.type])},[s("div",eN,[F.type==="success"?(v(),m("i",tN)):F.type==="error"?(v(),m("i",sN)):(v(),m("i",nN))]),s("div",oN,[s("div",iN,_(F.message),1)])],2))),128))]),_:1})]),fe(Ge,{name:"pop-up"},{default:ke(()=>[j.visible?(v(),m("div",{key:0,class:"modal-overlay",onClick:Ze(k,["self"])},[s("div",aN,[s("div",rN,[O[37]||(O[37]=s("div",{class:"bill-seal"},"KH C",-1)),s("h3",null,_(j.type==="SELL"?"XC NHN BN":"XC NHN MUA"),1)]),s("div",lN,[s("div",cN,[s("div",uN,[s("img",{src:H(He)(j.data.imgCode),onError:se},null,40,dN)]),s("div",fN,[s("div",hN,_(j.data.name),1),s("div",pN,_(xe(j.type)),1)])]),s("div",vN,[s("div",mN,[O[38]||(O[38]=s("span",null,"n gi:",-1)),s("span",null,_(w(j.data.price)),1)]),s("div",gN,[O[39]||(O[39]=s("span",null,"S lng:",-1)),s("span",null,"x "+_(j.data.qty),1)]),O[41]||(O[41]=s("div",{class:"divider-dashed"},null,-1)),s("div",yN,[s("span",null,_(j.type==="SELL"?"THC LNH:":"THANH TON:"),1),s("span",bN,[J(_(w(j.data.total))+" ",1),O[40]||(O[40]=s("i",{class:"fas fa-coins"},null,-1))])])])]),s("div",{class:"bill-footer"},[s("button",{class:"btn-wood cancel",onClick:k},"HY B"),s("button",{class:"btn-wood confirm",onClick:A},[...O[42]||(O[42]=[s("i",{class:"fas fa-fingerprint"},null,-1),J(" N NH",-1)])])])])])):W("",!0)]),_:1}),fe(Ge,{name:"pop-up"},{default:ke(()=>[l.visible?(v(),m("div",{key:0,class:"modal-overlay",onClick:Ze(f,["self"])},[s("div",_N,[O[43]||(O[43]=s("div",{class:"bill-header"},[s("div",{class:"bill-seal"},"CNH BO"),s("h3",null,"THNG BO")],-1)),s("div",wN,[s("p",null,_(l.message),1)]),s("div",{class:"bill-footer"},[s("button",{class:"btn-wood cancel",onClick:f},"HY B"),s("button",{class:"btn-wood confirm",onClick:u},"NG ")])])])):W("",!0)]),_:1})]))}},TN=Fe(CN,[["__scopeId","data-v-a4578efc"]]),EN={class:"page-container forge-page ancient-theme"},kN={class:"bg-layer"},SN={class:"forge-wrapper"},IN={class:"forge-layout"},xN={class:"inventory-panel wood-panel"},NN={class:"filter-tabs"},AN=["onClick"],RN={class:"item-grid custom-scroll"},LN=["onClick"],ON={class:"slot-img-box"},PN=["src"],MN={key:0,class:"equipped-badge"},HN={key:1,class:"level-badge"},UN={key:2,class:"level-badge"},DN={key:0,class:"empty-msg"},BN={class:"anvil-panel wood-panel custom-scroll"},qN={class:"anvil-zone"},FN={key:0,class:"main-slot"},GN=["src"],VN={key:1,class:"empty-anvil"},jN={key:0,class:"upgrade-info"},KN={class:"rank-badge"},WN={class:"level-compare"},zN={class:"lv-box curr"},XN={class:"val"},YN={class:"lv-box next"},JN={class:"val highlight"},QN={class:"stats-preview custom-scroll"},ZN={class:"stat-row main-stat"},eA={class:"stat-change"},tA={class:"old"},sA={class:"new"},nA={class:"val"},oA={class:"cost-section"},iA=["src"],aA={class:"rate-row"},rA={class:"high-rate"},lA={class:"actions-group"},cA=["disabled"],uA={key:0},dA={key:1},fA=["disabled"],hA={key:0},pA={key:1},vA={key:2,class:"btn-forge disabled",disabled:""},mA={key:0,class:"error-text"},gA={class:"result-body"},yA={class:"result-desc"},bA="https://htkhang111.github.io/background/b_doanhtrai.png",_A={__name:"Forge",setup(e){const t=ts(),n=Qe(),o=Ft(),i=Br(),a=M(null),r=M(!1),l=()=>{const $=new Date().getHours();r.value=$>=18||$<6},c=M(null),f=M(!1),u=M(!1),d=M(""),h=M(""),y=M("ALL"),p=pe(()=>{const $=t.items||[];if(!Array.isArray($))return[];let k=$.filter(A=>A.item&&["WEAPON","ARMOR","HELMET","BOOTS","RING","NECKLACE"].includes(A.item.type));return y.value==="WEAPON"?k=k.filter(A=>A.item.type==="WEAPON"):y.value==="ARMOR"?k=k.filter(A=>["ARMOR","HELMET","BOOTS"].includes(A.item.type)):y.value==="ACCESSORY"&&(k=k.filter(A=>["RING","NECKLACE"].includes(A.item.type))),k.sort((A,Y)=>A.isMythic!==Y.isMythic?Y.isMythic?1:-1:Y.enhanceLevel-A.enhanceLevel)}),b=pe(()=>{if(!c.value||!c.value.subStats)return[];try{const $=c.value.subStats;return typeof $=="string"?JSON.parse($):$}catch{return[]}}),C=pe(()=>{if(!c.value)return{gold:0,materials:[]};const $=c.value;if($.isMythic){const K=($.mythicStars||0)+1,F={1:{gold:1e6,coin:1},2:{gold:2e6,coin:2},3:{gold:35e5,coin:3},4:{gold:5e6,coin:5},5:{gold:75e5,coin:7},6:{gold:1e7,coin:10},7:{gold:15e6,coin:15},8:{gold:2e7,coin:20},9:{gold:3e7,coin:30},10:{gold:5e7,coin:50}}[K]||{gold:0,coin:0};return{gold:F.gold,materials:[{name:"Echo Coin",qty:F.coin,img:"r_echo_coin.png"}]}}const k=$.enhanceLevel+1,A=k*1e3;let Y=[];if(k<=10){const K=k*15,O=k*5;$.item.type==="WEAPON"?Y.push({name:"Qung ng",qty:K,img:"o_copper.png"}):Y.push({name:"Than",qty:K,img:"o_coal.png"}),Y.push({name:"G Si",qty:O,img:"w_wood.png"})}else if(k<=20){const K=k-10,O=K*15,F=K*5;Y.push({name:"St",qty:O,img:"o_iron.png"}),Y.push({name:"G Kh",qty:F,img:"w_wood-red.png"})}else{const K=k-20,O=K*20,F=K*10;Y.push({name:"Bch Kim",qty:O,img:"o_platinum.png"}),Y.push({name:"G Lnh",qty:F,img:"w_wood-white.png"})}return{gold:A,materials:Y}}),x=pe(()=>{var k;return(((k=n.wallet)==null?void 0:k.gold)||0)>=C.value.gold}),I=$=>{if(!t.items)return 0;const k=t.items.find(A=>A.item.name===$);return k?k.quantity:0},G=()=>{var A,Y,K;const $=C.value;if(!x.value){const O=$.gold-(((A=n.wallet)==null?void 0:A.gold)||0);return(Y=a.value)==null||Y.show(`Thiu ${Q(O)} Vng!`,"error"),!1}const k=[];return $.materials.forEach(O=>{const F=I(O.name);F<O.qty&&k.push(`${O.name} (thiu ${O.qty-F})`)}),k.length>0?((K=a.value)==null||K.show(`Khng  nguyn liu: ${k.join(", ")}`,"error"),!1):!0},j=$=>{if(!$.isMythic)return 100;const k=($.mythicStars||0)+1;return{1:100,2:80,3:60,4:50,5:40,6:30,7:20,8:15,9:10,10:5}[k]||0},P=$=>{f.value||(c.value=$,h.value="")},w=async()=>{var $,k,A;if(!(!c.value||f.value)&&G()){f.value=!0,h.value="";try{const Y=`/equipment/enhance/${c.value.userItemId}`;await ye.post(Y),await Promise.all([t.fetchInventory(),o.fetchCharacter(),n.fetchProfile(),i.refresh()]);const K=t.items.find(O=>O.userItemId===c.value.userItemId);c.value=K||null,se(`Cng ha ln +${c.value.enhanceLevel} thnh cng!`)}catch(Y){console.error(Y),h.value=((k=($=Y.response)==null?void 0:$.data)==null?void 0:k.message)||((A=Y.response)==null?void 0:A.data)||"Li h thng hoc thiu nguyn liu (Server check)."}finally{f.value=!1}}},S=async()=>{var $,k,A;if(!(!c.value||f.value)&&G()){f.value=!0,h.value="";try{const Y=`/equipment/enhance-mythic-star/${c.value.userItemId}`;await ye.post(Y),await Promise.all([t.fetchInventory(),o.fetchCharacter(),n.fetchProfile()]);const K=t.items.find(O=>O.userItemId===c.value.userItemId);c.value=K||null,se("Thng cp Thn thoi thnh cng!")}catch(Y){console.error(Y),h.value=((k=($=Y.response)==null?void 0:$.data)==null?void 0:k.message)||((A=Y.response)==null?void 0:A.data)||"Tht bi."}finally{f.value=!1}}},se=$=>{d.value=$,u.value=!0},D=()=>{u.value=!1,h.value=""},Q=$=>Number($||0).toLocaleString(),te=$=>{if(!$)return 0;const k=$.originalMainStatValue||$.mainStatValue;if($.isMythic)return Math.floor($.mainStatValue*1.1);const A=$.enhanceLevel;return Math.floor(k*(1+(A+1)*.1))},V=$=>({ATK_FLAT:"Cng",ATK_PERCENT:"Cng %",HP_FLAT:"Mu",CRIT_RATE:"Ch Mng",CRIT_DMG:"ST.Ch Mng",SPEED:"Tc ",DEF_FLAT:"Th",DEF_PERCENT:"Th %"})[$]||$,ue=$=>$.isMythic?"mythic":$.item.rarity?$.item.rarity.toLowerCase():"common",xe=$=>$.isMythic?"text-mythic":$.item.rarity?`text-${$.item.rarity.toLowerCase()}`:"text-common",Ae=$=>({COMMON:"Thng",UNCOMMON:"Phm",RARE:"Him",EPIC:"S Thi",LEGENDARY:"Huyn Thoi",MYTHIC:"Thn Thoi"})[$]||$,q=$=>({ALL:"Tt c",WEAPON:"V kh",ARMOR:"Gip tr",ACCESSORY:"Trang sc"})[$]||$,T=$=>{$.target.src=He("default_item.png")};return at(async()=>{l(),n.token&&(await n.fetchProfile(),await t.fetchInventory(),await o.fetchCharacter())}),($,k)=>{var A;return v(),m("div",EN,[s("div",kN,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${bA})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":r.value}])},null,2),k[1]||(k[1]=s("div",{class:"vignette"},null,-1))]),s("div",SN,[k[17]||(k[17]=Ot('<div class="forge-header" data-v-62454261><div class="header-ornament left" data-v-62454261></div><h2 class="title-ancient" data-v-62454261><i class="fas fa-hammer" data-v-62454261></i> THN BINH CC </h2><div class="header-ornament right" data-v-62454261></div></div>',1)),s("div",IN,[s("div",xN,[k[4]||(k[4]=s("div",{class:"panel-title"},[s("i",{class:"fas fa-dungeon"}),J(" KHO TRANG B ")],-1)),s("div",NN,[(v(),m(Ce,null,Re(["ALL","WEAPON","ARMOR","ACCESSORY"],Y=>s("span",{key:Y,class:X(["filter-tab",{active:y.value===Y}]),onClick:K=>y.value=Y},_(q(Y)),11,AN)),64))]),s("div",RN,[(v(!0),m(Ce,null,Re(p.value,Y=>{var K;return v(),m("div",{key:Y.userItemId,class:X(["item-slot",{selected:((K=c.value)==null?void 0:K.userItemId)===Y.userItemId,"border-mythic":Y.isMythic,[ue(Y)]:!0}]),onClick:O=>P(Y)},[s("div",ON,[s("img",{src:H(He)(Y.item.image||Y.item.imageUrl),onError:T,class:"item-img-display"},null,40,PN),Y.isEquipped?(v(),m("div",MN,[...k[2]||(k[2]=[s("i",{class:"fas fa-shield-alt"},null,-1)])])):W("",!0),Y.isMythic?(v(),m("div",HN," M"+_(Y.mythicStars||0),1)):Y.enhanceLevel>0?(v(),m("div",UN," +"+_(Y.enhanceLevel),1)):W("",!0)])],10,LN)}),128)),p.value.length===0?(v(),m("div",DN,[...k[3]||(k[3]=[s("i",{class:"fas fa-box-open"},null,-1),J(" Khng c trang b ph hp ",-1)])])):W("",!0)])]),s("div",BN,[s("div",qN,[k[16]||(k[16]=s("div",{class:"fire-particles"},null,-1)),s("div",{class:X(["main-slot-container",{shaking:f.value,"mythic-glow-anim":(A=c.value)==null?void 0:A.isMythic}])},[c.value?(v(),m("div",FN,[s("img",{src:H(He)(c.value.item.image||c.value.item.imageUrl)},null,8,GN),k[5]||(k[5]=s("div",{class:"glow-ring"},null,-1))])):(v(),m("div",VN,[...k[6]||(k[6]=[s("i",{class:"fas fa-hammer"},null,-1),s("p",null,"Chn trang b",-1)])]))],2),fe(Ge,{name:"fade"},{default:ke(()=>[c.value?(v(),m("div",jN,[s("h3",{class:X(["item-title-large",xe(c.value)])},[J(_(c.value.item.name)+" ",1),s("span",KN,_(Ae(c.value.item.rarity)),1)],2),s("div",WN,[s("div",zN,[k[7]||(k[7]=s("span",{class:"label"},"Hin ti",-1)),s("span",XN,_(c.value.isMythic?"M"+(c.value.mythicStars||0):"+"+c.value.enhanceLevel),1)]),k[9]||(k[9]=s("div",{class:"arrow-anim"},[s("i",{class:"fas fa-angle-double-right"})],-1)),s("div",YN,[k[8]||(k[8]=s("span",{class:"label"},"Sau khi rn",-1)),s("span",JN,_(c.value.isMythic?"M"+((c.value.mythicStars||0)+1):"+"+(c.value.enhanceLevel+1)),1)])]),s("div",QN,[s("div",ZN,[s("span",null,_(V(c.value.mainStatType)),1),s("div",eA,[s("span",tA,_(Q(c.value.mainStatValue)),1),k[10]||(k[10]=s("i",{class:"fas fa-arrow-right"},null,-1)),s("span",sA,_(Q(te(c.value))),1)])]),(v(!0),m(Ce,null,Re(b.value,(Y,K)=>(v(),m("div",{key:K,class:"stat-row sub-stat"},[k[11]||(k[11]=s("span",{class:"sub-dot"},"",-1)),s("span",null,_(V(Y.code)),1),s("span",nA,"+"+_(Q(Y.value))+_(Y.isPercent?"%":""),1)]))),128))]),s("div",oA,[s("div",{class:X(["resource-row",{"not-enough":!x.value}])},[k[12]||(k[12]=s("i",{class:"fas fa-coins text-gold"},null,-1)),s("span",null,_(Q(C.value.gold))+" Vng",1)],2),(v(!0),m(Ce,null,Re(C.value.materials,(Y,K)=>(v(),m("div",{class:X(["resource-row",{"not-enough":I(Y.name)<Y.qty}]),key:K},[s("img",{src:H(He)(Y.img),class:"mat-icon",onError:T},null,40,iA),s("span",null,_(I(Y.name))+"/"+_(Y.qty)+" "+_(Y.name),1)],2))),128)),s("div",aA,[k[13]||(k[13]=J(" T l: ",-1)),s("span",rA,_(j(c.value))+"%",1)])]),s("div",lA,[!c.value.isMythic&&c.value.enhanceLevel<30?(v(),m("button",{key:0,class:"btn-forge",onClick:w,disabled:f.value},[f.value?(v(),m("span",dA,[...k[14]||(k[14]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),J(" ANG RN...",-1)])])):(v(),m("span",uA,"CNG HA"))],8,cA)):W("",!0),c.value.isMythic?(v(),m("button",{key:1,class:"btn-mythic-upgrade",onClick:S,disabled:f.value||(c.value.mythicStars||0)>=10},[f.value?(v(),m("span",pA,"ANG HP TH...")):(v(),m("span",hA,"THNG CP THN"))],8,fA)):W("",!0),!c.value.isMythic&&c.value.enhanceLevel>=30?(v(),m("button",vA," MAX LEVEL ")):W("",!0)]),h.value?(v(),m("div",mA,[k[15]||(k[15]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),J(" "+_(h.value),1)])):W("",!0)])):W("",!0)]),_:1})])])])]),fe(Ge,{name:"pop-up"},{default:ke(()=>[u.value?(v(),m("div",{key:0,class:"result-overlay",onClick:D},[s("div",{class:"result-card success",onClick:k[0]||(k[0]=Ze(()=>{},["stop"]))},[k[19]||(k[19]=s("div",{class:"result-header"},[s("div",{class:"result-icon-circle"},[s("i",{class:"fas fa-check"})])],-1)),s("div",gA,[k[18]||(k[18]=s("h2",{class:"result-title"},"THNH CNG!",-1)),s("p",yA,_(d.value),1)]),s("button",{class:"btn-confirm",onClick:D},"XC NHN")])])):W("",!0)]),_:1}),fe(Ii,{ref_key:"toast",ref:a},null,512)])}}},wA=Fe(_A,[["__scopeId","data-v-62454261"]]),$A={class:"page-container mythic-page"},CA={class:"mythic-wrapper"},TA={class:"content-layout"},EA={class:"inventory-panel glass-panel"},kA={class:"item-grid custom-scroll"},SA=["onClick"],IA=["src"],xA={class:"lv-badge"},NA={key:0,class:"empty-text"},AA={class:"evolution-panel glass-panel"},RA={key:0,class:"evolution-active"},LA={class:"item-display"},OA={class:"item-box glowing-border"},PA=["src"],MA={class:"item-name text-legendary"},HA={class:"cost-grid"},UA=["src"],DA={class:"current-qty"},BA=["src"],qA={class:"current-qty"},FA=["src"],GA={class:"current-qty"},VA=["disabled"],jA={key:0},KA={key:1},WA={key:0,class:"error-msg"},zA={key:1,class:"placeholder-text"},XA={class:"result-box"},YA={__name:"EvolveMythic",setup(e){const t=ts(),n=Qe(),o=M(null),i=M(!1),a=M(!1),r=M(""),l=pe(()=>(t.items||[]).filter(C=>C.item.rarity==="LEGENDARY"&&C.enhanceLevel>=30&&!C.isMythic)),c=C=>{const x=t.items.find(I=>I.item.itemId===C);return x?x.quantity:0},f=(C,x)=>c(C)>=x,u=pe(()=>{var C;return{gold:(((C=n.wallet)==null?void 0:C.gold)||0)>=1e6,mat1:f(4,500),mat2:f(12,200),mat3:f(11,5)}}),d=pe(()=>{const C=u.value;return C.gold&&C.mat1&&C.mat2&&C.mat3}),h=C=>{o.value=C,r.value=""},y=async()=>{var C,x;if(o.value){i.value=!0,r.value="";try{await ye.post(`/equipment/evolve-mythic/${o.value.userItemId}`),await Promise.all([t.fetchInventory(),n.fetchProfile()]),a.value=!0}catch(I){console.error(I),r.value=((x=(C=I.response)==null?void 0:C.data)==null?void 0:x.message)||"Tin ha tht bi!"}finally{i.value=!1}}},p=()=>{a.value=!1,o.value=null},b=C=>{C.target.src=He("default_item.png")};return at(async()=>{await Promise.all([t.fetchInventory(),n.fetchProfile()])}),(C,x)=>(v(),m("div",$A,[x[9]||(x[9]=s("div",{class:"bg-layer"},null,-1)),s("div",CA,[x[6]||(x[6]=s("div",{class:"header-section"},[s("h2",{class:"title-mythic"},"THN IN - MYTHIC SANCTUARY"),s("p",{class:"subtitle"},"Ni phm kh chuyn ha thnh thn kh")],-1)),s("div",TA,[s("div",EA,[x[0]||(x[0]=s("div",{class:"panel-header"},[s("i",{class:"fas fa-dragon"}),J(" VT PHM  IU KIN ")],-1)),s("div",kA,[(v(!0),m(Ce,null,Re(l.value,I=>{var G;return v(),m("div",{key:I.userItemId,class:X(["item-slot legendary-glow",{selected:((G=o.value)==null?void 0:G.userItemId)===I.userItemId}]),onClick:j=>h(I)},[s("img",{src:H(He)(I.item.image||I.item.imageUrl),onError:b},null,40,IA),s("span",xA,"+"+_(I.enhanceLevel),1)],10,SA)}),128)),l.value.length===0?(v(),m("div",NA," Cha c trang b Huyn Thoi +30 no. ")):W("",!0)])]),s("div",AA,[o.value?(v(),m("div",RA,[s("div",LA,[s("div",OA,[s("img",{src:H(He)(o.value.item.image||o.value.item.imageUrl),class:"main-img"},null,8,PA)]),s("h3",MA,_(o.value.item.name),1)]),x[5]||(x[5]=Ot('<div class="arrow-down" data-v-9ae38d88><i class="fas fa-arrow-down" data-v-9ae38d88></i></div><div class="mythic-preview" data-v-9ae38d88><span class="mythic-label" data-v-9ae38d88>MYTHIC</span><div class="stat-boost" data-v-9ae38d88> Tt c ch s: <span class="boost-val" data-v-9ae38d88>+0.5% ~ 1.0%</span></div></div>',2)),s("div",HA,[s("div",{class:X(["cost-item",{missing:!u.value.gold}])},[...x[1]||(x[1]=[s("i",{class:"fas fa-coins text-gold"},null,-1),s("span",null,"1,000,000 Vng",-1)])],2),s("div",{class:X(["cost-item",{missing:!f(4,500)}])},[s("img",{src:H(He)("r_black_wood.png"),class:"icon-sm"},null,8,UA),x[2]||(x[2]=s("span",null,"500 G L",-1)),s("span",DA,"("+_(c(4))+")",1)],2),s("div",{class:X(["cost-item",{missing:!f(12,200)}])},[s("img",{src:H(He)("r_mystrile_node.png"),class:"icon-sm"},null,8,BA),x[3]||(x[3]=s("span",null,"200 Nguyn liu l",-1)),s("span",qA,"("+_(c(12))+")",1)],2),s("div",{class:X(["cost-item",{missing:!f(11,5)}])},[s("img",{src:H(He)("r_echo_coin.png"),class:"icon-sm"},null,8,FA),x[4]||(x[4]=s("span",null,"5 Echo Coin",-1)),s("span",GA,"("+_(c(11))+")",1)],2)]),s("button",{class:"btn-evolve glitch-btn",onClick:y,disabled:i.value||!d.value},[i.value?(v(),m("span",KA,"ANG CHUYN HA...")):(v(),m("span",jA,"KHI NG TRN PHP"))],8,VA),r.value?(v(),m("p",WA,_(r.value),1)):W("",!0)])):(v(),m("div",zA," Chn vt phm bn tri  xem chi tit "))])])]),fe(Ge,{name:"fade"},{default:ke(()=>{var I;return[a.value?(v(),m("div",{key:0,class:"result-overlay",onClick:p},[s("div",XA,[x[7]||(x[7]=s("h1",{class:"mythic-title"},"THN KH GING LM!",-1)),x[8]||(x[8]=s("div",{class:"mythic-icon-box"},[s("i",{class:"fas fa-dragon"})],-1)),s("p",null," Chc mng! "+_((I=o.value)==null?void 0:I.item.name)+"  t cnh gii Thn Thoi. ",1),s("button",{class:"btn-confirm",onClick:p},"NHN")])])):W("",!0)]}),_:1})]))}},JA=Fe(YA,[["__scopeId","data-v-9ae38d88"]]),QA={class:"page-container wuxia-dashboard"},ZA={class:"bg-layer"},eR={class:"dashboard-wrapper"},tR={class:"command-header wood-panel"},sR={class:"header-right"},nR={class:"wealth-bar"},oR={class:"wealth-item"},iR={class:"amt gold-txt"},aR={class:"wealth-item",style:{"margin-left":"15px"}},rR={class:"amt rank-txt"},lR={class:"pvp-stage-container wood-panel-content"},cR={key:0,class:"lobby-layout"},uR={class:"sidebar-col"},dR={class:"inner-wood-box"},fR={key:0,class:"lb-loading"},hR={key:1,class:"lb-mini-list custom-scroll"},pR={class:"item-avatar small"},vR=["src"],mR={class:"item-info"},gR={class:"item-name"},yR={class:"item-val"},bR={class:"rank-badge"},_R={class:"rep-val"},wR={key:0,class:"lb-empty"},$R={class:"main-col"},CR={class:"hero-card-wide"},TR={class:"hero-visual"},ER={class:"avatar-frame gold-border large"},kR=["src"],SR={class:"level-tag"},IR={class:"val"},xR={class:"hero-name"},NR={class:"hero-rank-display"},AR={class:"action-area"},RR={key:0,class:"btn-group"},LR={key:1,class:"searching-state"},OR={key:2,class:"match-popup-embed"},PR={class:"enemy-preview-row"},MR={class:"preview-avatar"},HR=["src"],UR={class:"preview-info"},DR={class:"popup-actions-row"},BR=["disabled"],qR={key:1,class:"battle-arena-frame"},FR={key:0,class:"floating-log-panel custom-scroll"},GR={class:"log-header"},VR={class:"log-content"},jR={class:"timer-value"},KR={class:"fighters-stage"},WR={class:"fighter left-side player"},zR={class:"sprite-container"},XR=["src"],YR={class:"hud player-hud"},JR={class:"hud-row"},QR={class:"f-name"},ZR={class:"f-lv"},e3={class:"hp-track"},t3={class:"hp-text"},s3={class:"fighter right-side enemy"},n3={class:"hud enemy-hud"},o3={class:"hud-row"},i3={class:"f-name"},a3={class:"f-lv"},r3={class:"hp-track"},l3={class:"hp-text"},c3={class:"sprite-container"},u3=["src"],d3={key:0,class:"clash-visual"},f3={class:"battle-controls"},h3={class:"chat-section"},p3={class:"sender"},v3={class:"chat-input-area"},m3={class:"actions-section"},g3={key:0,class:"rps-grid-simple"},y3=["disabled"],b3=["disabled"],_3=["disabled"],w3={key:1,class:"status-overlay"},$3={class:"spinner-box"},C3={key:0,class:"fas fa-yin-yang fa-spin"},T3={key:0,class:"endgame-modal-overlay"},E3={class:"endgame-title"},k3={class:"endgame-desc"},S3={key:0,class:"reward-box"},I3={class:"reward-row"},x3={class:"auto-back-timer"},Ws="http://localhost:8080/api/pvp",N3={__name:"PvpArena",setup(e){const t=Qe(),n=Dr(),o=re=>(Bs[re]||Bs.skin_yasou).sprites.idle,i=re=>re?re.startsWith("/uploads/")?`http://localhost:8080${re}`:re.includes("http")||re.startsWith("data:")?re:o(re):o("skin_yasou"),a=pe(()=>{var re,ce;return((re=t.character)==null?void 0:re.name)||((ce=t.user)==null?void 0:ce.username)||"i Hip"}),r=pe(()=>{var re;return((re=t.character)==null?void 0:re.level)||1}),l=pe(()=>{var re;return((re=t.character)==null?void 0:re.reputation)||0}),c=pe(()=>{var re;return((re=t.character)==null?void 0:re.rankTitle)||"V Danh"}),f=pe(()=>{var re;return o((re=t.user)==null?void 0:re.avatarUrl)}),u=pe(()=>o(q.value)),d=pe(()=>h.value==="BATTLE"?"https://images.unsplash.com/photo-1535581652167-3d6b98c365b2?q=80&w=1920&auto=format&fit=crop":"https://htkhang111.github.io/background/b_doanhtrai.png"),h=M("LOBBY"),y=M(null),p=M("RPS_WAIT"),b=M(30),C=M(""),x=M(!1),I=M(!1),G=M(!1),j=M(0),P=M(10),w=M(new Set),S=M(!1),se=M(!1),D=M(""),Q=M(""),te=M(5);let V=null;const ue=M(0),xe=M("i th"),Ae=M(1),q=M(null),T=M(100),$=M(100),k=M(100),A=M(100),Y=M(!1),K=M(!1),O=M([]),F=M([]),Se=M(""),Le=M(null),ee=M(null),he=M(null),de=M(-1),be=M(!1);let Ne,E,N,U,oe;const ie=()=>({Authorization:`Bearer ${t.token}`}),ne=(re,ce)=>!ce||ce<=0?0:Math.max(0,Math.min(100,re/ce*100)),_e=re=>{var z,g;return Number(((z=t.character)==null?void 0:z.charId)||((g=t.character)==null?void 0:g.id)||0)===Number(re.p1Id)},ge=re=>{const ce=_e(re);xe.value=(ce?re.p2Name:re.p1Name)||"i th",Ae.value=(ce?re.p2Level:re.p1Level)||1,q.value=ce?re.p2AvatarUrl:re.p1AvatarUrl},ve=async()=>{await t.fetchCharacter(),await n.fetchPvPBoard()},ae=()=>{h.value="LOBBY",y.value=null,B(),O.value=[],F.value=[],p.value="RPS_WAIT",G.value=!1,be.value=!1,de.value=-1,x.value=!1,S.value=!1,ue.value=0,V&&clearInterval(V)},B=()=>{E&&clearInterval(E),N&&clearInterval(N),U&&clearInterval(U),Ne&&(clearInterval(Ne),Ne=null),oe&&clearTimeout(oe),V&&clearInterval(V)},R=async()=>{if(ae(),await t.fetchCharacter(),t.character){const re=t.character.reputation||0;localStorage.setItem("pvp_start_rep",re)}h.value="SEARCHING",j.value=0,E=setInterval(()=>j.value++,1e3);try{await et.post(`${Ws}/find`,{},{headers:ie()}),Ue()}catch(re){console.error(re),ae()}},me=async()=>{try{await et.post(`${Ws}/cancel`,{},{headers:ie()})}catch{}ae()},Ee=async()=>{if(y.value){x.value=!0;try{await et.post(`${Ws}/accept`,{matchId:y.value},{headers:ie()})}catch{}}},le=async re=>{if(!(G.value||be.value)){G.value=!0,p.value="RPS_PENDING";try{await et.post(`${Ws}/move`,{matchId:y.value,move:re},{headers:ie()})}catch{G.value=!1}}},Me=async()=>{if(confirm("Xc nhn thot trn (Tnh thua)?"))try{await et.post(`${Ws}/surrender`,{matchId:y.value},{headers:ie()})}catch{}},Ue=()=>{Ne||(Ne=setInterval(async()=>{var re,ce;try{const g=(await et.get(`${Ws}/status`,{headers:ie()})).data;if(!g||g.matchId&&w.value.has(Number(g.matchId)))return;if(g.status==="FINISHED"){if(h.value==="LOBBY"||h.value==="SEARCHING"){g.matchId&&w.value.add(Number(g.matchId));return}if(!S.value){const Ie=Number(((re=t.character)==null?void 0:re.charId)||((ce=t.character)==null?void 0:ce.id)||0),L=g.winnerId!==null?Number(g.winnerId):null;tt(g);const qe=be.value?3e3:500;setTimeout(async()=>{var jr;B(),await t.fetchCharacter();const kt=((jr=t.character)==null?void 0:jr.reputation)||0,Fr=localStorage.getItem("pvp_start_rep"),hh=Fr?Number(Fr):kt;ue.value=kt-hh;const Gr=L===Ie;se.value=Gr;const Ui=(g.lastLog||"").toLowerCase(),Vr=Ui.includes("u hng"),ph=Ui.includes("ht gi")||Ui.includes("thot");L===null?(D.value="HA",Q.value="Lng bi cu thng!"):Gr?(D.value="CHIN THNG",Q.value=Vr?"i th  u hng!":"Bn  nh bi i th!"):(D.value="THT BI",Q.value=Vr?"Bn  u hng!":ph?"Ht gi, bn b x thua!":"Bn  b nh bi..."),S.value=!0,n.fetchPvPBoard(),g.matchId&&w.value.add(Number(g.matchId)),te.value=5,V=setInterval(()=>{te.value--,te.value<=0&&Ve()},1e3)},qe)}return}g.status==="PENDING"?h.value!=="MATCH_FOUND"&&h.value!=="BATTLE"&&(h.value="MATCH_FOUND",y.value=g.matchId,E&&clearInterval(E),ge(g),x.value||(P.value=10,N&&clearInterval(N),N=setInterval(()=>{P.value--,P.value<=0&&!x.value&&ae()},1e3))):g.status==="ACTIVE"&&(h.value!=="BATTLE"&&(h.value="BATTLE",y.value=g.matchId,N&&clearInterval(N),it()),tt(g))}catch{}},1e3))},Ve=()=>{S.value=!1,ae()},tt=re=>{ge(re);const ce=_e(re),z=ce?re.p1Hp:re.p2Hp,g=ce?re.p2Hp:re.p1Hp;if(z<T.value&&(Y.value=!0,setTimeout(()=>Y.value=!1,300)),g<k.value&&(K.value=!0,setTimeout(()=>K.value=!1,300)),T.value=z,k.value=g,$.value=ce?re.p1MaxHp:re.p2MaxHp,A.value=ce?re.p2MaxHp:re.p1MaxHp,re.messages&&re.messages.length>F.value.length&&(re.messages.slice(F.value.length).forEach(qe=>F.value.push({sender:qe.senderName,text:qe.content,isMe:(_e(re)?re.p1Id:re.p2Id)==qe.senderId})),Xt(()=>{Le.value&&(Le.value.scrollTop=Le.value.scrollHeight)})),be.value)return;const Ie=re.turnCount;if(re.lastP1Move&&re.lastP2Move&&Ie>de.value){if(be.value=!0,de.value=Ie,G.value=!1,ee.value=ce?re.lastP1Move:re.lastP2Move,he.value=ce?re.lastP2Move:re.lastP1Move,re.lastLog){O.value.push(re.lastLog);const qe=re.lastLog.toUpperCase();qe.includes("N")?C.value="N N!":qe.includes("CH MNG")?C.value="BO KCH!":qe.includes("HA")||qe.includes("XUNG KHC")?C.value="XUNG KHC!":C.value="TRNG!"}p.value="RPS_REVEAL",oe=setTimeout(()=>{be.value=!1,p.value="RPS_WAIT",b.value=30},3e3)}else{const qe=ce?re.p1Move:re.p2Move;p.value=qe&&qe!=="HIDDEN"?"RPS_PENDING":"RPS_WAIT"}},it=()=>{U&&clearInterval(U),U=setInterval(()=>{b.value>0&&b.value--},1e3)},We=async()=>{if(Se.value.trim()){try{await et.post(`${Ws}/chat`,{matchId:y.value,message:Se.value},{headers:ie()})}catch{}Se.value=""}},dt=re=>({ROCK:"fas fa-hand-rock",PAPER:"fas fa-hand-paper",SCISSORS:"fas fa-hand-scissors"})[re]||"fas fa-question",xt=(re,ce,z)=>{if(!re||!ce)return"";if(re===ce)return"anim-clash";let g=re==="ROCK"&&ce==="SCISSORS"||re==="SCISSORS"&&ce==="PAPER"||re==="PAPER"&&ce==="ROCK";return z?g?"anim-smash-win":"anim-lose":g?"anim-lose":"anim-smash-win"},ut=re=>re==="N N!"?"res-dodge":re==="BO KCH!"?"res-crit":re==="XUNG KHC!"?"res-clash":"res-normal";return at(()=>{t.fetchCharacter(),n.fetchPvPBoard(),window.addEventListener("keydown",re=>{document.activeElement.tagName!=="INPUT"&&re.key.toLowerCase()==="l"&&(re.preventDefault(),I.value=!I.value)}),Ue()}),Pt(()=>B()),(re,ce)=>{var z;return v(),m("div",QA,[s("div",ZA,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${d.value})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":!1}])}),ce[6]||(ce[6]=s("div",{class:"vignette"},null,-1))]),s("div",eR,[s("div",tR,[ce[10]||(ce[10]=Ot('<div class="header-left" data-v-715d9d97><div class="server-tag" data-v-715d9d97><span class="status-orb red" data-v-715d9d97></span><span class="server-txt" data-v-715d9d97>KHU VC: T V I</span></div><div class="char-block" data-v-715d9d97><div class="char-text" data-v-715d9d97><span class="greet-txt" data-v-715d9d97><i class="fas fa-fist-raised" data-v-715d9d97></i> Lun Kim Giang H</span><h1 class="char-name" data-v-715d9d97>V I TRANH HNG</h1></div></div></div>',1)),s("div",sR,[s("div",nR,[s("div",oR,[ce[7]||(ce[7]=s("span",{class:"lbl"},"DANH VNG:",-1)),s("span",iR,_(l.value),1)]),s("div",aR,[ce[8]||(ce[8]=s("span",{class:"lbl"},"DANH HIU:",-1)),s("span",rR,_(c.value),1)])]),ce[9]||(ce[9]=s("div",{class:"weather-seal"},[s("i",{class:"fas fa-dragon"})],-1))])]),s("div",lR,[h.value!=="BATTLE"?(v(),m("div",cR,[s("div",uR,[s("div",dR,[ce[12]||(ce[12]=s("div",{class:"box-header"},[s("i",{class:"fas fa-scroll"}),J(" CAO TH GIANG H ")],-1)),H(n).loadingPvp?(v(),m("div",fR,[...ce[11]||(ce[11]=[s("i",{class:"fas fa-yin-yang fa-spin"},null,-1),J(" ang tra cu... ",-1)])])):(v(),m("div",hR,[(v(!0),m(Ce,null,Re(H(n).topPvp,(g,Ie)=>(v(),m("div",{key:Ie,class:"lb-mini-item"},[s("div",{class:X(["item-rank","rank-"+(Ie+1)])},_(Ie+1),3),s("div",pR,[s("img",{src:i(g.avatarUrl),class:"pixel-art"},null,8,vR)]),s("div",mR,[s("div",gR,_(g.name),1),s("div",yR,[s("span",bR,_(g.rankTitle||"V Danh"),1),s("span",_R,"("+_(g.reputation)+" DV)",1)])])]))),128)),(z=H(n).topPvp)!=null&&z.length?W("",!0):(v(),m("div",wR," Cha c d liu... "))]))])]),s("div",$R,[s("div",CR,[ce[18]||(ce[18]=s("div",{class:"card-bg-pattern"},null,-1)),s("div",TR,[s("div",ER,[s("img",{src:f.value,class:"pixel-art"},null,8,kR),s("div",SR,[ce[13]||(ce[13]=s("span",{class:"lbl"},"CP",-1)),s("span",IR,_(r.value),1)])]),s("h2",xR,_(a.value),1),s("div",NR,_(c.value),1)]),s("div",AR,[h.value==="LOBBY"?(v(),m("div",RR,[s("button",{class:"wuxia-btn primary big pulse-anim",onClick:R},[...ce[14]||(ce[14]=[s("i",{class:"fas fa-swords"},null,-1),J(" TM I TH ",-1)])]),s("button",{class:"wuxia-btn gold-btn big",onClick:ve},[...ce[15]||(ce[15]=[s("i",{class:"fas fa-sync-alt"},null,-1),J(" CP NHT BXH ",-1)])])])):h.value==="SEARCHING"?(v(),m("div",LR,[ce[16]||(ce[16]=s("div",{class:"spinner-radar"},[s("i",{class:"fas fa-circle-notch fa-spin"})],-1)),s("p",null,"ang tm kim i th xng tm... ("+_(j.value)+"s)",1),s("button",{class:"wuxia-btn danger",onClick:me}," HY B ")])):W("",!0),h.value==="MATCH_FOUND"?(v(),m("div",OR,[ce[17]||(ce[17]=s("h3",null," I TH XUT HIN ",-1)),s("div",PR,[s("div",MR,[s("img",{src:u.value,class:"pixel-art"},null,8,HR)]),s("div",UR,[s("strong",null,_(xe.value),1),s("span",null,"Cp "+_(Ae.value),1)])]),s("div",DR,[s("button",{class:"wuxia-btn primary",onClick:Ee,disabled:x.value},_(x.value?"ANG CH I TH...":`CHP NHN CHIN (${P.value}s)`),9,BR)])])):W("",!0)])])])])):(v(),m("div",qR,[s("div",{class:"arena-background",style:Pe({backgroundImage:`url(${d.value})`})},null,4),s("div",{class:"log-overlay-btn",onClick:ce[0]||(ce[0]=g=>I.value=!I.value)},[...ce[19]||(ce[19]=[s("i",{class:"fas fa-book"},null,-1),J(" [L] ",-1)])]),fe(Ge,{name:"fade"},{default:ke(()=>[I.value?(v(),m("div",FR,[s("div",GR,[ce[20]||(ce[20]=J(" NHT K CHIN U ",-1)),s("span",{onClick:ce[1]||(ce[1]=g=>I.value=!1),class:"close-log"},"")]),s("div",VR,[(v(!0),m(Ce,null,Re(O.value.slice().reverse(),(g,Ie)=>(v(),m("div",{key:Ie,class:"log-line"},"  "+_(g),1))),128))])])):W("",!0)]),_:1}),s("div",{class:X(["top-timer-display",{urgent:b.value<=10}])},[s("div",jR,_(b.value),1)],2),s("div",KR,[s("div",WR,[s("div",zR,[s("img",{src:f.value,class:X(["char-img pixel-art",{"shake-hit":Y.value}])},null,10,XR),ce[21]||(ce[21]=s("div",{class:"shadow-oval"},null,-1))]),s("div",YR,[s("div",JR,[s("span",QR,_(a.value),1),s("span",ZR,"Lv."+_(r.value),1)]),s("div",e3,[s("div",t3,_(T.value)+" / "+_($.value),1),s("div",{class:"hp-fill",style:Pe({width:ne(T.value,$.value)+"%"})},null,4)])])]),s("div",s3,[s("div",n3,[s("div",o3,[s("span",i3,_(xe.value),1),s("span",a3,"Lv."+_(Ae.value),1)]),s("div",r3,[s("div",l3,_(k.value)+" / "+_(A.value),1),s("div",{class:"hp-fill",style:Pe({width:ne(k.value,A.value)+"%"})},null,4)])]),s("div",c3,[s("img",{src:u.value,class:X(["char-img pixel-art enemy-flip",{"shake-hit":K.value}])},null,10,u3),ce[22]||(ce[22]=s("div",{class:"shadow-oval"},null,-1))])]),be.value?(v(),m("div",d3,[s("div",{class:X(["move-card p1",xt(ee.value,he.value,!0)])},[s("i",{class:X(dt(ee.value))},null,2)],2),ce[23]||(ce[23]=s("div",{class:"clash-spark"},"",-1)),s("div",{class:X(["move-card p2",xt(ee.value,he.value,!1)])},[s("i",{class:X(dt(he.value))},null,2)],2),s("div",{class:X(["result-label",ut(C.value)])},_(C.value),3)])):W("",!0)]),s("div",f3,[s("div",h3,[s("div",{class:"chat-history custom-scroll",ref_key:"chatBoxRef",ref:Le},[(v(!0),m(Ce,null,Re(F.value,(g,Ie)=>(v(),m("div",{key:Ie,class:X(["chat-bubble",{me:g.isMe}])},[s("span",p3,_(g.sender)+":",1),J(" "+_(g.text),1)],2))),128))],512),s("div",v3,[$e(s("input",{"onUpdate:modelValue":ce[2]||(ce[2]=g=>Se.value=g),onKeyup:wn(We,["enter"]),placeholder:"Chat..."},null,544),[[Te,Se.value]]),s("button",{onClick:We},[...ce[24]||(ce[24]=[s("i",{class:"fas fa-paper-plane"},null,-1)])])])]),s("div",m3,[p.value==="RPS_WAIT"&&!be.value?(v(),m("div",g3,[s("button",{class:"square-btn rock",onClick:ce[3]||(ce[3]=g=>le("ROCK")),disabled:G.value},[...ce[25]||(ce[25]=[s("i",{class:"fas fa-hand-rock"},null,-1),s("span",null,"BA",-1)])],8,y3),s("button",{class:"square-btn paper",onClick:ce[4]||(ce[4]=g=>le("PAPER")),disabled:G.value},[...ce[26]||(ce[26]=[s("i",{class:"fas fa-hand-paper"},null,-1),s("span",null,"BAO",-1)])],8,b3),s("button",{class:"square-btn scissor",onClick:ce[5]||(ce[5]=g=>le("SCISSORS")),disabled:G.value},[...ce[27]||(ce[27]=[s("i",{class:"fas fa-hand-scissors"},null,-1),s("span",null,"KO",-1)])],8,_3),s("button",{class:"square-btn surrender",onClick:Me},[...ce[28]||(ce[28]=[s("i",{class:"fas fa-flag"},null,-1),s("span",null,"THOT",-1)])])])):(v(),m("div",w3,[s("div",$3,[be.value?W("",!0):(v(),m("i",C3)),s("span",null,_(be.value?"ANG TNH TON...":"CH I TH RA CHIU..."),1)])]))])])]))])]),fe(Ge,{name:"fade"},{default:ke(()=>[S.value?(v(),m("div",T3,[s("div",{class:X(["endgame-content",{win:se.value,lose:!se.value}])},[s("div",E3,_(D.value),1),s("div",k3,_(Q.value),1),ue.value!==0?(v(),m("div",S3,[s("div",I3,[ce[29]||(ce[29]=s("span",{class:"lbl"},"Danh Vng:",-1)),s("span",{class:X(["val",ue.value>0?"plus":"minus"])},_(ue.value>0?"+":"")+_(ue.value),3)])])):W("",!0),s("div",x3," T ng v snh sau "+_(te.value)+"s ",1),s("button",{class:"wuxia-btn primary big",onClick:Ve}," V SNH NGAY ")],2)])):W("",!0)]),_:1})])}}},A3=Fe(N3,[["__scopeId","data-v-715d9d97"]]),R3={dumpFish(e,t){return ye.post("/dump/fish",{type:e,amount:t})}},L3={class:"dump-page page-container"},O3={class:"bg-layer"},P3={class:"content-wrapper"},M3={class:"header-section"},H3={class:"action-card"},U3={class:"fish-selector"},D3={class:"img-wrapper"},B3=["src"],q3={class:"count"},F3={class:"img-wrapper"},G3=["src"],V3={class:"count"},j3={class:"img-wrapper"},K3=["src"],W3={class:"count"},z3={key:0,class:"amount-control"},X3={class:"input-row"},Y3={class:"number-input-wrapper"},J3=["max"],Q3={class:"max-label"},Z3=["max"],eL={class:"quick-btns"},tL={key:1,class:"empty-msg"},sL=["disabled"],nL={key:0},oL={key:1},iL={key:0,class:"result-modal"},aL={class:"modal-content"},rL={class:"message"},lL={class:"rewards-grid"},cL={key:0,class:"reward-item gold"},uL={class:"item-icon-wrapper"},dL=["src"],fL={class:"val"},hL={key:1,class:"reward-item special echo"},pL={class:"item-icon-wrapper"},vL=["src"],mL={class:"val"},gL={class:"item-icon-wrapper"},yL=["src"],bL={class:"val"},_L={__name:"DumpView",setup(e){const t=Ft(),n=ts(),o=pe(()=>pt("b_doanhtrai")),i=M(!1),a=()=>{const P=new Date().getHours();i.value=P>=18||P<6},r=P=>{P.target.src.includes("o_coal")||(P.target.src=pt("o_coal"))},l=M("NORMAL"),c=M(1),f=M(!1),u=M(null),d=P=>{if(!n.items)return 0;const w=n.items.find(S=>S.item&&S.item.code===P);return w?w.quantity:0},h=pe(()=>d("f_fish")),y=pe(()=>d("f_shark")),p=pe(()=>d("f_whiteshark")),b=pe(()=>l.value==="NORMAL"?h.value:l.value==="SHARK"?y.value:l.value==="WHITE_SHARK"?p.value:0),C=pe(()=>l.value==="WHITE_SHARK"?"btn-danger":l.value==="SHARK"?"btn-primary":"btn-dump");mt(l,()=>{c.value=1}),mt(b,P=>{c.value>P&&(c.value=P>0?P:1)});const x=P=>{if(b.value<=0)return;const w=Math.floor(b.value*P);c.value=w>0?w:1},I=()=>{c.value<1&&(c.value=1),c.value>b.value&&(c.value=b.value)},G=P=>new Intl.NumberFormat("vi-VN").format(P),j=async()=>{var P;if(I(),!(c.value<=0)){f.value=!0,u.value=null;try{const w=await R3.dumpFish(l.value,c.value);u.value=w.data,await Promise.all([t.fetchCharacter(),n.fetchInventory()]),b.value>0&&(c.value=1)}catch(w){alert(((P=w.response)==null?void 0:P.data)||"C li xy ra khi th c!")}finally{f.value=!1}}};return at(()=>{a(),n.fetchInventory(),t.fetchCharacter()}),(P,w)=>(v(),m("div",L3,[s("div",O3,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${o.value})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":i.value}])},null,2),w[11]||(w[11]=s("div",{class:"vignette"},null,-1))]),s("div",P3,[s("div",M3,[w[12]||(w[12]=s("h1",{class:"page-title"}," H B n",-1)),w[13]||(w[13]=s("p",{class:"subtitle"}," Dng c lm mi, cu nguyn Megalodon xut hin... ",-1)),s("button",{class:"btn-back",onClick:w[0]||(w[0]=S=>P.$router.push("/village"))},"  V Lng ")]),s("div",H3,[s("div",U3,[s("div",{class:X(["fish-option",{active:l.value==="NORMAL"}]),onClick:w[1]||(w[1]=S=>l.value="NORMAL")},[s("div",D3,[s("img",{src:H(pt)("f_fish"),class:"fish-img",onError:r},null,40,B3)]),w[14]||(w[14]=s("span",{class:"name"},"C Thng",-1)),s("span",q3,"C: "+_(h.value),1),w[15]||(w[15]=s("div",{class:"luck-info low"},[s("span",null,"May mn: Thp")],-1))],2),s("div",{class:X(["fish-option shark",{active:l.value==="SHARK"}]),onClick:w[2]||(w[2]=S=>l.value="SHARK")},[s("div",F3,[s("img",{src:H(pt)("f_shark"),class:"fish-img",onError:r},null,40,G3)]),w[16]||(w[16]=s("span",{class:"name"},"C Mp",-1)),s("span",V3,"C: "+_(y.value),1),w[17]||(w[17]=s("div",{class:"luck-info medium"},[s("span",null,"May mn: Va")],-1))],2),s("div",{class:X(["fish-option white-shark",{active:l.value==="WHITE_SHARK"}]),onClick:w[3]||(w[3]=S=>l.value="WHITE_SHARK")},[s("div",j3,[s("img",{src:H(pt)("f_whiteshark"),class:"fish-img",onError:r},null,40,K3)]),w[18]||(w[18]=s("span",{class:"name"},"Mp Trng",-1)),s("span",W3,"C: "+_(p.value),1),w[19]||(w[19]=s("div",{class:"luck-info high"},[s("span",null,"May mn: Cao")],-1))],2)]),b.value>0?(v(),m("div",z3,[s("div",X3,[w[20]||(w[20]=s("label",null,"S lng th:",-1)),s("div",Y3,[$e(s("input",{type:"number","onUpdate:modelValue":w[4]||(w[4]=S=>c.value=S),min:"1",max:b.value,class:"number-input",onBlur:I},null,40,J3),[[Te,c.value,void 0,{number:!0}]]),s("span",Q3,"/ "+_(b.value),1)])]),$e(s("input",{type:"range","onUpdate:modelValue":w[5]||(w[5]=S=>c.value=S),min:1,max:b.value,class:"slider"},null,8,Z3),[[Te,c.value,void 0,{number:!0}]]),s("div",eL,[s("button",{class:"btn-mini",onClick:w[6]||(w[6]=S=>x(.1))},"10%"),s("button",{class:"btn-mini",onClick:w[7]||(w[7]=S=>x(.25))},"25%"),s("button",{class:"btn-mini",onClick:w[8]||(w[8]=S=>x(.5))},"50%"),s("button",{class:"btn-mini max-btn",onClick:w[9]||(w[9]=S=>x(1))}," Tt c ")])])):(v(),m("div",tL," i hip khng cn loi c ny trong ti! ")),s("button",{class:X(["btn-dump",C.value]),disabled:f.value||b.value<=0,onClick:j},[f.value?(v(),m("span",nL,"ang th... ")):(v(),m("span",oL," Th C Cu May"))],10,sL)]),u.value?(v(),m("div",iL,[s("div",aL,[w[21]||(w[21]=s("h3",null," Kt Qu ",-1)),s("p",rL,_(u.value.message),1),s("div",lL,[u.value.totalGold>0?(v(),m("div",cL,[s("div",uL,[s("img",{src:H(pt)("r_coin"),class:"reward-icon",onError:r},null,40,dL)]),s("span",fL,"+"+_(G(u.value.totalGold))+" Vng",1)])):W("",!0),u.value.totalEcho>0?(v(),m("div",hL,[s("div",pL,[s("img",{src:H(pt)("r_coinEcho.png"),class:"reward-icon"},null,8,vL)]),s("span",mL,"+"+_(u.value.totalEcho)+" Echo",1)])):W("",!0),(v(!0),m(Ce,null,Re(u.value.receivedItems,S=>(v(),m("div",{class:X(["reward-item item-row",S.rarity?S.rarity.toLowerCase():"common"]),key:S.code},[s("div",gL,[s("img",{src:H(pt)(S.image||S.code),class:"reward-icon",onError:r},null,40,yL)]),s("span",bL,_(S.name)+" x"+_(S.quantity),1)],2))),128))]),s("button",{class:"btn-close",onClick:w[10]||(w[10]=S=>u.value=null)},"Tip tc")])])):W("",!0)])]))}},wL=Fe(_L,[["__scopeId","data-v-800e703c"]]),$L={class:"page-container wuxia-leaderboard dark-theme"},CL={class:"bg-layer"},TL={class:"lb-wrapper"},EL={class:"lb-header"},kL={class:"wuxia-tabs"},SL={key:0,class:"loading-state"},IL={key:1,class:"content-area"},xL={key:0,class:"podium-section"},NL={key:0,class:"podium-col rank-2"},AL={class:"avatar-group"},RL={class:"avatar-frame silver-border"},LL=["src"],OL={class:"podium-base silver-base"},PL={class:"p-name"},ML={class:"p-val"},HL={key:1,class:"podium-col rank-1"},UL={class:"avatar-group"},DL={class:"avatar-frame gold-border"},BL=["src"],qL={class:"p-name main-name"},FL={class:"p-val highlight"},GL={key:2,class:"podium-col rank-3"},VL={class:"avatar-group"},jL={class:"avatar-frame bronze-border"},KL=["src"],WL={class:"podium-base bronze-base"},zL={class:"p-name"},XL={class:"p-val"},YL={class:"rank-scroll custom-scroll"},JL={class:"row-rank"},QL={class:"row-avatar-box"},ZL=["src"],eO={class:"row-info"},tO={class:"row-name"},sO={class:"ink-bar-track"},nO={class:"row-val"},oO={key:0,class:"empty-msg"},iO="https://htkhang111.github.io/background/b_doanhtrai.png",aO={__name:"Leaderboard",setup(e){const t=M("level"),n=Dr(),o=M(!1),i=()=>{const p=new Date().getHours();o.value=p>=18||p<6},a=pe(()=>t.value==="level"?n.loadingLevels:t.value==="wealth"?n.loadingWealth:t.value==="kills"?n.loadingMonsters:t.value==="pvp"?n.loadingPvp:!1),r=pe(()=>t.value==="level"?(n.topLevels||[]).map(p=>({...p,username:p.username||p.name||"V Danh",value:p.level||0,avatar:p.avatar||p.avatarUrl})):t.value==="wealth"?(n.topWealth||[]).map(p=>{var b;return{...p,username:p.username||p.name||"V Danh",value:((b=p.wallet)==null?void 0:b.gold)!==void 0?p.wallet.gold:p.gold||0,avatar:p.avatar||p.avatarUrl}}):t.value==="kills"?(n.topMonsters||[]).map(p=>({...p,username:p.username||p.name||"V Danh",value:p.kills||0,avatar:p.avatar||p.avatarUrl})):t.value==="pvp"?(n.topPvp||[]).map(p=>({...p,username:p.name||"V Danh",value:p.reputation||0,avatar:p.avatarUrl})):[]),l=pe(()=>t.value==="level"?"MINH CH":t.value==="wealth"?"PH GIA":t.value==="kills"?"ST THN":t.value==="pvp"?"CHIN THN":"TOP 1"),c=pe(()=>!r.value||r.value.length===0?1:Math.max(...r.value.map(p=>Number(p.value)||0))),f=pe(()=>{if(!r.value||r.value.length<3)return[];const p=r.value.slice(3),b=c.value;return p.map((C,x)=>{const I=Number(C.value)||0;return{...C,rank:x+4,barWidth:b>0?I/b*100:0}})}),u=p=>new Intl.NumberFormat("vi-VN").format(p||0),d=p=>{const b=Bs[p]||Bs.skin_yasou;return b?b.sprites.idle:"https://placehold.co/50?text=?"},h=p=>p?p.startsWith("/uploads/")?`http://localhost:8080${p}`:p.includes("http")||p.startsWith("data:")?p:d(p):d("skin_yasou"),y=async p=>{t.value=p,p==="level"?await n.fetchLevelBoard():p==="wealth"?await n.fetchWealthBoard():p==="kills"?await n.fetchMonsterBoard():p==="pvp"&&await n.fetchPvPBoard()};return at(()=>{i(),n.fetchLevelBoard()}),(p,b)=>(v(),m("div",$L,[s("div",CL,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${iO})`})},null,4),s("div",{class:X(["wood-overlay",{"night-mode":o.value}])},null,2),b[4]||(b[4]=s("div",{class:"vignette"},null,-1))]),s("div",TL,[s("div",EL,[b[12]||(b[12]=s("div",{class:"header-decor left"},null,-1)),b[13]||(b[13]=s("h2",{class:"title-main"},"THIN TH",-1)),b[14]||(b[14]=s("div",{class:"header-decor right"},null,-1)),b[15]||(b[15]=s("div",{class:"subtitle"},"--- Thin H  Nht Nhn ---",-1)),s("div",kL,[s("button",{class:X([{active:t.value==="level"},"tab-btn"]),onClick:b[0]||(b[0]=C=>y("level"))},[...b[5]||(b[5]=[s("i",{class:"fas fa-fist-raised"},null,-1),J(" CAO TH ",-1)])],2),b[9]||(b[9]=s("div",{class:"tab-divider"},null,-1)),s("button",{class:X([{active:t.value==="wealth"},"tab-btn"]),onClick:b[1]||(b[1]=C=>y("wealth"))},[...b[6]||(b[6]=[s("i",{class:"fas fa-coins"},null,-1),J(" PH H ",-1)])],2),b[10]||(b[10]=s("div",{class:"tab-divider"},null,-1)),s("button",{class:X([{active:t.value==="pvp","text-purple":t.value==="pvp"},"tab-btn"]),onClick:b[2]||(b[2]=C=>y("pvp"))},[...b[7]||(b[7]=[s("i",{class:"fas fa-swords"},null,-1),J(" GIANG H ",-1)])],2),b[11]||(b[11]=s("div",{class:"tab-divider"},null,-1)),s("button",{class:X([{active:t.value==="kills","text-red":t.value==="kills"},"tab-btn"]),onClick:b[3]||(b[3]=C=>y("kills"))},[...b[8]||(b[8]=[s("i",{class:"fas fa-skull"},null,-1),J(" TRM YU ",-1)])],2)])]),a.value?(v(),m("div",SL,[...b[16]||(b[16]=[s("div",{class:"ink-spinner"},null,-1),s("span",null,"ang tra cu danh sch...",-1)])])):(v(),m("div",IL,[r.value.length>0?(v(),m("div",xL,[r.value[1]?(v(),m("div",NL,[s("div",AL,[b[17]||(b[17]=s("div",{class:"rank-badge silver"},"NH",-1)),s("div",RL,[s("img",{src:h(r.value[1].avatar),class:"podium-img"},null,8,LL)])]),s("div",OL,[s("div",PL,_(r.value[1].username),1),s("div",ML,_(u(r.value[1].value)),1)])])):W("",!0),r.value[0]?(v(),m("div",HL,[s("div",UL,[s("div",{class:X(["crown-icon",{"red-crown":t.value==="kills","purple-crown":t.value==="pvp"}])},[...b[18]||(b[18]=[s("i",{class:"fas fa-crown"},null,-1)])],2),s("div",DL,[s("img",{src:h(r.value[0].avatar),class:"podium-img"},null,8,BL)]),b[19]||(b[19]=s("div",{class:"radiance"},null,-1))]),s("div",{class:X(["podium-base gold-base",{"red-base":t.value==="kills","purple-base":t.value==="pvp"}])},[s("div",{class:X(["seal-rank",{"bg-black":t.value==="kills"||t.value==="pvp"}])},_(l.value),3),s("div",qL,_(r.value[0].username),1),s("div",FL,_(u(r.value[0].value)),1)],2)])):W("",!0),r.value[2]?(v(),m("div",GL,[s("div",VL,[b[20]||(b[20]=s("div",{class:"rank-badge bronze"},"BA",-1)),s("div",jL,[s("img",{src:h(r.value[2].avatar),class:"podium-img"},null,8,KL)])]),s("div",WL,[s("div",zL,_(r.value[2].username),1),s("div",XL,_(u(r.value[2].value)),1)])])):W("",!0)])):W("",!0),s("div",YL,[(v(!0),m(Ce,null,Re(f.value,(C,x)=>(v(),m("div",{key:C.username+x,class:X(["list-row",{"kill-row":t.value==="kills","pvp-row":t.value==="pvp"}]),style:Pe({animationDelay:x*.05+"s"})},[s("div",JL,_(C.rank),1),s("div",QL,[s("img",{src:h(C.avatar),class:"row-img"},null,8,ZL)]),s("div",eO,[s("div",tO,_(C.username),1),s("div",sO,[s("div",{class:X(["ink-bar-fill",{"bg-blood":t.value==="kills","bg-void":t.value==="pvp"}]),style:Pe({width:C.barWidth+"%"})},null,6)])]),s("div",nO,_(u(C.value)),1)],6))),128)),r.value.length===0?(v(),m("div",oO,[...b[21]||(b[21]=[s("i",{class:"fas fa-scroll"},null,-1),s("p",null,"_Cha c cao th no ghi danh_",-1)])])):W("",!0)])]))])]))}},rO=Fe(aO,[["__scopeId","data-v-df1f659e"]]),lO=Qt("friend",{state:()=>({friends:[],requests:[],isLoading:!1}),actions:{async fetchAll(){this.isLoading=!0;try{const[e,t]=await Promise.all([ye.get("/friends/list"),ye.get("/friends/requests")]);this.friends=e.data,this.requests=t.data}catch(e){console.error(e)}finally{this.isLoading=!1}},async sendRequest(e){var t;try{const n=await ye.post("/friends/add",{username:e});alert(n.data)}catch(n){alert(((t=n.response)==null?void 0:t.data)||"Li")}},async accept(e){await ye.post(`/friends/accept/${e}`),this.fetchAll()},async remove(e){confirm("Bn chc ch?")&&(await ye.delete(`/friends/remove/${e}`),this.fetchAll())}}}),cO={class:"page-container friends-page dark-theme"},uO={class:"network-wrapper"},dO={class:"network-header"},fO={class:"search-box-wrapper"},hO={class:"search-input-frame"},pO={class:"network-body"},vO={key:0,class:"requests-section"},mO={class:"section-title"},gO={class:"count-badge"},yO={class:"req-grid custom-scroll"},bO={class:"req-left"},_O={class:"avatar-mini"},wO={class:"req-name"},$O={class:"req-actions"},CO=["onClick"],TO=["onClick"],EO={class:"friends-section"},kO={class:"section-header"},SO={class:"total-count"},IO={key:0,class:"empty-state"},xO={key:1,class:"friend-list custom-scroll"},NO={class:"slot-left"},AO={class:"avatar-frame"},RO={class:"char"},LO={class:"slot-info"},OO={class:"slot-name"},PO={class:"slot-actions"},MO=["onClick"],HO=["onClick"],UO={key:0,class:"dark-chat-window"},DO={class:"chat-header"},BO={class:"chat-title"},qO={key:0,class:"chat-init"},FO={class:"msg-bubble"},GO={class:"chat-input-area"},VO={__name:"Friends",setup(e){const t=lO(),n=Qe(),o=M(""),i=M(!1),a=M(null),r=M(""),l=M([]),c=M(""),f=M(null),u=M(null);let d=null;at(()=>t.fetchAll()),Pt(()=>x());const h=async()=>{o.value&&(await t.sendRequest(o.value),o.value="")},y=P=>P.requester.userId===n.user.userId?P.addressee.username:P.requester.username,p=P=>P.requester.userId===n.user.userId?P.addressee.userId:P.requester.userId,b=async P=>{const w=p(P);a.value=w,r.value=y(P),await I(),i.value=!0,j(),Xt(()=>{var S;return(S=u.value)==null?void 0:S.focus()}),x(),d=setInterval(I,2e3)},C=()=>{i.value=!1,x()},x=()=>{d&&(clearInterval(d),d=null)},I=async()=>{if(a.value)try{const P=await ye.get(`/messages/history/${a.value}`);(P.data.length!==l.value.length||l.value.length===0)&&(l.value=P.data,j())}catch(P){console.error("Li ti chat",P)}},G=async()=>{if(!c.value.trim())return;const P=c.value;c.value="";try{const w=await ye.post("/messages/send",{receiverId:a.value,content:P});l.value.push(w.data),j()}catch(w){console.error("Li gi tin nhn",w)}},j=()=>{Xt(()=>{f.value&&(f.value.scrollTop=f.value.scrollHeight)})};return(P,w)=>(v(),m("div",cO,[w[22]||(w[22]=s("div",{class:"ink-bg-layer"},[s("div",{class:"mountain-bg"}),s("div",{class:"fog-anim"})],-1)),s("div",uO,[s("div",dO,[w[4]||(w[4]=s("div",{class:"header-decor left"},null,-1)),w[5]||(w[5]=s("h2",{class:"title-ancient"},"GIANG H HO HU",-1)),w[6]||(w[6]=s("div",{class:"header-decor right"},null,-1)),s("div",fO,[s("div",hO,[w[2]||(w[2]=s("i",{class:"fas fa-search search-icon"},null,-1)),$e(s("input",{"onUpdate:modelValue":w[0]||(w[0]=S=>o.value=S),placeholder:"Tm nhn s (Tn/ID)...",class:"real-input",onKeyup:wn(h,["enter"])},null,544),[[Te,o.value]])]),s("button",{onClick:h,class:"btn-wood primary"},[...w[3]||(w[3]=[s("i",{class:"fas fa-user-plus"},null,-1),J(" KT GIAO ",-1)])])])]),s("div",pO,[fe(Ge,{name:"slide-down"},{default:ke(()=>[H(t).requests.length?(v(),m("div",vO,[s("div",mO,[w[7]||(w[7]=s("i",{class:"fas fa-envelope-open-text"},null,-1)),w[8]||(w[8]=J(" TH MI KT GIAO ",-1)),s("span",gO,_(H(t).requests.length),1)]),s("div",yO,[(v(!0),m(Ce,null,Re(H(t).requests,S=>(v(),m("div",{key:S.id,class:"req-card"},[s("div",bO,[s("div",_O,_(S.requester.username.charAt(0).toUpperCase()),1),s("span",wO,_(S.requester.username),1)]),s("div",$O,[s("button",{onClick:se=>H(t).accept(S.id),class:"btn-icon success",title:"Chp nhn"},[...w[9]||(w[9]=[s("i",{class:"fas fa-check"},null,-1)])],8,CO),s("button",{onClick:se=>H(t).remove(S.id),class:"btn-icon danger",title:"T chi"},[...w[10]||(w[10]=[s("i",{class:"fas fa-times"},null,-1)])],8,TO)])]))),128))])])):W("",!0)]),_:1}),s("div",EO,[s("div",kO,[w[11]||(w[11]=s("h3",{class:"section-title"},[s("i",{class:"fas fa-users"}),J(" TRI K")],-1)),s("span",SO,_(H(t).friends.length)+" v",1)]),H(t).friends.length===0?(v(),m("div",IO,[...w[12]||(w[12]=[s("i",{class:"fas fa-wind"},null,-1),s("p",null,"Cha c tri k no",-1)])])):(v(),m("div",xO,[(v(!0),m(Ce,null,Re(H(t).friends,S=>(v(),m("div",{key:S.id,class:"friend-slot"},[s("div",NO,[s("div",AO,[s("span",RO,_(y(S).charAt(0).toUpperCase()),1),w[13]||(w[13]=s("div",{class:"status-dot online"},null,-1))]),s("div",LO,[s("span",OO,_(y(S)),1),w[14]||(w[14]=s("span",{class:"slot-desc"},"ang hnh tu...",-1))])]),s("div",PO,[s("button",{onClick:se=>b(S),class:"btn-action chat"},[...w[15]||(w[15]=[s("i",{class:"fas fa-comment-dots"},null,-1),J(" TRUYN M ",-1)])],8,MO),s("button",{onClick:se=>H(t).remove(S.id),class:"btn-action del",title:"Tuyt giao"},[...w[16]||(w[16]=[s("i",{class:"fas fa-user-slash"},null,-1)])],8,HO)])]))),128))]))])]),fe(Ge,{name:"pop-up"},{default:ke(()=>[i.value?(v(),m("div",UO,[s("div",DO,[s("div",BO,[w[17]||(w[17]=s("span",{class:"decor"},"",-1)),J(" "+_(r.value)+" ",1),w[18]||(w[18]=s("span",{class:"decor"},"",-1))]),s("button",{onClick:C,class:"btn-close"},[...w[19]||(w[19]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",{class:"chat-stream custom-scroll",ref_key:"msgBox",ref:f},[l.value.length===0?(v(),m("div",qO,[...w[20]||(w[20]=[s("span",{class:"divider"},"-- Khi to truyn m --",-1)])])):W("",!0),(v(!0),m(Ce,null,Re(l.value,(S,se)=>(v(),m("div",{key:S.id||se,class:X(["msg-row",{me:S.senderName===H(n).user.username}])},[s("div",FO,_(S.content),1)],2))),128))],512),s("div",GO,[$e(s("input",{"onUpdate:modelValue":w[1]||(w[1]=S=>c.value=S),onKeyup:wn(G,["enter"]),placeholder:"Nhp mt th...",ref_key:"inputFocus",ref:u,class:"dark-chat-input"},null,544),[[Te,c.value]]),s("button",{onClick:G,class:"btn-send"},[...w[21]||(w[21]=[s("i",{class:"fas fa-paper-plane"},null,-1)])])])])):W("",!0)]),_:1})])]))}},jO=Fe(VO,[["__scopeId","data-v-44349397"]]),KO={class:"page-container wuxia-noti ink-theme"},WO={class:"bg-layer"},zO={class:"particles"},XO={class:"noti-layout"},YO={class:"noti-header"},JO={class:"header-left"},QO={class:"header-right"},ZO={class:"content-frame"},eP={key:0,class:"loading-state"},tP={key:1,class:"noti-list custom-scroll"},sP=["onClick"],nP={key:0,class:"glow-border"},oP={class:"item-icon-box"},iP={class:"item-body"},aP={class:"item-header"},rP={class:"item-title"},lP={class:"time-stamp"},cP={class:"item-desc"},uP={key:0,class:"empty-state"},dP={class:"scroll-container"},fP={class:"paper-content custom-scroll"},hP={class:"inner-border-frame"},pP={class:"paper-inner"},vP={class:"detail-header"},mP={class:"detail-title"},gP={class:"detail-body-text"},yP={class:"detail-footer"},bP={class:"meta-info"},_P={class:"meta-row"},wP="https://htkhang111.github.io/background/b_doanhtrai.png",$P={__name:"Notifications",setup(e){const t=Fs(),n=M(null),o=M(!1),i=()=>{const d=new Date().getHours();o.value=d>=18||d<6},a=d=>{const h=Math.random()*3+2+"px",y=Math.random()*100+"%",p=Math.random()*5+"s",b=Math.random()*10+10+"s";return{width:h,height:h,left:y,animationDelay:p,animationDuration:b,opacity:Math.random()*.5+.1}},r=d=>{n.value=d,t.markRead(d.id)},l=d=>{const h=new Date(d);return h.toLocaleDateString("vi-VN")+" "+h.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})},c=d=>{switch(d){case"SUCCESS":return"type-success";case"WARNING":return"type-warning";case"ERROR":return"type-error";default:return"type-info"}},f=d=>{switch(d){case"SUCCESS":return"TIN MNG";case"WARNING":return"CNH BO";case"ERROR":return"KHN CP";default:return"MT TH"}},u=d=>{switch(d){case"SUCCESS":return"fas fa-gift";case"WARNING":return"fas fa-exclamation-triangle";case"ERROR":return"fas fa-skull-crossbones";default:return"fas fa-scroll"}};return at(()=>{i(),t.fetchNotifications()}),(d,h)=>{var y;return v(),m("div",KO,[s("div",WO,[s("div",{class:"mountain-bg",style:Pe({backgroundImage:`url(${wP})`})},null,4),s("div",{class:X(["ink-overlay",{"night-mode":o.value}])},null,2),s("div",zO,[(v(),m(Ce,null,Re(15,p=>s("div",{key:p,class:"particle",style:Pe(a())},null,4)),64))])]),s("div",XO,[s("div",YO,[s("div",JO,[s("button",{onClick:h[0]||(h[0]=p=>d.$router.push("/")),class:"btn-ink-back"},[...h[5]||(h[5]=[s("div",{class:"btn-content"},[s("i",{class:"fas fa-chevron-left"})],-1)])]),h[6]||(h[6]=s("div",{class:"title-group"},[s("h2",{class:"main-title"},"MT TH"),s("div",{class:"sub-title"},"Tin tc chn giang h")],-1))]),s("div",QO,[s("button",{onClick:h[1]||(h[1]=p=>H(t).markAllRead()),class:"btn-royal-seal"},[...h[7]||(h[7]=[s("i",{class:"fas fa-check-double"},null,-1),J(),s("span",null," C HT",-1)])])])]),s("div",ZO,[H(t).isLoading?(v(),m("div",eP,[...h[8]||(h[8]=[s("div",{class:"brush-loader"},null,-1),s("span",{class:"loading-text"},"ang gii m...",-1)])])):(v(),m("div",tP,[fe(cd,{name:"staggered-fade"},{default:ke(()=>[(v(!0),m(Ce,null,Re(H(t).notifications||[],(p,b)=>(v(),m("div",{key:p.id,class:X(["noti-item",[c(p.type),{"is-read":p.isRead}]]),style:Pe({"--i":b}),onClick:C=>r(p)},[p.isRead?W("",!0):(v(),m("div",nP)),s("div",oP,[s("i",{class:X(u(p.type))},null,2)]),s("div",iP,[s("div",aP,[s("span",rP,_(p.title),1),s("span",lP,_(l(p.createdAt)),1)]),s("div",cP,_(p.message),1)]),h[9]||(h[9]=s("div",{class:"item-action"},[s("i",{class:"fas fa-chevron-right"})],-1))],14,sP))),128))]),_:1}),!H(t).isLoading&&((y=H(t).notifications)==null?void 0:y.length)===0?(v(),m("div",uP,[...h[10]||(h[10]=[s("div",{class:"empty-icon"},[s("i",{class:"fas fa-wind"})],-1),s("p",null,"Gi lng my ngng, khng c tin mi.",-1)])])):W("",!0)]))])]),fe(Ge,{name:"scroll-unroll"},{default:ke(()=>[n.value?(v(),m("div",{key:0,class:"modal-overlay",onClick:h[4]||(h[4]=Ze(p=>n.value=null,["self"]))},[s("div",dP,[h[18]||(h[18]=s("div",{class:"rod rod-top"},[s("div",{class:"rod-end left"}),s("div",{class:"rod-mid"}),s("div",{class:"rod-end right"})],-1)),s("div",fP,[s("div",hP,[s("button",{class:"close-btn-corner",onClick:h[2]||(h[2]=p=>n.value=null)},[...h[11]||(h[11]=[s("i",{class:"fas fa-times"},null,-1)])]),s("div",pP,[s("div",vP,[h[12]||(h[12]=s("div",{class:"decor-cloud left"},null,-1)),s("span",{class:X(["badge-type",c(n.value.type)])},_(f(n.value.type)),3),h[13]||(h[13]=s("div",{class:"decor-cloud right"},null,-1))]),s("h3",mP,_(n.value.title),1),h[17]||(h[17]=s("div",{class:"detail-divider"},[s("span",{class:"line"}),s("i",{class:"fas fa-dragon center-icon"}),s("span",{class:"line"})],-1)),s("div",gP,_(n.value.message),1),s("div",yP,[s("div",bP,[h[15]||(h[15]=s("div",{class:"meta-row"},[s("i",{class:"fas fa-scroll"}),s("span",null,[J("Ngun: "),s("strong",null,"H Thng")])],-1)),s("div",_P,[h[14]||(h[14]=s("i",{class:"far fa-clock"},null,-1)),s("span",null,_(new Date(n.value.createdAt).toLocaleString("vi-VN")),1)])]),h[16]||(h[16]=s("div",{class:"stamp-seal"},[s("div",{class:"seal-inner"},"  DUYT ")],-1))]),s("button",{class:"btn-close-main",onClick:h[3]||(h[3]=p=>n.value=null)}," ng Mt Th ")])])]),h[19]||(h[19]=s("div",{class:"rod rod-bottom"},[s("div",{class:"rod-end left"}),s("div",{class:"rod-mid"}),s("div",{class:"rod-end right"})],-1))])])):W("",!0)]),_:1})])}}},CP=Fe($P,[["__scopeId","data-v-e79a8b78"]]),TP={class:"page-container profile-page ancient-theme"},EP={class:"profile-wrapper"},kP={class:"profile-header"},SP={class:"profile-content"},IP={class:"info-column"},xP={class:"avatar-edit-box"},NP={class:"current-avatar"},AP=["src"],RP={class:"input-group"},LP={class:"avatar-actions"},OP={class:"info-form"},PP={class:"form-group"},MP={class:"form-group"},HP={class:"form-group"},UP={class:"form-group"},DP={class:"form-group read-only"},BP={class:"static-val"},qP={class:"char-select-column"},FP={class:"preview-stage"},GP={class:"stage-bg"},VP={class:"preview-actor"},jP=["src"],KP={class:"control-bar"},WP={key:1,class:"btn-equipped",disabled:""},zP={class:"skin-list custom-scroll"},XP=["onClick"],YP={class:"skin-icon"},JP=["src"],QP={class:"skin-info"},ZP={class:"skin-name"},eM={key:0,class:"equipped-icon"},tM={class:"char-stats-box"},sM={class:"rename-box"},Gc="https://placehold.co/150?text=Avatar",nM={__name:"Profile",setup(e){const t=Qe(),n=Ft(),o=M(null),i=Je({fullName:"",username:"",email:"",password:"",profileImageUrl:""}),a=pe(()=>{var w;return(w=t.user)!=null&&w.createdAt?new Date(t.user.createdAt).toLocaleDateString("vi-VN"):"Cha cp nht"}),r=w=>w?w.startsWith("/uploads/")?`http://localhost:8080${w}`:w:Gc,l=w=>{w.target.src=Gc},c=async w=>{var D,Q;const S=w.target.files[0];if(!S)return;if(S.size>100*1024*1024){alert("File nh qu ln! Vui lng chn nh < 100MB.");return}const se=new FormData;se.append("file",S);try{const te=await ye.post("/user/upload-avatar",se,{headers:{"Content-Type":"multipart/form-data"}});t.user=te.data,i.profileImageUrl=te.data.profileImageUrl,alert("Ti nh i din thnh cng!")}catch(te){console.error(te);const V=((Q=(D=te.response)==null?void 0:D.data)==null?void 0:Q.message)||te.message;alert("Li upload nh: "+V)}finally{w.target.value=null}},f=async()=>{var w,S;if(confirm("Cng c chc mun lu thay i thng tin khng?"))try{await ye.put("/user/update",{fullName:i.fullName,username:i.username,email:i.email,password:i.password||null,profileImageUrl:i.profileImageUrl}),await t.fetchProfile(),alert("Lu h s thnh cng!"),i.password=""}catch(se){alert("Li lu h s: "+(((S=(w=se.response)==null?void 0:w.data)==null?void 0:S.message)||se.message))}},u=Object.values(Bs),d=pe(()=>{var w;return((w=t.user)==null?void 0:w.avatarUrl)||"skin_yasou"}),h=M("skin_yasou"),y=M("idle"),p=M("");let b=null;const C=["idle","run","attack"];let x=0;const I=pe(()=>{const w=Bs[h.value];return w?w.sprites[y.value]:""}),G=w=>{h.value=w,x=0,y.value="idle"},j=async()=>{try{await ye.put("/user/update",{avatarUrl:h.value}),await t.fetchProfile(),alert(" thay i nhn vt thnh cng!")}catch(w){alert("Li lu nhn vt: "+w.message)}},P=async()=>{var w;if(p.value)try{await ye.post("/character/rename",{name:p.value}),await n.fetchCharacter(),alert("i tn nhn vt thnh cng!")}catch(S){alert(((w=S.response)==null?void 0:w.data)||"Li i tn")}};return at(()=>{n.fetchCharacter(),h.value=d.value,t.user&&(i.fullName=t.user.fullName,i.username=t.user.username,i.email=t.user.email,i.profileImageUrl=t.user.profileImageUrl),b=setInterval(()=>{x=(x+1)%C.length,y.value=C[x]},2e3)}),Pt(()=>{b&&clearInterval(b)}),(w,S)=>(v(),m("div",TP,[S[24]||(S[24]=s("div",{class:"wood-bg-layer"},null,-1)),s("div",EP,[s("div",kP,[s("button",{onClick:S[0]||(S[0]=se=>w.$router.push("/")),class:"btn-back wood-btn"},[...S[8]||(S[8]=[s("i",{class:"fas fa-arrow-left"},null,-1),J(" V SNH ",-1)])]),S[9]||(S[9]=s("h2",{class:"header-title"},"H S TU TIN",-1))]),s("div",SP,[s("div",IP,[S[20]||(S[20]=s("h3",{class:"section-title"},[s("i",{class:"fas fa-id-card"}),J(" THNG TIN C NHN ")],-1)),s("div",xP,[s("div",NP,[s("img",{src:r(i.profileImageUrl),onError:l},null,40,AP)]),s("div",RP,[S[12]||(S[12]=s("label",null,"nh i Din:",-1)),s("input",{type:"file",ref_key:"fileInput",ref:o,onChange:c,accept:"image/*",style:{display:"none"}},null,544),s("div",LP,[s("button",{class:"btn-upload",onClick:S[1]||(S[1]=se=>w.$refs.fileInput.click())},[...S[10]||(S[10]=[s("i",{class:"fas fa-upload"},null,-1),J(" TI NH T MY (MAX 100MB) ",-1)])]),S[11]||(S[11]=s("small",{class:"upload-hint"},"Hoc nhp link nh bn di (Khng khuyn khch)",-1))]),$e(s("input",{"onUpdate:modelValue":S[2]||(S[2]=se=>i.profileImageUrl=se),placeholder:"https://example.com/anh.jpg",class:"url-input"},null,512),[[Te,i.profileImageUrl]])])]),s("div",OP,[s("div",PP,[S[13]||(S[13]=s("label",null,"Bit Danh (H Tn):",-1)),$e(s("input",{"onUpdate:modelValue":S[3]||(S[3]=se=>i.fullName=se),placeholder:"Nhp tn hin th..."},null,512),[[Te,i.fullName]])]),s("div",MP,[S[14]||(S[14]=s("label",null,"Tn ng Nhp:",-1)),$e(s("input",{"onUpdate:modelValue":S[4]||(S[4]=se=>i.username=se),placeholder:"Tn ng nhp..."},null,512),[[Te,i.username]])]),s("div",HP,[S[15]||(S[15]=s("label",null,"Email Lin Lc:",-1)),$e(s("input",{"onUpdate:modelValue":S[5]||(S[5]=se=>i.email=se),placeholder:"Email..."},null,512),[[Te,i.email]])]),s("div",UP,[S[16]||(S[16]=s("label",null,"Mt Khu Mi (B trng nu khng i):",-1)),$e(s("input",{"onUpdate:modelValue":S[6]||(S[6]=se=>i.password=se),type:"password",placeholder:"******"},null,512),[[Te,i.password]])]),s("div",DP,[S[17]||(S[17]=s("label",null,"Ngy Nhp Mn (Ngy Sinh):",-1)),s("div",BP,_(a.value),1),S[18]||(S[18]=s("small",{class:"hint"},"*Ngy sinh l c nh theo ngy to ti khon",-1))]),s("button",{class:"btn-save",onClick:f},[...S[19]||(S[19]=[s("i",{class:"fas fa-save"},null,-1),J(" LU THAY I ",-1)])])])]),s("div",qP,[S[23]||(S[23]=s("h3",{class:"section-title"},[s("i",{class:"fas fa-mask"}),J(" HA THN CHI THUT ")],-1)),s("div",FP,[s("div",GP,[s("div",VP,[s("img",{src:I.value,class:X(["actor-img",y.value])},null,10,jP)])]),s("div",KP,[d.value!==h.value?(v(),m("button",{key:0,class:"btn-equip",onClick:j}," CHN SKIN NY ")):(v(),m("button",WP,"ANG S DNG"))])]),s("div",zP,[(v(!0),m(Ce,null,Re(H(u),se=>(v(),m("div",{key:se.id,class:X(["skin-card",{active:h.value===se.id}]),onClick:D=>G(se.id)},[s("div",YP,[s("img",{src:se.sprites.idle},null,8,JP)]),s("div",QP,[s("div",ZP,_(se.name),1)]),d.value===se.id?(v(),m("div",eM,[...S[21]||(S[21]=[s("i",{class:"fas fa-check-circle"},null,-1)])])):W("",!0)],10,XP))),128))]),s("div",tM,[s("div",sM,[$e(s("input",{"onUpdate:modelValue":S[7]||(S[7]=se=>p.value=se),placeholder:"i tn nhn vt game..."},null,512),[[Te,p.value]]),s("button",{onClick:P},[...S[22]||(S[22]=[s("i",{class:"fas fa-pen"},null,-1)])])])])])])])]))}},oM=Fe(nM,[["__scopeId","data-v-d050cc68"]]),iM=Qt("admin",{state:()=>({stats:{totalUsers:0,totalItems:0,totalEchoMined:0,totalGold:0},users:[],items:[],loading:!1,error:null}),actions:{async fetchStats(){var e,t;this.loading=!0;try{const n=await ye.get("/admin/stats");this.stats=n.data}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Li ti thng k",console.error(n)}finally{this.loading=!1}},async fetchUsers(){this.loading=!0;try{const e=await ye.get("/admin/users");this.users=e.data}catch{this.error="Li ti Users"}finally{this.loading=!1}},async banUser(e,t){await ye.post(`/admin/user/ban/${e}`,{reason:t}),await this.fetchUsers()},async unbanUser(e){await ye.post(`/admin/user/unban/${e}`),await this.fetchUsers()},async deleteUser(e){confirm("Xa vnh vin user ny?")&&(await ye.delete(`/admin/user/${e}`),await this.fetchUsers())},async fetchItems(){this.loading=!0;try{const e=await ye.get("/admin/items");this.items=e.data}catch{this.error="Li ti Items"}finally{this.loading=!1}},async createItem(e){await ye.post("/admin/item/create",e),await this.fetchItems()},async deleteItem(e){confirm("Xa item ny?")&&(await ye.delete(`/admin/item/${e}`),await this.fetchItems())},async grantGold(e,t){await ye.post("/admin/grant-gold",{username:e,amount:t})},async grantEcho(e,t){await ye.post("/admin/grant-echo",{username:e,amount:t})},async grantItem(e,t,n){await ye.post("/admin/grant-item",{username:e,itemId:t,quantity:n})},async sendNotification(e){await ye.post("/admin/notification/create",e)}}}),aM={class:"admin-page custom-scrollbar"},rM={class:"admin-container"},lM={class:"admin-nav fade-in"},cM=["onClick"],uM={class:"admin-content fade-in-up"},dM={key:0,class:"stats-section"},fM={class:"stat-card glass-panel"},hM={class:"info"},pM={class:"number"},vM={class:"stat-card glass-panel"},mM={class:"info"},gM={class:"number"},yM={class:"stat-card glass-panel highlight"},bM={class:"info"},_M={class:"number gold-text"},wM={class:"stat-card glass-panel highlight-echo"},$M={class:"info"},CM={class:"number echo-text"},TM={key:1,class:"data-section"},EM={class:"filter-bar glass-panel"},kM={class:"search-group"},SM={class:"actions"},IM={class:"table-wrapper glass-panel custom-scroll-panel"},xM={class:"wuxia-table"},NM={class:"id-col"},AM={class:"name-col"},RM={key:0,class:"status-dot active"},LM={key:1,class:"status-dot banned"},OM={class:"actions-cell"},PM=["onClick"],MM=["onClick"],HM=["onClick"],UM=["onClick"],DM=["onClick"],BM={key:0,class:"empty-data"},qM={key:2,class:"data-section"},FM={class:"panel-header"},GM={key:0,class:"create-panel glass-panel fade-in wizard-container"},VM={class:"wizard-header"},jM={class:"step-counter"},KM={class:"progress-container"},WM={key:0,class:"wizard-step active"},zM={class:"type-grid"},XM=["onClick"],YM={key:1,class:"wizard-step active"},JM={class:"grid-2"},QM={class:"input-group"},ZM={class:"input-group"},e4={class:"input-group full-width"},t4={class:"wizard-actions"},s4=["disabled"],n4={key:2,class:"wizard-step active"},o4={class:"assets-wrapper custom-scrollbar"},i4={class:"assets-grid"},a4=["onClick"],r4=["src"],l4={class:"input-group mt-2"},c4={class:"wizard-actions"},u4=["disabled"],d4={key:3,class:"wizard-step active"},f4={class:"rarity-grid"},h4=["onClick"],p4={class:"wizard-actions"},v4={key:4,class:"wizard-step active"},m4={key:0,class:"stat-section"},g4={class:"sub-label highlight"},y4={class:"stat-type-selector"},b4=["value"],_4={class:"input-group mt-2"},w4={key:1,class:"empty-text"},$4={class:"stat-section"},C4={class:"sub-label"},T4={key:0,class:"sub-stats-container"},E4={class:"row-index"},k4=["onUpdate:modelValue"],S4=["value"],I4=["onUpdate:modelValue"],x4={key:0,class:"unit-label"},N4={key:1,class:"empty-text"},A4={key:0},R4={key:1},L4={class:"wizard-actions"},O4={key:5,class:"wizard-step active"},P4={class:"summary-card"},M4={class:"item-preview"},H4=["src"],U4={class:"preview-info"},D4={class:"preview-stats"},B4={class:"sub-stats-preview"},q4={key:0},F4={class:"distribution-box"},G4={class:"dist-options"},V4={class:"pricing-box"},j4={class:"price-row"},K4={class:"suggested-price"},W4={class:"input-group"},z4={class:"wizard-actions final"},X4={class:"filter-bar glass-panel mt-3"},Y4={class:"search-group"},J4={class:"actions"},Q4=["value"],Z4=["value"],e5={class:"table-wrapper glass-panel custom-scroll-panel"},t5={class:"wuxia-table"},s5={class:"id-col"},n5={class:"name-col"},o5=["src"],i5={class:"gold-val"},a5={key:0,class:"badge limited"},r5={key:1,class:"badge active"},l5={key:2,class:"badge drop"},c5={class:"actions-cell"},u5=["onClick"],d5=["onClick"],f5={key:0,class:"empty-data"},h5={key:3,class:"grid-2-col"},p5={class:"glass-panel"},v5=["disabled"],m5={key:0,class:"fas fa-spinner fa-spin"},g5=["disabled"],y5={key:0,class:"fas fa-spinner fa-spin"},b5={class:"item-selector-container"},_5={class:"filter-row"},w5=["value"],$5={class:"item-list custom-scroll-panel"},C5=["onClick"],T5={class:"item-name"},E5={key:0,class:"empty-hint"},k5={key:0,class:"selected-preview"},S5=["src"],I5={class:"preview-details"},x5=["disabled"],N5={key:0,class:"fas fa-spinner fa-spin"},A5={class:"glass-panel"},R5=["disabled"],L5={key:0,class:"fas fa-spinner fa-spin"},O5={class:"modal-content edit-theme zoom-in"},P5={class:"modal-body custom-scrollbar"},M5={class:"edit-preview"},H5=["src"],U5={class:"preview-meta"},D5={class:"form-grid"},B5={class:"input-group"},q5={class:"input-group"},F5={class:"input-group full"},G5={class:"input-group full"},V5={class:"stats-edit-section full"},j5={class:"stats-grid-small"},K5={class:"stats-grid-small"},W5={class:"modal-btns"},z5={class:"modal-content edit-theme zoom-in"},X5={class:"modal-body"},Y5={class:"form-grid"},J5={class:"input-group"},Q5={class:"input-group"},Z5={class:"input-group full"},eH={class:"input-group full warning-zone"},tH={class:"modal-btns"},sH={class:"modal-content ban-theme zoom-in"},nH={class:"modal-body"},oH={class:"target-name"},iH={class:"modal-btns"},aH={__name:"Admin",setup(e){const t=iM(),n=Fs(),o=ko(),i=M("stats"),a=M(!1),r=M(!1),l=M(null),c=M(""),f=M(!1),u=Je({id:null,itemId:null,code:"",name:"",basePrice:0,description:"",imageUrl:"",rarity:"",atkBonus:0,defBonus:0,hpBonus:0,speedBonus:0,maxDurability:0,maxLuck:0}),d=M(!1),h=Je({}),y=Je({search:"",type:"",rarity:""}),p=M(!1),b=M(!1),C=M(!1),x=M(!1),I=M(1),G=M(0),j=M(!1),P=M("DROP"),w=M("ATK"),S=M(0),se=M([]),D=M(""),Q=M(""),te={WEAPON:["s_sword_0.png","s_sword_1.png","s_sword_2.png","s_sword_3.png","s_sword_4.png"],PICKAXE:["tool/pickaxe/p-0-strongpickaxe.png","tool/pickaxe/p-1-vikingpickaxe.png","tool/pickaxe/p-2-superduperpickaxe.png","tool/pickaxe/p-3-deathandaxes.png","tool/pickaxe/p-4-dimensionalpickaxe.png"],AXE:["tool/axe/a-0-strongaxe.png","tool/axe/a-1-best axeinthegame.png","tool/axe/a-2-axeofthegods.png","tool/axe/a-3-thiccaxe.png","tool/axe/a-4-heartoftheforest.webp"],SHOVEL:["tool/shovel/s-0-strongshovel.png","tool/shovel/s-1-epicshovel.png","tool/shovel/s-2-theshovelii.png","tool/shovel/s-3-supershovel.png","tool/shovel/s-4-golddigger.png"],FISHING_ROD:["tool/fishing-rod/fr-0-strongfishingrod.png","tool/fishing-rod/fr-1-superfishingrod.png","tool/fishing-rod/fr-4-themasterbaiter.png"],ARMOR:["a_armor_0.png","a_armor_1.png","a_armor_2.png","a_armor_3.png","a_armor_4.png"],HELMET:["h_helmet_0.png","h_helmet_1.png","h_helmet_2.png","h_helmet_3.png","h_helmet_4.png"],BOOTS:["b_boot_0.png","b_boot_1.png","b_boot_2.png","b_boot_3.png","b_boot_4.png"],RING:["ri_ring_0.png","ri_ring_1.png","ri_ring_2.png","ri_ring_3.png","ri_ring_4.png"],NECKLACE:["n_necklace_0.png","n_necklace_1.png","n_necklace_2.png","n_necklace_3.png","n_necklace_4.png"],CONSUMABLE:["r_potion.png"],MATERIAL:["w_wood.png","o_iron.png","o_gold.png","f_fish.png","r_coin.png","r_coin-echo.png"]},V=[{id:"stats",label:"Thin C (Thng K)",icon:"fas fa-chart-pie"},{id:"users",label:"Nhn S (User)",icon:"fas fa-users"},{id:"items",label:"Tng Bo (Item)",icon:"fas fa-box-open"},{id:"notify",label:"iu Hnh (Action)",icon:"fas fa-tasks"}],ue=[{value:"WEAPON",label:"Binh Kh",icon:"fas fa-khanda"},{value:"ARMOR",label:"Y Phc",icon:"fas fa-tshirt"},{value:"HELMET",label:"M Gip",icon:"fas fa-hard-hat"},{value:"BOOTS",label:"Hi (Giy)",icon:"fas fa-shoe-prints"},{value:"RING",label:"Nhn",icon:"fas fa-ring"},{value:"NECKLACE",label:"Vng C",icon:"fas fa-gem"},{value:"PICKAXE",label:"Cp o",icon:"fas fa-hammer"},{value:"AXE",label:"Ru Cht",icon:"fas fa-tree"},{value:"SHOVEL",label:"Xng o",icon:"fas fa-trowel"},{value:"FISHING_ROD",label:"Cn Cu",icon:"fas fa-fish"},{value:"CONSUMABLE",label:"an Dc",icon:"fas fa-flask"},{value:"MATERIAL",label:"Nguyn Liu",icon:"fas fa-cubes"}],xe=[{value:"COMMON",label:"Thng"},{value:"UNCOMMON",label:"Phi Thng"},{value:"RARE",label:"Him"},{value:"EPIC",label:"S Thi"},{value:"LEGENDARY",label:"Huyn Thoi"},{value:"MYTHIC",label:"Thn Thoi"}],Ae=Je({search:"",role:"",status:""}),q=Je({code:"",name:"",description:"",type:"WEAPON",slotType:"WEAPON",rarity:"COMMON",basePrice:0,imageUrl:"",isSystemItem:!1,isLimited:!1,atkBonus:0,defBonus:0,hpBonus:0,speedBonus:0,maxDurability:0,minLuck:0,maxLuck:0,energySaveChance:0}),T=Je({username:"",amount:1e3}),$=Je({username:"",amount:""}),k=Je({username:"",itemId:0,quantity:1}),A=Je({title:"",message:"",type:"INFO",recipientUsername:""}),Y=z=>Number(z).toLocaleString(),K=pe(()=>{let z=t.users||[];if(Ae.search){const g=Ae.search.toLowerCase();z=z.filter(Ie=>{var L,qe,kt;return((L=Ie.username)==null?void 0:L.toLowerCase().includes(g))||((qe=Ie.email)==null?void 0:qe.toLowerCase().includes(g))||((kt=Ie.userId)==null?void 0:kt.toString().includes(g))})}return Ae.role&&(z=z.filter(g=>g.role===Ae.role)),Ae.status==="active"&&(z=z.filter(g=>g.isActive)),Ae.status==="banned"&&(z=z.filter(g=>!g.isActive)),z}),O=pe(()=>{let z=t.items||[];if(y.search){const g=y.search.toLowerCase();z=z.filter(Ie=>Ie.name&&Ie.name.toLowerCase().includes(g)||Ie.code&&Ie.code.toLowerCase().includes(g))}return y.type&&(z=z.filter(g=>g.type===y.type)),y.rarity&&(z=z.filter(g=>g.rarity===y.rarity)),z.slice().reverse()}),F=pe(()=>{let z=t.items||[];if(Q.value&&(z=z.filter(g=>g.type===Q.value)),D.value){const g=D.value.toLowerCase();z=z.filter(Ie=>Ie.name&&Ie.name.toLowerCase().includes(g)||Ie.code&&Ie.code.toLowerCase().includes(g))}return z.slice(0,20)}),Se=pe(()=>k.itemId?t.items.find(z=>(z.id||z.itemId)===k.itemId):null);pe(()=>(t.items||[]).map(z=>({id:z.id||z.itemId,name:z.name})));const Le=pe(()=>te[q.type]||te.WEAPON),ee=pe(()=>Le.value.map(z=>He(z))),he=[{value:"ATK",label:"Tn Cng (Flat)"},{value:"ATK_PERCENT",label:"Tn Cng (%)"},{value:"DEF",label:"Phng Th (Flat)"},{value:"DEF_PERCENT",label:"Phng Th (%)"},{value:"HP",label:"Sinh Lc (Flat)"},{value:"HP_PERCENT",label:"Sinh Lc (%)"},{value:"SPEED",label:"Tc "},{value:"CRIT_RATE",label:"Bo Kch (%)"},{value:"CRIT_DMG",label:"St Thng Bo (%)"},{value:"DURABILITY",label:" Bn"},{value:"LUCK",label:"May Mn"}],de=pe(()=>{const z=q.type;if(["PICKAXE","AXE","SHOVEL","FISHING_ROD"].includes(z))return he.filter(g=>["DURABILITY","LUCK"].includes(g.value));if(z==="CONSUMABLE")return he.filter(g=>g.value==="HP");switch(z){case"WEAPON":return he.filter(g=>!["HP","HP_PERCENT","DEF","DEF_PERCENT","DURABILITY","LUCK"].includes(g.value));case"ARMOR":case"HELMET":return he.filter(g=>!["ATK","ATK_PERCENT","CRIT_RATE","CRIT_DMG","SPEED","DURABILITY","LUCK"].includes(g.value));case"BOOTS":return he.filter(g=>!["ATK","ATK_PERCENT","CRIT_RATE","CRIT_DMG","DURABILITY","LUCK"].includes(g.value));case"RING":return he.filter(g=>["HP","HP_PERCENT","DEF","DEF_PERCENT","ATK","ATK_PERCENT"].includes(g.value));case"NECKLACE":return he.filter(g=>!["SPEED","DURABILITY","LUCK"].includes(g.value));default:return he.slice(0,4)}}),be=pe(()=>{const z=q.type,g=w.value;if(["PICKAXE","AXE","SHOVEL","FISHING_ROD","CONSUMABLE"].includes(z))return[];let Ie=[...he].filter(L=>!["DURABILITY","LUCK"].includes(L.value));return["RING","NECKLACE"].includes(z)||(z==="WEAPON"?Ie=Ie.filter(L=>!["HP","HP_PERCENT","DEF","DEF_PERCENT"].includes(L.value)):["ARMOR","HELMET"].includes(z)?Ie=Ie.filter(L=>!["ATK","ATK_PERCENT","CRIT_RATE","CRIT_DMG","SPEED"].includes(L.value)):z==="BOOTS"&&(Ie=Ie.filter(L=>!["ATK","ATK_PERCENT","CRIT_RATE","CRIT_DMG"].includes(L.value)))),Ie.filter(L=>L.value!==g)}),Ne=z=>{i.value=z,z==="stats"&&t.fetchStats(),z==="users"&&t.fetchUsers(),(z==="items"||z==="notify")&&t.fetchItems()},E=z=>{o.openChatWith(z),n.showToast(`ang kt ni thn thc vi ${z.username}`,"info")},N=()=>{a.value=!a.value,a.value&&(I.value=1,Object.assign(q,{code:"",name:"",description:"",type:"WEAPON",slotType:"WEAPON",rarity:"COMMON",basePrice:0,imageUrl:"",isSystemItem:!1,isLimited:!1,atkBonus:0,defBonus:0,hpBonus:0,speedBonus:0,maxDurability:0,minLuck:0,maxLuck:0,energySaveChance:0}),P.value="DROP",w.value="ATK",S.value=0,G.value=0,j.value=!1,se.value=[])},U=z=>{q.type=z,q.slotType=z,["PICKAXE","AXE","SHOVEL","FISHING_ROD"].includes(z)?w.value="DURABILITY":z==="ARMOR"||z==="HELMET"?w.value="DEF":z==="BOOTS"?w.value="SPEED":z==="CONSUMABLE"?w.value="HP":w.value="ATK",setTimeout(()=>ne(),200)},oe=z=>{q.imageUrl=z},ie=z=>{q.rarity=z,se.value=[];const g=_e();for(let Ie=0;Ie<g;Ie++)se.value.push({type:"",value:0});ae()},ne=()=>{I.value<6&&I.value++,I.value===4&&ie(q.rarity),I.value===6&&ae()},_e=()=>["PICKAXE","AXE","SHOVEL","FISHING_ROD","CONSUMABLE"].includes(q.type)?0:{COMMON:0,UNCOMMON:1,RARE:2,EPIC:3,LEGENDARY:4,MYTHIC:5}[q.rarity]||0,ge=z=>["PICKAXE","AXE","SHOVEL","FISHING_ROD","CONSUMABLE"].includes(q.type)?"0 dng":({COMMON:0,UNCOMMON:1,RARE:2,EPIC:3,LEGENDARY:4,MYTHIC:5}[z]||0)+" dng",ve=z=>{const g=he.find(Ie=>Ie.value===z);return g?g.label:z},ae=()=>{q.atkBonus=0,q.defBonus=0,q.hpBonus=0,q.speedBonus=0,q.maxDurability=0,q.minLuck=0,q.maxLuck=0,B(w.value,S.value),se.value.forEach(Ie=>{Ie.type&&Ie.value&&B(Ie.type,Ie.value)});let z=200;z+=(q.atkBonus||0)+(q.defBonus||0)+(q.hpBonus||0),z+=(q.speedBonus||0)*200,z+=(q.maxDurability||0)+(q.maxLuck||0)*10,se.value.forEach(Ie=>{Ie.type&&Ie.value&&(Ie.type.includes("PERCENT")||Ie.type.includes("CRIT"))&&(z+=Ie.value*50)}),(w.value.includes("PERCENT")||w.value.includes("CRIT"))&&(z+=S.value*50);const g={COMMON:1,UNCOMMON:2,RARE:5,EPIC:15,LEGENDARY:50,MYTHIC:200};G.value=z*(g[q.rarity]||1),j.value||(q.basePrice=G.value)},B=(z,g)=>{z==="ATK"?q.atkBonus+=g:z==="DEF"?q.defBonus+=g:z==="HP"?q.hpBonus+=g:z==="SPEED"?q.speedBonus+=g:z==="DURABILITY"?q.maxDurability=g:z==="LUCK"&&(q.maxLuck=g,q.minLuck=Math.floor(g*.8))};mt(()=>q.basePrice,z=>{z!==G.value&&(j.value=!0)});const R=async()=>{var z,g;try{q.slotType=q.type,P.value==="SHOP"?(q.isSystemItem=!0,q.isLimited=!1):P.value==="LIMITED"?(q.isSystemItem=!1,q.isLimited=!0):(q.isSystemItem=!1,q.isLimited=!1),await ye.post("/admin/item/create",q),n.showToast("Ch tc thnh cng!","success"),t.fetchItems(),a.value=!1}catch(Ie){console.error(Ie),n.showToast("Li ch tc: "+(((g=(z=Ie.response)==null?void 0:z.data)==null?void 0:g.message)||"Kim tra li thng tin"),"error")}},me=async()=>{var z,g;if(!p.value){p.value=!0;try{await t.grantGold(T.username,T.amount),n.showToast(" cp ngn lng!","success"),T.amount=1e3}catch(Ie){n.showToast("Li: "+(((g=(z=Ie.response)==null?void 0:z.data)==null?void 0:g.message)||Ie.message),"error")}finally{p.value=!1}}},Ee=async()=>{if(!b.value){b.value=!0;try{await t.grantEcho($.username,$.amount),n.showToast(" ban EchoCoin!","success"),$.username="",$.amount=""}catch{n.showToast("Li ban thng Echo!","error")}finally{b.value=!1}}},le=async()=>{var z,g;if(!C.value){C.value=!0;try{await t.grantItem(k.username,k.itemId,k.quantity),n.showToast(" ban bo vt!","success"),k.quantity=1}catch(Ie){n.showToast("Li: "+(((g=(z=Ie.response)==null?void 0:z.data)==null?void 0:g.message)||Ie.message),"error")}finally{C.value=!1}}},Me=async()=>{var z;if(!x.value){if(!A.title||!A.message){n.showToast("Thiu tiu  hoc ni dung!","warning");return}x.value=!0;try{await t.sendNotification(A),n.showToast(" pht loa!","success"),A.title="",A.message="",A.recipientUsername=""}catch(g){n.showToast("Li pht loa: "+(((z=g.response)==null?void 0:z.data)||g.message),"error")}finally{x.value=!1}}},Ue=z=>{l.value=z,c.value="",r.value=!0},Ve=async()=>{if(!c.value)return n.showToast("Cn l do trng pht!","warning");try{await t.banUser(l.value.userId,c.value),n.showToast(" thi hnh n!","success"),r.value=!1}catch{n.showToast("Li ban!","error")}},tt=async z=>{if(confirm(`n x cho ${z.username}?`))try{await t.unbanUser(z.userId),n.showToast(" n x!","success")}catch{n.showToast("Li!","error")}},it=async z=>{if(confirm(`Xa vnh vin ${z.username}?`))try{await ye.delete(`/admin/user/${z.userId}`),t.fetchUsers(),n.showToast(" xa!","success")}catch{n.showToast("Li!","error")}},We=async z=>{var g,Ie;if(confirm(`Hy b vt phm ${z.name}?`))try{const L=z.id||z.itemId;await ye.delete(`/admin/item/${L}`),t.fetchItems(),n.showToast(" hy!","success")}catch(L){n.showToast("Li: "+(((Ie=(g=L.response)==null?void 0:g.data)==null?void 0:Ie.message)||"Khng th xa"),"error")}},dt=z=>{z.target.src=He("o_coal.png")},xt=z=>{Object.assign(u,JSON.parse(JSON.stringify(z))),!u.id&&u.itemId&&(u.id=u.itemId),f.value=!0},ut=async()=>{var z;try{const g=u.id||u.itemId;await ye.put(`/admin/item/${g}`,u),n.showToast("Cp nht vt phm thnh cng!","success"),f.value=!1,t.fetchItems()}catch(g){n.showToast("Li cp nht: "+(((z=g.response)==null?void 0:z.data)||g.message),"error")}},re=z=>{Object.assign(h,{userId:z.userId,username:z.username,email:z.email,avatarUrl:z.avatarUrl,newPassword:""}),d.value=!0},ce=async()=>{var z;try{const g={...h};g.newPassword||delete g.newPassword,await ye.put(`/admin/user/${h.userId}`,g),n.showToast("Cp nht h s thnh cng!","success"),d.value=!1,t.fetchUsers()}catch(g){n.showToast("Li cp nht: "+(((z=g.response)==null?void 0:z.data)||g.message),"error")}};return at(()=>{t.fetchStats(),t.fetchUsers()}),(z,g)=>{var Ie;return v(),m("div",aM,[g[132]||(g[132]=s("div",{class:"bg-layer base"},null,-1)),g[133]||(g[133]=s("div",{class:"bg-layer overlay"},null,-1)),g[134]||(g[134]=s("div",{class:"particles"},null,-1)),s("div",rM,[g[111]||(g[111]=Ot('<header class="admin-header fade-in-down" data-v-0ad433fc><div class="header-content" data-v-0ad433fc><h1 class="glow-text" data-v-0ad433fc>QUN TR THIN PH</h1><p class="subtitle" data-v-0ad433fc> Ni nm gi vn mnh chng sinh, iu phi thin c </p></div><div class="header-decor" data-v-0ad433fc></div></header>',1)),s("nav",lM,[(v(),m(Ce,null,Re(V,L=>s("button",{key:L.id,onClick:qe=>Ne(L.id),class:X(["nav-item",{active:i.value===L.id}])},[s("i",{class:X(L.icon)},null,2),s("span",null,_(L.label),1),g[54]||(g[54]=s("div",{class:"nav-glow"},null,-1))],10,cM)),64))]),s("main",uM,[i.value==="stats"?(v(),m("section",dM,[s("div",fM,[g[56]||(g[56]=s("div",{class:"icon-box user"},[s("i",{class:"fas fa-users"})],-1)),s("div",hM,[g[55]||(g[55]=s("h3",null,"Tng Nhn S",-1)),s("div",pM,_(H(t).stats.totalUsers||0),1)])]),s("div",vM,[g[58]||(g[58]=s("div",{class:"icon-box item"},[s("i",{class:"fas fa-khanda"})],-1)),s("div",mM,[g[57]||(g[57]=s("h3",null,"K Trn D Bo",-1)),s("div",gM,_(H(t).stats.totalItems||0),1)])]),s("div",yM,[g[60]||(g[60]=s("div",{class:"icon-box gold"},[s("i",{class:"fas fa-coins"})],-1)),s("div",bM,[g[59]||(g[59]=s("h3",null,"Tng Ngn Lng",-1)),s("div",_M,_(Y(H(t).stats.totalGold||0)),1)])]),s("div",wM,[g[62]||(g[62]=s("div",{class:"icon-box echo"},[s("i",{class:"fas fa-gem"})],-1)),s("div",$M,[g[61]||(g[61]=s("h3",null,"Tng EchoCoin",-1)),s("div",CM,_(Y(H(t).stats.totalEchoMined||0)),1)])])])):W("",!0),i.value==="users"?(v(),m("section",TM,[s("div",EM,[s("div",kM,[g[63]||(g[63]=s("i",{class:"fas fa-search"},null,-1)),$e(s("input",{"onUpdate:modelValue":g[0]||(g[0]=L=>Ae.search=L),placeholder:"Truy tm danh tnh..."},null,512),[[Te,Ae.search]])]),s("div",SM,[$e(s("select",{"onUpdate:modelValue":g[1]||(g[1]=L=>Ae.role=L)},[...g[64]||(g[64]=[s("option",{value:""},"Tt c Gii",-1),s("option",{value:"USER"},"o Hu (User)",-1),s("option",{value:"ADMIN"},"Tin  (Admin)",-1)])],512),[[Vt,Ae.role]]),$e(s("select",{"onUpdate:modelValue":g[2]||(g[2]=L=>Ae.status=L)},[...g[65]||(g[65]=[s("option",{value:""},"Sinh Mnh",-1),s("option",{value:"active"},"T Do",-1),s("option",{value:"banned"},"Ngc Ti",-1)])],512),[[Vt,Ae.status]])])]),s("div",IM,[s("table",xM,[g[71]||(g[71]=s("thead",null,[s("tr",null,[s("th",null,"Linh Bi (ID)"),s("th",null,"o Hiu"),s("th",null,"Truyn m (Email)"),s("th",null,"Cnh Gii"),s("th",null,"Trng Thi"),s("th",null,"Phn Quyt")])],-1)),s("tbody",null,[(v(!0),m(Ce,null,Re(K.value,L=>(v(),m("tr",{key:L.userId},[s("td",NM,"#"+_(L.userId),1),s("td",AM,_(L.username),1),s("td",null,_(L.email),1),s("td",null,[s("span",{class:X(["badge",L.role.toLowerCase()])},_(L.role),3)]),s("td",null,[L.isActive?(v(),m("span",RM)):(v(),m("span",LM)),J(" "+_(L.isActive?"Tiu Dao":"Phong n"),1)]),s("td",OM,[s("button",{onClick:qe=>re(L),class:"btn-icon edit",title:"Sa h s"},[...g[66]||(g[66]=[s("i",{class:"fas fa-pen"},null,-1)])],8,PM),s("button",{onClick:qe=>E(L),class:"btn-icon chat",title:"Mt m"},[...g[67]||(g[67]=[s("i",{class:"fas fa-comment-dots"},null,-1)])],8,MM),L.isActive?(v(),m("button",{key:0,onClick:qe=>Ue(L),class:"btn-icon ban",title:"Giam cm"},[...g[68]||(g[68]=[s("i",{class:"fas fa-gavel"},null,-1)])],8,HM)):(v(),m("button",{key:1,onClick:qe=>tt(L),class:"btn-icon unban",title:"n x"},[...g[69]||(g[69]=[s("i",{class:"fas fa-lock-open"},null,-1)])],8,UM)),s("button",{onClick:qe=>it(L),class:"btn-icon delete",title:"Trm hn (Xa)"},[...g[70]||(g[70]=[s("i",{class:"fas fa-skull"},null,-1)])],8,DM)])]))),128))])]),K.value.length===0?(v(),m("div",BM,[...g[72]||(g[72]=[s("i",{class:"fas fa-wind"},null,-1),J(" Khng tm thy bng dng ai... ",-1)])])):W("",!0)])])):W("",!0),i.value==="items"?(v(),m("section",qM,[s("div",FM,[s("button",{onClick:N,class:"btn-create"},[s("i",{class:X(a.value?"fas fa-times":"fas fa-plus-circle")},null,2),J(" "+_(a.value?"ng L Luyn":"Ch Tc Bo Vt"),1)])]),fe(Ge,{name:"fade"},{default:ke(()=>[a.value?(v(),m("div",GM,[s("div",VM,[g[73]||(g[73]=s("h3",{class:"panel-title-small"},[s("i",{class:"fas fa-fire"}),J(" L Luyn To Tc ")],-1)),s("div",jM,"Bc "+_(I.value)+"/6",1)]),s("div",KM,[s("div",{class:"progress-bar",style:Pe({width:I.value/6*100+"%"})},null,4)]),s("form",{onSubmit:Ze(R,["prevent"]),class:"wizard-form"},[I.value===1?(v(),m("div",WM,[g[75]||(g[75]=s("div",{class:"step-label"},"1. Chn Chng Loi",-1)),s("div",zM,[(v(),m(Ce,null,Re(ue,L=>s("div",{key:L.value,class:X(["type-card",{selected:q.type===L.value}]),onClick:qe=>U(L.value)},[g[74]||(g[74]=s("div",{class:"card-glow"},null,-1)),s("i",{class:X(L.icon)},null,2),s("span",null,_(L.label),1)],10,XM)),64))])])):W("",!0),I.value===2?(v(),m("div",YM,[g[80]||(g[80]=s("div",{class:"step-label"},"2. nh Danh Php Bo",-1)),s("div",JM,[s("div",QM,[g[76]||(g[76]=s("label",null,"M nh Danh (Code)",-1)),$e(s("input",{"onUpdate:modelValue":g[3]||(g[3]=L=>q.code=L),placeholder:"VD: SWORD_DRAGON_01",required:""},null,512),[[Te,q.code]])]),s("div",ZM,[g[77]||(g[77]=s("label",null,"Tn Hin Th",-1)),$e(s("input",{"onUpdate:modelValue":g[4]||(g[4]=L=>q.name=L),placeholder:"VD: Huyt Long ao",required:""},null,512),[[Te,q.name]])]),s("div",e4,[g[78]||(g[78]=s("label",null,"M T Huyn Nng",-1)),$e(s("textarea",{"onUpdate:modelValue":g[5]||(g[5]=L=>q.description=L),placeholder:"M t cng dng, truyn thuyt...",rows:"3"},null,512),[[Te,q.description]])])]),s("div",t4,[s("button",{type:"button",onClick:g[6]||(g[6]=L=>I.value--),class:"btn-back"}," Quay li "),s("button",{type:"button",onClick:ne,class:"btn-next",disabled:!q.code||!q.name},[...g[79]||(g[79]=[J(" Tip Tc ",-1),s("i",{class:"fas fa-arrow-right"},null,-1)])],8,s4)])])):W("",!0),I.value===3?(v(),m("div",n4,[g[84]||(g[84]=s("div",{class:"step-label"},"3. Chn Hnh Dng (Asset)",-1)),s("div",o4,[s("div",i4,[(v(!0),m(Ce,null,Re(ee.value,(L,qe)=>(v(),m("div",{key:qe,class:X(["asset-item",{selected:q.imageUrl===Le.value[qe]}]),onClick:kt=>oe(Le.value[qe])},[s("img",{src:L,alt:"asset"},null,8,r4),g[81]||(g[81]=s("div",{class:"asset-check"},[s("i",{class:"fas fa-check"})],-1))],10,a4))),128))])]),s("div",l4,[g[82]||(g[82]=s("label",null,"Hoc nhp URL nh ngoi:",-1)),$e(s("input",{"onUpdate:modelValue":g[7]||(g[7]=L=>q.imageUrl=L),placeholder:"https://...",class:"full-width"},null,512),[[Te,q.imageUrl]])]),s("div",c4,[s("button",{type:"button",onClick:g[8]||(g[8]=L=>I.value--),class:"btn-back"}," Quay li "),s("button",{type:"button",onClick:ne,class:"btn-next",disabled:!q.imageUrl},[...g[83]||(g[83]=[J(" Tip Tc ",-1),s("i",{class:"fas fa-arrow-right"},null,-1)])],8,u4)])])):W("",!0),I.value===4?(v(),m("div",d4,[g[86]||(g[86]=s("div",{class:"step-label"},"4. Chn Phm Cp",-1)),s("div",f4,[(v(),m(Ce,null,Re(xe,L=>s("div",{key:L.value,class:X(["rarity-card",L.value,{selected:q.rarity===L.value}]),onClick:qe=>ie(L.value)},[s("span",null,_(L.label),1),s("small",null,_(ge(L.value)),1)],10,h4)),64))]),s("div",p4,[s("button",{type:"button",onClick:g[9]||(g[9]=L=>I.value--),class:"btn-back"}," Quay li "),s("button",{type:"button",onClick:ne,class:"btn-next"},[...g[85]||(g[85]=[J(" Tip Tc ",-1),s("i",{class:"fas fa-arrow-right"},null,-1)])])])])):W("",!0),I.value===5?(v(),m("div",v4,[g[89]||(g[89]=s("div",{class:"step-label"},"5. Thi Hn (Ch S)",-1)),de.value.length>0?(v(),m("div",m4,[s("label",g4,"1. Ch S Chnh (Da theo loi "+_(q.type)+")",1),s("div",y4,[$e(s("select",{"onUpdate:modelValue":g[10]||(g[10]=L=>w.value=L),class:"main-stat-select",onChange:ae},[(v(!0),m(Ce,null,Re(de.value,L=>(v(),m("option",{key:L.value,value:L.value},_(L.label),9,b4))),128))],544),[[Vt,w.value]])]),s("div",_4,[$e(s("input",{type:"number","onUpdate:modelValue":g[11]||(g[11]=L=>S.value=L),class:"big-input",placeholder:"Nhp gi tr...",onInput:ae},null,544),[[Te,S.value,void 0,{number:!0}]])])])):(v(),m("div",w4," Vt phm ny khng cn ch s chnh. ")),g[90]||(g[90]=s("div",{class:"divider-line"},null,-1)),s("div",$4,[s("label",C4,"2. Dng Ph ("+_(se.value.length)+" dng)",1),se.value.length>0&&be.value.length>0?(v(),m("div",T4,[(v(!0),m(Ce,null,Re(se.value,(L,qe)=>(v(),m("div",{key:qe,class:"sub-stat-row fade-in"},[s("span",E4,"#"+_(qe+1),1),$e(s("select",{"onUpdate:modelValue":kt=>L.type=kt,class:"sub-stat-select",onChange:ae},[g[87]||(g[87]=s("option",{value:""},"-- Chn --",-1)),(v(!0),m(Ce,null,Re(be.value,kt=>(v(),m("option",{key:kt.value,value:kt.value},_(kt.label),9,S4))),128))],40,k4),[[Vt,L.type]]),$e(s("input",{type:"number","onUpdate:modelValue":kt=>L.value=kt,placeholder:"Gi tr",onInput:ae},null,40,I4),[[Te,L.value,void 0,{number:!0}]]),L.type&&L.type.includes("_")?(v(),m("span",x4,"%")):W("",!0)]))),128))])):(v(),m("div",N4,[be.value.length===0?(v(),m("span",A4,"Vt phm ny khng h tr dng ph.")):(v(),m("span",R4,"Phm cht ny cha c dng ph."))]))]),s("div",L4,[s("button",{type:"button",onClick:g[12]||(g[12]=L=>I.value--),class:"btn-back"}," Quay li "),s("button",{type:"button",onClick:ne,class:"btn-next"},[...g[88]||(g[88]=[J(" Tip Tc ",-1),s("i",{class:"fas fa-arrow-right"},null,-1)])])])])):W("",!0),I.value===6?(v(),m("div",O4,[g[98]||(g[98]=s("div",{class:"step-label"},"6. Thm nh & Xut Xng",-1)),s("div",P4,[s("div",M4,[s("img",{src:H(He)(q.imageUrl),class:"preview-img"},null,8,H4),s("div",U4,[s("h4",{class:X("rarity-"+q.rarity)},_(q.name),3),s("p",null,_(q.rarity)+" - "+_(q.type),1),s("div",D4," Main: +"+_(S.value)+" "+_(ve(w.value)),1),s("div",B4,[(v(!0),m(Ce,null,Re(se.value,(L,qe)=>(v(),m("div",{key:qe,class:"preview-sub"},[L.type&&L.value?(v(),m("small",q4," +"+_(L.value)+_(L.type.includes("_")?"%":"")+" "+_(ve(L.type)),1)):W("",!0)]))),128))])])])]),s("div",F4,[g[94]||(g[94]=s("label",{class:"sub-label"},"Loi Hnh Phn Phi:",-1)),s("div",G4,[s("div",{class:X(["dist-card",{active:P.value==="SHOP"}]),onClick:g[13]||(g[13]=L=>P.value="SHOP")},[...g[91]||(g[91]=[s("i",{class:"fas fa-store"},null,-1),s("div",null,[s("strong",null,"Shop V Hn"),s("small",null,"Bn i tr.")],-1)])],2),s("div",{class:X(["dist-card",{active:P.value==="DROP"}]),onClick:g[14]||(g[14]=L=>P.value="DROP")},[...g[92]||(g[92]=[s("i",{class:"fas fa-skull"},null,-1),s("div",null,[s("strong",null,"Sn Bt (Drop)"),s("small",null,"Ri t qui.")],-1)])],2),s("div",{class:X(["dist-card","limited",{active:P.value==="LIMITED"}]),onClick:g[15]||(g[15]=L=>P.value="LIMITED")},[...g[93]||(g[93]=[s("i",{class:"fas fa-crown"},null,-1),s("div",null,[s("strong",null,"Hng Him"),s("small",null,"c quyn Admin.")],-1)])],2)])]),s("div",V4,[s("div",j4,[g[95]||(g[95]=s("span",null,"Gi Gi :",-1)),s("strong",K4,_(Y(G.value))+" Vng",1)]),s("div",W4,[g[96]||(g[96]=s("label",null,"Gi Nim Yt:",-1)),$e(s("input",{"onUpdate:modelValue":g[16]||(g[16]=L=>q.basePrice=L),type:"number",class:"price-input"},null,512),[[Te,q.basePrice,void 0,{number:!0}]])])]),s("div",z4,[s("button",{type:"button",onClick:g[17]||(g[17]=L=>I.value=1),class:"btn-reset"}," Lm Li "),g[97]||(g[97]=s("button",{type:"submit",class:"btn-submit-final"}," KHAI L (TO NGAY) ",-1))])])):W("",!0)],32)])):W("",!0)]),_:1}),s("div",X4,[s("div",Y4,[g[99]||(g[99]=s("i",{class:"fas fa-search"},null,-1)),$e(s("input",{"onUpdate:modelValue":g[18]||(g[18]=L=>y.search=L),placeholder:"Tm tn hoc m bo vt..."},null,512),[[Te,y.search]])]),s("div",J4,[$e(s("select",{"onUpdate:modelValue":g[19]||(g[19]=L=>y.type=L)},[g[100]||(g[100]=s("option",{value:""},"-- Tt C Loi --",-1)),(v(),m(Ce,null,Re(ue,L=>s("option",{key:L.value,value:L.value},_(L.label),9,Q4)),64))],512),[[Vt,y.type]]),$e(s("select",{"onUpdate:modelValue":g[20]||(g[20]=L=>y.rarity=L)},[g[101]||(g[101]=s("option",{value:""},"-- Tt C Phm --",-1)),(v(),m(Ce,null,Re(xe,L=>s("option",{key:L.value,value:L.value},_(L.label),9,Z4)),64))],512),[[Vt,y.rarity]])])]),s("div",e5,[s("table",t5,[g[104]||(g[104]=s("thead",null,[s("tr",null,[s("th",null,"Code"),s("th",null,"Php Bo"),s("th",null,"Loi"),s("th",null,"Phm Cp"),s("th",null,"Gi"),s("th",null,"Ngun"),s("th",null,"Thao Tc")])],-1)),s("tbody",null,[(v(!0),m(Ce,null,Re(O.value,L=>(v(),m("tr",{key:L.id||L.itemId},[s("td",s5,_(L.code),1),s("td",n5,[s("img",{src:H(He)(L.imageUrl),class:"mini-icon"},null,8,o5),J(" "+_(L.name),1)]),s("td",null,_(L.type),1),s("td",{class:X(["rarity","rarity-"+L.rarity])},_(L.rarity),3),s("td",i5,_(Y(L.basePrice)),1),s("td",null,[L.isLimited?(v(),m("span",a5,"Limited")):L.isSystemItem?(v(),m("span",r5,"Shop")):(v(),m("span",l5,"Drop"))]),s("td",c5,[s("button",{onClick:qe=>xt(L),class:"btn-icon edit",title:"Chnh sa"},[...g[102]||(g[102]=[s("i",{class:"fas fa-pen"},null,-1)])],8,u5),s("button",{onClick:qe=>We(L),class:"btn-icon delete"},[...g[103]||(g[103]=[s("i",{class:"fas fa-trash-alt"},null,-1)])],8,d5)])]))),128))])]),O.value.length===0?(v(),m("div",f5,[...g[105]||(g[105]=[s("i",{class:"fas fa-box-open"},null,-1),J(" Kho tng trng rng... ",-1)])])):W("",!0)])])):W("",!0),i.value==="notify"?(v(),m("section",h5,[s("div",p5,[g[107]||(g[107]=s("h3",{class:"panel-title"},[s("i",{class:"fas fa-gift"}),J(" Ban Thng Thin Triu ")],-1)),s("form",{onSubmit:Ze(me,["prevent"]),class:"simple-form"},[$e(s("input",{"onUpdate:modelValue":g[21]||(g[21]=L=>T.username=L),placeholder:"o hiu ngi nhn",required:""},null,512),[[Te,T.username]]),$e(s("input",{"onUpdate:modelValue":g[22]||(g[22]=L=>T.amount=L),type:"number",placeholder:"S lng vng",required:""},null,512),[[Te,T.amount,void 0,{number:!0}]]),s("button",{type:"submit",class:"btn-action gold btn-interactive",disabled:p.value},[p.value?(v(),m("i",m5)):W("",!0),J(" "+_(p.value?"ang chuyn...":"Ban Ngn Lng"),1)],8,v5)],32),s("form",{onSubmit:Ze(Ee,["prevent"]),class:"simple-form",style:{"margin-top":"15px"}},[$e(s("input",{"onUpdate:modelValue":g[23]||(g[23]=L=>$.username=L),placeholder:"o hiu ngi nhn",required:""},null,512),[[Te,$.username]]),$e(s("input",{"onUpdate:modelValue":g[24]||(g[24]=L=>$.amount=L),type:"text",placeholder:"S lng Echo (VD: 10.5)",required:""},null,512),[[Te,$.amount]]),s("button",{type:"submit",class:"btn-action cyan btn-interactive",disabled:b.value},[b.value?(v(),m("i",y5)):W("",!0),J(" "+_(b.value?"ang chuyn...":"Ban EchoCoin"),1)],8,g5)],32),g[108]||(g[108]=s("div",{class:"divider-line"},null,-1)),s("form",{onSubmit:Ze(le,["prevent"]),class:"simple-form"},[$e(s("input",{"onUpdate:modelValue":g[25]||(g[25]=L=>k.username=L),placeholder:"o hiu ngi nhn",required:""},null,512),[[Te,k.username]]),s("div",b5,[s("div",_5,[$e(s("input",{"onUpdate:modelValue":g[26]||(g[26]=L=>D.value=L),placeholder:"Tm tn/m...",class:"search-input"},null,512),[[Te,D.value]]),$e(s("select",{"onUpdate:modelValue":g[27]||(g[27]=L=>Q.value=L),class:"type-filter"},[g[106]||(g[106]=s("option",{value:""},"Tt c",-1)),(v(),m(Ce,null,Re(ue,L=>s("option",{key:L.value,value:L.value},_(L.label),9,w5)),64))],512),[[Vt,Q.value]])]),s("div",$5,[(v(!0),m(Ce,null,Re(F.value,L=>(v(),m("div",{key:L.id||L.itemId,class:X(["select-item-row",{active:k.itemId===(L.id||L.itemId)}]),onClick:qe=>k.itemId=L.id||L.itemId},[s("span",T5,_(L.name),1),s("span",{class:X(["item-rarity-badge","rarity-"+L.rarity])},_(L.rarity),3)],10,C5))),128)),F.value.length===0?(v(),m("div",E5," Khng tm thy vt phm ")):W("",!0)]),Se.value?(v(),m("div",k5,[s("img",{src:H(He)(Se.value.imageUrl),class:"preview-icon"},null,8,S5),s("div",I5,[s("div",{class:X(["preview-name","rarity-"+Se.value.rarity])},_(Se.value.name),3),s("small",null,_(Se.value.code),1)])])):W("",!0)]),$e(s("input",{"onUpdate:modelValue":g[28]||(g[28]=L=>k.quantity=L),type:"number",placeholder:"S lng",required:"",style:{"margin-top":"10px"}},null,512),[[Te,k.quantity,void 0,{number:!0}]]),s("button",{type:"submit",class:"btn-action blue btn-interactive",disabled:C.value||!k.itemId},[C.value?(v(),m("i",N5)):W("",!0),J(" "+_(C.value?"ang ch tc...":"Ban Bo Vt"),1)],8,x5)],32)]),s("div",A5,[g[110]||(g[110]=s("h3",{class:"panel-title"},[s("i",{class:"fas fa-scroll"}),J(" Son Co Th ")],-1)),s("form",{onSubmit:Ze(Me,["prevent"]),class:"simple-form"},[$e(s("input",{"onUpdate:modelValue":g[29]||(g[29]=L=>A.title=L),placeholder:"Tiu ...",required:""},null,512),[[Te,A.title]]),$e(s("select",{"onUpdate:modelValue":g[30]||(g[30]=L=>A.type=L),class:"dark-select"},[...g[109]||(g[109]=[s("option",{value:"INFO"},"Tin Tc",-1),s("option",{value:"SUCCESS"},"Tin Mng",-1),s("option",{value:"WARNING"},"Cnh Bo",-1),s("option",{value:"REWARD"},"Phn Thng",-1)])],512),[[Vt,A.type]]),$e(s("textarea",{"onUpdate:modelValue":g[31]||(g[31]=L=>A.message=L),rows:"5",placeholder:"Ni dung co th..."},null,512),[[Te,A.message]]),$e(s("input",{"onUpdate:modelValue":g[32]||(g[32]=L=>A.recipientUsername=L),placeholder:"Ngi nhn ( trng = Ton Server)"},null,512),[[Te,A.recipientUsername]]),s("button",{type:"submit",class:"btn-action red btn-interactive",disabled:x.value},[x.value?(v(),m("i",L5)):W("",!0),J(" "+_(x.value?"ang pht loa...":"Pht Loa Ton Ci"),1)],8,R5)],32)])])):W("",!0)])]),f.value?(v(),m("div",{key:0,class:"modal-backdrop",onClick:g[44]||(g[44]=Ze(L=>f.value=!1,["self"]))},[s("div",O5,[g[124]||(g[124]=s("div",{class:"modal-header"},[s("i",{class:"fas fa-edit"}),J(" CHNH SA PHP BO ")],-1)),s("div",P5,[s("div",M5,[s("img",{src:H(He)(u.imageUrl),class:"preview-large",onError:dt},null,40,H5),s("div",U5,[s("strong",{class:X("rarity-"+u.rarity)},_(u.name),3),s("small",null,_(u.code),1)])]),s("div",D5,[s("div",B5,[g[112]||(g[112]=s("label",null,"Tn Hin Th",-1)),$e(s("input",{"onUpdate:modelValue":g[33]||(g[33]=L=>u.name=L)},null,512),[[Te,u.name]])]),s("div",q5,[g[113]||(g[113]=s("label",null,"Gi (Vng)",-1)),$e(s("input",{"onUpdate:modelValue":g[34]||(g[34]=L=>u.basePrice=L),type:"number"},null,512),[[Te,u.basePrice,void 0,{number:!0}]])]),s("div",F5,[g[114]||(g[114]=s("label",null,"M T",-1)),$e(s("textarea",{"onUpdate:modelValue":g[35]||(g[35]=L=>u.description=L),rows:"2"},null,512),[[Te,u.description]])]),s("div",G5,[g[115]||(g[115]=s("label",null,"URL Hnh nh",-1)),$e(s("input",{"onUpdate:modelValue":g[36]||(g[36]=L=>u.imageUrl=L),placeholder:"https://..."},null,512),[[Te,u.imageUrl]])]),s("div",V5,[g[122]||(g[122]=s("label",{class:"section-label"},"Ch S Chin u",-1)),s("div",j5,[s("div",null,[g[116]||(g[116]=s("label",null,"ATK",-1)),$e(s("input",{type:"number","onUpdate:modelValue":g[37]||(g[37]=L=>u.atkBonus=L)},null,512),[[Te,u.atkBonus,void 0,{number:!0}]])]),s("div",null,[g[117]||(g[117]=s("label",null,"DEF",-1)),$e(s("input",{type:"number","onUpdate:modelValue":g[38]||(g[38]=L=>u.defBonus=L)},null,512),[[Te,u.defBonus,void 0,{number:!0}]])]),s("div",null,[g[118]||(g[118]=s("label",null,"HP",-1)),$e(s("input",{type:"number","onUpdate:modelValue":g[39]||(g[39]=L=>u.hpBonus=L)},null,512),[[Te,u.hpBonus,void 0,{number:!0}]])]),s("div",null,[g[119]||(g[119]=s("label",null,"SPD",-1)),$e(s("input",{type:"number","onUpdate:modelValue":g[40]||(g[40]=L=>u.speedBonus=L)},null,512),[[Te,u.speedBonus,void 0,{number:!0}]])])]),g[123]||(g[123]=s("label",{class:"section-label mt-2"},"Ch S Cng C",-1)),s("div",K5,[s("div",null,[g[120]||(g[120]=s("label",null,"Bn",-1)),$e(s("input",{type:"number","onUpdate:modelValue":g[41]||(g[41]=L=>u.maxDurability=L)},null,512),[[Te,u.maxDurability,void 0,{number:!0}]])]),s("div",null,[g[121]||(g[121]=s("label",null,"Luck",-1)),$e(s("input",{type:"number","onUpdate:modelValue":g[42]||(g[42]=L=>u.maxLuck=L)},null,512),[[Te,u.maxLuck,void 0,{number:!0}]])])])])])]),s("div",W5,[s("button",{onClick:g[43]||(g[43]=L=>f.value=!1),class:"btn-cancel"}," Hy "),s("button",{onClick:ut,class:"btn-confirm-edit"}," Lu Thay i ")])])])):W("",!0),d.value?(v(),m("div",{key:1,class:"modal-backdrop",onClick:g[50]||(g[50]=Ze(L=>d.value=!1,["self"]))},[s("div",z5,[g[129]||(g[129]=s("div",{class:"modal-header"},[s("i",{class:"fas fa-user-edit"}),J(" H S O HU ")],-1)),s("div",X5,[s("div",Y5,[s("div",J5,[g[125]||(g[125]=s("label",null,"Tn ng Nhp (Readonly)",-1)),$e(s("input",{"onUpdate:modelValue":g[45]||(g[45]=L=>h.username=L),disabled:"",class:"disabled-input"},null,512),[[Te,h.username]])]),s("div",Q5,[g[126]||(g[126]=s("label",null,"Email Lin Lc",-1)),$e(s("input",{"onUpdate:modelValue":g[46]||(g[46]=L=>h.email=L)},null,512),[[Te,h.email]])]),s("div",Z5,[g[127]||(g[127]=s("label",null,"Avatar URL",-1)),$e(s("input",{"onUpdate:modelValue":g[47]||(g[47]=L=>h.avatarUrl=L)},null,512),[[Te,h.avatarUrl]])]),s("div",eH,[g[128]||(g[128]=s("label",null,"i Mt Khu (B trng nu khng i)",-1)),$e(s("input",{"onUpdate:modelValue":g[48]||(g[48]=L=>h.newPassword=L),type:"password",placeholder:"Nhp mt khu mi..."},null,512),[[Te,h.newPassword]])])])]),s("div",tH,[s("button",{onClick:g[49]||(g[49]=L=>d.value=!1),class:"btn-cancel"}," Hy "),s("button",{onClick:ce,class:"btn-confirm-edit"}," Cp Nht ")])])])):W("",!0),r.value?(v(),m("div",{key:2,class:"modal-backdrop",onClick:g[53]||(g[53]=Ze(L=>r.value=!1,["self"]))},[s("div",sH,[g[131]||(g[131]=s("div",{class:"modal-header-danger"},[s("i",{class:"fas fa-gavel"}),J(" THI HNH K LUT ")],-1)),s("div",nH,[s("p",null,[g[130]||(g[130]=J(" i tng: ",-1)),s("strong",oH,_((Ie=l.value)==null?void 0:Ie.username),1)]),$e(s("textarea",{"onUpdate:modelValue":g[51]||(g[51]=L=>c.value=L),placeholder:"L do trng pht (Vi phm thin quy)..."},null,512),[[Te,c.value]])]),s("div",iH,[s("button",{onClick:g[52]||(g[52]=L=>r.value=!1),class:"btn-cancel"},"Hy"),s("button",{onClick:Ve,class:"btn-confirm-ban"},"Thc Thi")])])])):W("",!0)])}}},rH=Fe(aH,[["__scopeId","data-v-0ad433fc"]]),lH={class:"game-page"},cH={class:"wuxia-panel content-scroll"},uH={class:"dev-grid"},dH={class:"dev-info"},fH={class:"dev-name"},hH={key:0,class:"dev-alias"},pH={__name:"AboutView",setup(e){const t=[{name:"Trn Quang Lng",alias:"LuNu"},{name:"L Hong Lnh",alias:"LuxxMel"},{name:"Hunh Trng Khang",alias:""},{name:"Trnh Hong Bo Huy",alias:"BaoHuy"}];return(n,o)=>(v(),m("div",lH,[o[8]||(o[8]=s("div",{class:"section-title"},[s("h2",null,"Gii Thiu"),s("div",{class:"title-decor"})],-1)),s("div",cH,[o[1]||(o[1]=s("h3",{class:"story-title"},"Khi Nguyn",-1)),o[2]||(o[2]=s("p",null,[J(" Thin a bt nhn, d vn vt vi s cu. Th gii "),s("strong",null,"ECHO MMO"),J(" c hnh thnh t hn mang, ni linh kh hi t, vn vt tranh ua tu luyn  t n cnh gii trng sinh. ")],-1)),o[3]||(o[3]=s("p",null," Ti y, o hu s bt u t mt phm nhn, tri qua mun vn kip nn, khm ph cc b cnh, thu thp thin ti a bo, v sng to ra con ng o ca ring mnh. ",-1)),o[4]||(o[4]=s("h3",{class:"story-title"},"S Mnh",-1)),o[5]||(o[5]=s("p",null,[J(" i ng "),s("strong",null,"AURIX Team"),J(" mong mun kin to mt sn chi nhp vai thun ty, ni k nng v t duy chin thut c t ln hng u. ")],-1)),o[6]||(o[6]=s("h3",{class:"story-title"},"i Ng Pht Trin",-1)),s("div",uH,[(v(),m(Ce,null,Re(t,(i,a)=>s("div",{class:"dev-card",key:a},[o[0]||(o[0]=s("div",{class:"dev-icon"},[s("i",{class:"fas fa-user-ninja"})],-1)),s("div",dH,[s("div",fH,_(i.name),1),i.alias?(v(),m("div",hH,"Bit hiu: "+_(i.alias),1)):W("",!0)])])),64))]),o[7]||(o[7]=s("div",{class:"signature"},[s("p",null,"Thn i,"),s("p",{class:"seal-text"},"AURIX Team")],-1))])]))}},vH=Fe(pH,[["__scopeId","data-v-c8d087d0"]]),mH={class:"help-view page-container"},gH={class:"paper-scroll-container custom-scroll"},yH={class:"form-container"},bH={class:"form-group"},_H={class:"custom-select-wrapper"},wH={class:"form-group"},$H={class:"action-area"},CH=["disabled"],TH={key:0},EH={key:1},kH={__name:"HelpView",setup(e){const t=ko(),n=M(!1),o=Je({category:"",description:""}),i=r=>({BUG:"Bo Li",PAYMENT:"Np Th",REPORT:"T Co",ACCOUNT:"Ti Khon",OTHER:"Khc"})[r]||r,a=async()=>{if(!(!o.category||!o.description)){n.value=!0;try{const r=`[${i(o.category)}] ${o.description}`,l={id:Date.now(),text:r,sender:"me",timestamp:new Date().toISOString()},c="chat_history_admin",f=JSON.parse(localStorage.getItem(c)||"[]");f.push(l),localStorage.setItem(c,JSON.stringify(f)),window.dispatchEvent(new Event("storage")),await new Promise(u=>setTimeout(u,500)),t.openChat(),o.category="",o.description=""}catch(r){console.error("Li:",r),alert("Khng th kt ni vi Quan Ph lc ny!")}finally{n.value=!1}}};return(r,l)=>(v(),m("div",mH,[l[10]||(l[10]=s("div",{class:"view-header"},[s("h2",{class:"header-title"},"LIN LC QUAN PH"),s("div",{class:"header-decor"})],-1)),s("div",gH,[l[8]||(l[8]=s("div",{class:"intro-section"},[s("p",{class:"npc-text"},' "Ti h l Tip Dn S. Hy chn vn  bn di, ta s lp tc kt ni ng dy nng (Chat) trc tip vi Quan Ph i nhn." ')],-1)),s("div",yH,[s("div",bH,[l[4]||(l[4]=s("label",{class:"label-ink"},"Loi S V:",-1)),s("div",_H,[$e(s("select",{"onUpdate:modelValue":l[0]||(l[0]=c=>o.category=c),class:"input-wood select"},[...l[2]||(l[2]=[Ot('<option value="" disabled selected data-v-edb22eef>-- Chn vn  --</option><option value="BUG" data-v-edb22eef>Bo Li (Bug/Lag)</option><option value="PAYMENT" data-v-edb22eef>Vn  Np/Ngn Lng</option><option value="REPORT" data-v-edb22eef>T Co Ngi Chi</option><option value="ACCOUNT" data-v-edb22eef>Ti Khon/Mt Khu</option><option value="OTHER" data-v-edb22eef>Gp  Khc</option>',6)])],512),[[Vt,o.category]]),l[3]||(l[3]=s("i",{class:"fas fa-caret-down select-arrow"},null,-1))])]),s("div",wH,[l[5]||(l[5]=s("label",{class:"label-ink"},"Chi Tit S Vic:",-1)),$e(s("textarea",{"onUpdate:modelValue":l[1]||(l[1]=c=>o.description=c),class:"input-wood textarea",placeholder:"V d: Ti b kt  map Lc Dng...",rows:"6"},null,512),[[Te,o.description]])]),s("div",$H,[s("button",{class:"btn-submit-seal",onClick:a,disabled:n.value||!o.category||!o.description},[n.value?(v(),m("span",EH,[...l[7]||(l[7]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),J(" ang kt ni...",-1)])])):(v(),m("span",TH,[...l[6]||(l[6]=[s("i",{class:"fas fa-comments"},null,-1),J(" BT U CHAT VI ADMIN",-1)])]))],8,CH)])]),l[9]||(l[9]=s("div",{class:"faq-section"},[s("div",{class:"faq-title"},"Lu :"),s("ul",{class:"faq-list"},[s("li",null,"Admin khng bao gi hi mt khu ca bn."),s("li",null,"Vn  np th vui lng cung cp m giao dch."),s("li",null,"C tnh bo tin gi s b cm ngn.")])],-1))]),fe(Hr)]))}},SH=Fe(kH,[["__scopeId","data-v-edb22eef"]]),IH={},xH={class:"game-page"};function NH(e,t){return v(),m("div",xH,[...t[0]||(t[0]=[Ot('<div class="section-title" data-v-7f83ea27><h2 data-v-7f83ea27>Chnh Sch Bo Mt</h2><div class="title-decor" data-v-7f83ea27></div></div><div class="wuxia-panel content-scroll" data-v-7f83ea27><p data-v-7f83ea27><strong data-v-7f83ea27>1. Thu thp thng tin:</strong> Chng ti ch thu thp tn ti khon, email  phc v vic ng nhp v bo mt. </p><p data-v-7f83ea27><strong data-v-7f83ea27>2. Bo v d liu:</strong> Mt khu ca o hu c m ha (Bcrypt) v lu tr an ton trong Tng Kinh Cc. </p><p data-v-7f83ea27><strong data-v-7f83ea27>3. Chia s thng tin:</strong> Chng ti cam kt khng chia s thng tin ca o hu cho bt k mn phi th ba no. </p><p data-v-7f83ea27><em data-v-7f83ea27>(y l vn bn mu, vui lng cp nht theo chnh sch thc t ca bn).</em></p></div>',2)])])}const AH=Fe(IH,[["render",NH],["__scopeId","data-v-7f83ea27"]]),RH={},LH={class:"game-page"};function OH(e,t){return v(),m("div",LH,[...t[0]||(t[0]=[Ot('<div class="section-title" data-v-2ca1534e><h2 data-v-2ca1534e>Lut L Giang H</h2><div class="title-decor" data-v-2ca1534e></div></div><div class="wuxia-panel" data-v-2ca1534e><ul class="rules-list" data-v-2ca1534e><li data-v-2ca1534e><span class="num" data-v-2ca1534e>1</span><div class="content" data-v-2ca1534e><strong data-v-2ca1534e>Cm S Dng T Thut (Hack/Cheat):</strong><p data-v-2ca1534e> Mi hnh vi can thip vo d liu tr chi s b ph b tu vi vnh vin (Ban nick). </p></div></li><li data-v-2ca1534e><span class="num" data-v-2ca1534e>2</span><div class="content" data-v-2ca1534e><strong data-v-2ca1534e>Tn Trng ng o:</strong><p data-v-2ca1534e> Khng lng m, xc phm ngi chi khc trn knh th gii. Giang h him c nhng cn gi l ngha. </p></div></li><li data-v-2ca1534e><span class="num" data-v-2ca1534e>3</span><div class="content" data-v-2ca1534e><strong data-v-2ca1534e>Giao Dch Cn Trng:</strong><p data-v-2ca1534e> Bn trang khng chu trch nhim vi cc giao dch ngoi lung (RMT) b la o. </p></div></li></ul></div>',2)])])}const PH=Fe(RH,[["render",OH],["__scopeId","data-v-2ca1534e"]]),MH={class:"game-page"},HH={class:"wuxia-panel form-container"},UH={class:"form-group"},DH=["disabled"],BH={class:"form-group"},qH=["disabled"],FH={class:"form-actions"},GH=["disabled"],VH={key:0},jH={key:1},KH="http://localhost:8080/api/report/send",WH={__name:"ReportView",setup(e){const t=Qe(),n=M({title:"",description:""}),o=M(!1),i=async()=>{if(!(!n.value.title||!n.value.description)){o.value=!0;try{const a=await et.post(KH,{title:n.value.title,description:n.value.description},{headers:{Authorization:`Bearer ${t.token}`}});(a.status===200||a.status===201)&&(alert("Cm n o hu! Tu chng  c gi v triu nh."),n.value={title:"",description:""})}catch(a){console.error("Li gi bo co:",a),alert("C li xy ra khi kt ni ti my ch. Vui lng th li sau.")}finally{o.value=!1}}};return(a,r)=>(v(),m("div",MH,[r[6]||(r[6]=s("div",{class:"section-title"},[s("h2",null,"Bo Co Li"),s("div",{class:"title-decor"})],-1)),s("div",HH,[r[5]||(r[5]=s("p",{class:"desc"}," Pht hin li game? Hy bo cho chng ti  nhn thng Linh Thch. ",-1)),s("form",{onSubmit:Ze(i,["prevent"])},[s("div",UH,[r[2]||(r[2]=s("label",null,"Tiu  Li",-1)),$e(s("input",{type:"text",placeholder:"V d: Li khng nht c vt phm...","onUpdate:modelValue":r[0]||(r[0]=l=>n.value.title=l),required:"",disabled:o.value},null,8,DH),[[Te,n.value.title]])]),s("div",BH,[r[3]||(r[3]=s("label",null,"M T Chi Tit",-1)),$e(s("textarea",{rows:"5",placeholder:"M t cc bc  ti hin li...","onUpdate:modelValue":r[1]||(r[1]=l=>n.value.description=l),required:"",disabled:o.value},null,8,qH),[[Te,n.value.description]])]),s("div",FH,[s("button",{type:"submit",class:"submit-btn",disabled:o.value},[o.value?(v(),m("span",VH,[...r[4]||(r[4]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),J(" ang Gi...",-1)])])):(v(),m("span",jH,"Gi Tu Chng"))],8,GH)])],32)])]))}},zH=Fe(WH,[["__scopeId","data-v-ebf627ce"]]),XH={},YH={class:"game-page"};function JH(e,t){return v(),m("div",YH,[...t[0]||(t[0]=[Ot('<div class="section-title" data-v-6e079f7c><h2 data-v-6e079f7c>Nht K Cp Nht</h2><div class="title-decor" data-v-6e079f7c></div></div><div class="timeline" data-v-6e079f7c><div class="timeline-item" data-v-6e079f7c><div class="time-marker" data-v-6e079f7c></div><div class="update-card latest" data-v-6e079f7c><div class="card-header" data-v-6e079f7c><span class="version" data-v-6e079f7c>v1.0.2 - Open Beta</span><span class="date" data-v-6e079f7c>08/12/2025</span></div><ul class="changes" data-v-6e079f7c><li data-v-6e079f7c><i class="fas fa-plus-circle" data-v-6e079f7c></i> Ra mt tnh nng Bang Hi. </li><li data-v-6e079f7c><i class="fas fa-wrench" data-v-6e079f7c></i> Cn bng sc mnh phi V ang. </li><li data-v-6e079f7c><i class="fas fa-bug" data-v-6e079f7c></i> Sa li hin th Ti .</li></ul></div></div><div class="timeline-item" data-v-6e079f7c><div class="time-marker" data-v-6e079f7c></div><div class="update-card" data-v-6e079f7c><div class="card-header" data-v-6e079f7c><span class="version" data-v-6e079f7c>v1.0.1 - Alpha Test</span><span class="date" data-v-6e079f7c>01/11/2025</span></div><ul class="changes" data-v-6e079f7c><li data-v-6e079f7c><i class="fas fa-plus-circle" data-v-6e079f7c></i> M bn  Rng Trc.</li><li data-v-6e079f7c><i class="fas fa-plus-circle" data-v-6e079f7c></i> H thng ng hnh tng khc. </li></ul></div></div></div>',2)])])}const QH=Fe(XH,[["render",JH],["__scopeId","data-v-6e079f7c"]]);function ZH(e){if(!e)return!0;try{return JSON.parse(window.atob(e.split(".")[1])).exp*1e3<Date.now()}catch{return!0}}const fh=ag({history:Um("/"),routes:[{path:"/",name:"Home",component:Vw,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:i$},{path:"/register",name:"Register",component:b$},{path:"/forgot-password",name:"ForgotPassword",component:L$},{path:"/character",name:"Character",component:DC,meta:{requiresAuth:!0}},{path:"/create-character",name:"CreateCharacter",component:FC,meta:{requiresAuth:!0}},{path:"/village",name:"Village",component:AT,meta:{requiresAuth:!0}},{path:"/battle",name:"Battle",component:oE,meta:{requiresAuth:!0}},{path:"/combat",name:"Combat",component:CE,meta:{requiresAuth:!0}},{path:"/explore",name:"Explore",component:Mk,meta:{requiresAuth:!0}},{path:"/gathering",name:"Gathering",component:gS,meta:{requiresAuth:!0}},{path:"/inventory",name:"Inventory",component:zI,meta:{requiresAuth:!0}},{path:"/marketplace",name:"Marketplace",component:TN,meta:{requiresAuth:!0}},{path:"/forge",name:"Forge",component:wA,meta:{requiresAuth:!0}},{path:"/evolve-mythic",name:"EvolveMythic",component:JA,meta:{requiresAuth:!0}},{path:"/pvp",name:"PvpArena",component:A3,meta:{requiresAuth:!0}},{path:"/dump",name:"Dump",component:wL,meta:{requiresAuth:!0}},{path:"/leaderboard",name:"Leaderboard",component:rO,meta:{requiresAuth:!0}},{path:"/friends",name:"Friends",component:jO,meta:{requiresAuth:!0}},{path:"/notifications",name:"Notifications",component:CP,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:oM,meta:{requiresAuth:!0}},{path:"/admin",name:"Admin",component:rH,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/about",name:"About",component:vH},{path:"/help",name:"Help",component:SH},{path:"/privacy",name:"Privacy",component:AH},{path:"/rules",name:"Rules",component:PH},{path:"/report",name:"Report",component:zH},{path:"/updates",name:"Updates",component:QH}]});fh.beforeEach(async(e,t,n)=>{const i=!["/login","/register","/forgot-password","/about","/help","/privacy","/rules","/updates"].includes(e.path),a=Qe();if(a.token&&ZH(a.token))return console.warn(" Token detected but expired. Logging out..."),a.logout(),n("/login");if(i&&!a.token)return n("/login");if(a.token&&(e.path==="/login"||e.path==="/register"))return n("/village");n()});const qr=Kv(mw),e8=Xv();qr.use(e8);qr.use(fh);qr.mount("#app");const t8=()=>{const e=`
                   
          
                   
                   
            
                       
  `,t={badge:`
      background: linear-gradient(135deg, #3e2723 0%, #5d4037 100%);
      border: 1px solid #fbc02d;
      color: #fff;
      padding: 5px 10px;
      border-radius: 4px;
      font-family: 'Noto Serif TC', serif;
      font-weight: bold;
    `,warningHeader:`
      color: #d32f2f;
      font-size: 30px;
      font-weight: bold;
      background: #000;
      padding: 10px;
      border-radius: 5px;
      font-family: sans-serif;
    `,warningText:`
      font-size: 14px; 
      color: #fff; 
      background: #333; 
      padding: 5px; 
      border-radius: 4px;
    `};console.log(`%c${e}`,"color: #5d4037; font-weight: bold;"),console.groupCollapsed("%c NHT K H THNG (Click  xem)","color: #8d6e63; font-weight: bold;"),console.log("%c  Phin bn: 1.0.0 (Alpha) ",t.badge),console.log("%c  Engine: Vue 3 + Pinia + Vite ",t.badge),console.log("%c  Trng thi: Linh kh sung mn, sn sng hnh tu! ","color: #2e7d32; font-weight: bold; margin-top: 5px;"),console.log("%c  Dev: LuNu & Trung Tnh ","color: #1976d2; font-weight: bold;"),console.groupEnd(),console.log("%c CM A GIANG H! ",t.warningHeader),console.log('%ci hip dng bc! Nu c k gian d d i hip dn code (Self-XSS) vo y  nhn "Thn Binh" hay "KNB",  l la o! Ti khon ca ngi s b nh cp trong nhy mt.',t.warningText)};t8();
